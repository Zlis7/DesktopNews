(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var Hf={exports:{}},Da={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h_;function Pb(){if(h_)return Da;h_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,c){var h=null;if(c!==void 0&&(h=""+c),o.key!==void 0&&(h=""+o.key),"key"in o){c={};for(var d in o)d!=="key"&&(c[d]=o[d])}else c=o;return o=c.ref,{$$typeof:s,type:a,key:h,ref:o!==void 0?o:null,props:c}}return Da.Fragment=e,Da.jsx=i,Da.jsxs=i,Da}var d_;function Hb(){return d_||(d_=1,Hf.exports=Pb()),Hf.exports}var w=Hb(),jf={exports:{}},Ia={},Bf={exports:{}},qf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p_;function jb(){return p_||(p_=1,function(s){function e(V,se){var te=V.length;V.push(se);e:for(;0<te;){var Ae=te-1>>>1,b=V[Ae];if(0<o(b,se))V[Ae]=se,V[te]=b,te=Ae;else break e}}function i(V){return V.length===0?null:V[0]}function a(V){if(V.length===0)return null;var se=V[0],te=V.pop();if(te!==se){V[0]=te;e:for(var Ae=0,b=V.length,H=b>>>1;Ae<H;){var Z=2*(Ae+1)-1,W=V[Z],G=Z+1,me=V[G];if(0>o(W,te))G<b&&0>o(me,W)?(V[Ae]=me,V[G]=te,Ae=G):(V[Ae]=W,V[Z]=te,Ae=Z);else if(G<b&&0>o(me,te))V[Ae]=me,V[G]=te,Ae=G;else break e}}return se}function o(V,se){var te=V.sortIndex-se.sortIndex;return te!==0?te:V.id-se.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var h=Date,d=h.now();s.unstable_now=function(){return h.now()-d}}var p=[],m=[],v=1,y=null,S=3,N=!1,R=!1,L=!1,z=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function B(V){for(var se=i(m);se!==null;){if(se.callback===null)a(m);else if(se.startTime<=V)a(m),se.sortIndex=se.expirationTime,e(p,se);else break;se=i(m)}}function de(V){if(L=!1,B(V),!R)if(i(p)!==null)R=!0,Tn();else{var se=i(m);se!==null&&bt(de,se.startTime-V)}}var $=!1,Ie=-1,Ve=5,Je=-1;function F(){return!(s.unstable_now()-Je<Ve)}function ie(){if($){var V=s.unstable_now();Je=V;var se=!0;try{e:{R=!1,L&&(L=!1,P(Ie),Ie=-1),N=!0;var te=S;try{t:{for(B(V),y=i(p);y!==null&&!(y.expirationTime>V&&F());){var Ae=y.callback;if(typeof Ae=="function"){y.callback=null,S=y.priorityLevel;var b=Ae(y.expirationTime<=V);if(V=s.unstable_now(),typeof b=="function"){y.callback=b,B(V),se=!0;break t}y===i(p)&&a(p),B(V)}else a(p);y=i(p)}if(y!==null)se=!0;else{var H=i(m);H!==null&&bt(de,H.startTime-V),se=!1}}break e}finally{y=null,S=te,N=!1}se=void 0}}finally{se?gt():$=!1}}}var gt;if(typeof q=="function")gt=function(){q(ie)};else if(typeof MessageChannel<"u"){var bn=new MessageChannel,cn=bn.port2;bn.port1.onmessage=ie,gt=function(){cn.postMessage(null)}}else gt=function(){z(ie,0)};function Tn(){$||($=!0,gt())}function bt(V,se){Ie=z(function(){V(s.unstable_now())},se)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(V){V.callback=null},s.unstable_continueExecution=function(){R||N||(R=!0,Tn())},s.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ve=0<V?Math.floor(1e3/V):5},s.unstable_getCurrentPriorityLevel=function(){return S},s.unstable_getFirstCallbackNode=function(){return i(p)},s.unstable_next=function(V){switch(S){case 1:case 2:case 3:var se=3;break;default:se=S}var te=S;S=se;try{return V()}finally{S=te}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(V,se){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var te=S;S=V;try{return se()}finally{S=te}},s.unstable_scheduleCallback=function(V,se,te){var Ae=s.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?Ae+te:Ae):te=Ae,V){case 1:var b=-1;break;case 2:b=250;break;case 5:b=1073741823;break;case 4:b=1e4;break;default:b=5e3}return b=te+b,V={id:v++,callback:se,priorityLevel:V,startTime:te,expirationTime:b,sortIndex:-1},te>Ae?(V.sortIndex=te,e(m,V),i(p)===null&&V===i(m)&&(L?(P(Ie),Ie=-1):L=!0,bt(de,te-Ae))):(V.sortIndex=b,e(p,V),R||N||(R=!0,Tn())),V},s.unstable_shouldYield=F,s.unstable_wrapCallback=function(V){var se=S;return function(){var te=S;S=se;try{return V.apply(this,arguments)}finally{S=te}}}}(qf)),qf}var m_;function Bb(){return m_||(m_=1,Bf.exports=jb()),Bf.exports}var Vf={exports:{}},re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g_;function qb(){if(g_)return re;g_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.iterator;function S(b){return b===null||typeof b!="object"?null:(b=y&&b[y]||b["@@iterator"],typeof b=="function"?b:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,L={};function z(b,H,Z){this.props=b,this.context=H,this.refs=L,this.updater=Z||N}z.prototype.isReactComponent={},z.prototype.setState=function(b,H){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,H,"setState")},z.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function P(){}P.prototype=z.prototype;function q(b,H,Z){this.props=b,this.context=H,this.refs=L,this.updater=Z||N}var B=q.prototype=new P;B.constructor=q,R(B,z.prototype),B.isPureReactComponent=!0;var de=Array.isArray,$={H:null,A:null,T:null,S:null},Ie=Object.prototype.hasOwnProperty;function Ve(b,H,Z,W,G,me){return Z=me.ref,{$$typeof:s,type:b,key:H,ref:Z!==void 0?Z:null,props:me}}function Je(b,H){return Ve(b.type,H,void 0,void 0,void 0,b.props)}function F(b){return typeof b=="object"&&b!==null&&b.$$typeof===s}function ie(b){var H={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(Z){return H[Z]})}var gt=/\/+/g;function bn(b,H){return typeof b=="object"&&b!==null&&b.key!=null?ie(""+b.key):H.toString(36)}function cn(){}function Tn(b){switch(b.status){case"fulfilled":return b.value;case"rejected":throw b.reason;default:switch(typeof b.status=="string"?b.then(cn,cn):(b.status="pending",b.then(function(H){b.status==="pending"&&(b.status="fulfilled",b.value=H)},function(H){b.status==="pending"&&(b.status="rejected",b.reason=H)})),b.status){case"fulfilled":return b.value;case"rejected":throw b.reason}}throw b}function bt(b,H,Z,W,G){var me=typeof b;(me==="undefined"||me==="boolean")&&(b=null);var ae=!1;if(b===null)ae=!0;else switch(me){case"bigint":case"string":case"number":ae=!0;break;case"object":switch(b.$$typeof){case s:case e:ae=!0;break;case v:return ae=b._init,bt(ae(b._payload),H,Z,W,G)}}if(ae)return G=G(b),ae=W===""?"."+bn(b,0):W,de(G)?(Z="",ae!=null&&(Z=ae.replace(gt,"$&/")+"/"),bt(G,H,Z,"",function(Fe){return Fe})):G!=null&&(F(G)&&(G=Je(G,Z+(G.key==null||b&&b.key===G.key?"":(""+G.key).replace(gt,"$&/")+"/")+ae)),H.push(G)),1;ae=0;var _t=W===""?".":W+":";if(de(b))for(var Ee=0;Ee<b.length;Ee++)W=b[Ee],me=_t+bn(W,Ee),ae+=bt(W,H,Z,me,G);else if(Ee=S(b),typeof Ee=="function")for(b=Ee.call(b),Ee=0;!(W=b.next()).done;)W=W.value,me=_t+bn(W,Ee++),ae+=bt(W,H,Z,me,G);else if(me==="object"){if(typeof b.then=="function")return bt(Tn(b),H,Z,W,G);throw H=String(b),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return ae}function V(b,H,Z){if(b==null)return b;var W=[],G=0;return bt(b,W,"","",function(me){return H.call(Z,me,G++)}),W}function se(b){if(b._status===-1){var H=b._result;H=H(),H.then(function(Z){(b._status===0||b._status===-1)&&(b._status=1,b._result=Z)},function(Z){(b._status===0||b._status===-1)&&(b._status=2,b._result=Z)}),b._status===-1&&(b._status=0,b._result=H)}if(b._status===1)return b._result.default;throw b._result}var te=typeof reportError=="function"?reportError:function(b){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof b=="object"&&b!==null&&typeof b.message=="string"?String(b.message):String(b),error:b});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",b);return}console.error(b)};function Ae(){}return re.Children={map:V,forEach:function(b,H,Z){V(b,function(){H.apply(this,arguments)},Z)},count:function(b){var H=0;return V(b,function(){H++}),H},toArray:function(b){return V(b,function(H){return H})||[]},only:function(b){if(!F(b))throw Error("React.Children.only expected to receive a single React element child.");return b}},re.Component=z,re.Fragment=i,re.Profiler=o,re.PureComponent=q,re.StrictMode=a,re.Suspense=p,re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,re.act=function(){throw Error("act(...) is not supported in production builds of React.")},re.cache=function(b){return function(){return b.apply(null,arguments)}},re.cloneElement=function(b,H,Z){if(b==null)throw Error("The argument must be a React element, but you passed "+b+".");var W=R({},b.props),G=b.key,me=void 0;if(H!=null)for(ae in H.ref!==void 0&&(me=void 0),H.key!==void 0&&(G=""+H.key),H)!Ie.call(H,ae)||ae==="key"||ae==="__self"||ae==="__source"||ae==="ref"&&H.ref===void 0||(W[ae]=H[ae]);var ae=arguments.length-2;if(ae===1)W.children=Z;else if(1<ae){for(var _t=Array(ae),Ee=0;Ee<ae;Ee++)_t[Ee]=arguments[Ee+2];W.children=_t}return Ve(b.type,G,void 0,void 0,me,W)},re.createContext=function(b){return b={$$typeof:h,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null},b.Provider=b,b.Consumer={$$typeof:c,_context:b},b},re.createElement=function(b,H,Z){var W,G={},me=null;if(H!=null)for(W in H.key!==void 0&&(me=""+H.key),H)Ie.call(H,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(G[W]=H[W]);var ae=arguments.length-2;if(ae===1)G.children=Z;else if(1<ae){for(var _t=Array(ae),Ee=0;Ee<ae;Ee++)_t[Ee]=arguments[Ee+2];G.children=_t}if(b&&b.defaultProps)for(W in ae=b.defaultProps,ae)G[W]===void 0&&(G[W]=ae[W]);return Ve(b,me,void 0,void 0,null,G)},re.createRef=function(){return{current:null}},re.forwardRef=function(b){return{$$typeof:d,render:b}},re.isValidElement=F,re.lazy=function(b){return{$$typeof:v,_payload:{_status:-1,_result:b},_init:se}},re.memo=function(b,H){return{$$typeof:m,type:b,compare:H===void 0?null:H}},re.startTransition=function(b){var H=$.T,Z={};$.T=Z;try{var W=b(),G=$.S;G!==null&&G(Z,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(Ae,te)}catch(me){te(me)}finally{$.T=H}},re.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},re.use=function(b){return $.H.use(b)},re.useActionState=function(b,H,Z){return $.H.useActionState(b,H,Z)},re.useCallback=function(b,H){return $.H.useCallback(b,H)},re.useContext=function(b){return $.H.useContext(b)},re.useDebugValue=function(){},re.useDeferredValue=function(b,H){return $.H.useDeferredValue(b,H)},re.useEffect=function(b,H){return $.H.useEffect(b,H)},re.useId=function(){return $.H.useId()},re.useImperativeHandle=function(b,H,Z){return $.H.useImperativeHandle(b,H,Z)},re.useInsertionEffect=function(b,H){return $.H.useInsertionEffect(b,H)},re.useLayoutEffect=function(b,H){return $.H.useLayoutEffect(b,H)},re.useMemo=function(b,H){return $.H.useMemo(b,H)},re.useOptimistic=function(b,H){return $.H.useOptimistic(b,H)},re.useReducer=function(b,H,Z){return $.H.useReducer(b,H,Z)},re.useRef=function(b){return $.H.useRef(b)},re.useState=function(b){return $.H.useState(b)},re.useSyncExternalStore=function(b,H,Z){return $.H.useSyncExternalStore(b,H,Z)},re.useTransition=function(){return $.H.useTransition()},re.version="19.0.0",re}var __;function Mh(){return __||(__=1,Vf.exports=qb()),Vf.exports}var Ff={exports:{}},dt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v_;function Vb(){if(v_)return dt;v_=1;var s=Mh();function e(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,m,v){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:y==null?null:""+y,children:p,containerInfo:m,implementation:v}}var h=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return dt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,dt.createPortal=function(p,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return c(p,m,null,v)},dt.flushSync=function(p){var m=h.T,v=a.p;try{if(h.T=null,a.p=2,p)return p()}finally{h.T=m,a.p=v,a.d.f()}},dt.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,a.d.C(p,m))},dt.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},dt.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var v=m.as,y=d(v,m.crossOrigin),S=typeof m.integrity=="string"?m.integrity:void 0,N=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?a.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:y,integrity:S,fetchPriority:N}):v==="script"&&a.d.X(p,{crossOrigin:y,integrity:S,fetchPriority:N,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},dt.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=d(m.as,m.crossOrigin);a.d.M(p,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&a.d.M(p)},dt.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,y=d(v,m.crossOrigin);a.d.L(p,v,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},dt.preloadModule=function(p,m){if(typeof p=="string")if(m){var v=d(m.as,m.crossOrigin);a.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else a.d.m(p)},dt.requestFormReset=function(p){a.d.r(p)},dt.unstable_batchedUpdates=function(p,m){return p(m)},dt.useFormState=function(p,m,v){return h.H.useFormState(p,m,v)},dt.useFormStatus=function(){return h.H.useHostTransitionStatus()},dt.version="19.0.0",dt}var y_;function Fb(){if(y_)return Ff.exports;y_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Ff.exports=Vb(),Ff.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E_;function Gb(){if(E_)return Ia;E_=1;var s=Bb(),e=Mh(),i=Fb();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var c=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),d=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),S=Symbol.for("react.consumer"),N=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),B=Symbol.for("react.offscreen"),de=Symbol.for("react.memo_cache_sentinel"),$=Symbol.iterator;function Ie(t){return t===null||typeof t!="object"?null:(t=$&&t[$]||t["@@iterator"],typeof t=="function"?t:null)}var Ve=Symbol.for("react.client.reference");function Je(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Ve?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case p:return"Fragment";case d:return"Portal";case v:return"Profiler";case m:return"StrictMode";case L:return"Suspense";case z:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case N:return(t.displayName||"Context")+".Provider";case S:return(t._context.displayName||"Context")+".Consumer";case R:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case P:return n=t.displayName||null,n!==null?n:Je(t.type)||"Memo";case q:n=t._payload,t=t._init;try{return Je(t(n))}catch{}}return null}var F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=Object.assign,gt,bn;function cn(t){if(gt===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);gt=n&&n[1]||"",bn=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+gt+t+bn}var Tn=!1;function bt(t,n){if(!t||Tn)return"";Tn=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var U=function(){throw Error()};if(Object.defineProperty(U.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(U,[])}catch(x){var D=x}Reflect.construct(t,[],U)}else{try{U.call()}catch(x){D=x}t.call(U.prototype)}}else{try{throw Error()}catch(x){D=x}(U=t())&&typeof U.catch=="function"&&U.catch(function(){})}}catch(x){if(x&&D&&typeof x.stack=="string")return[x.stack,D.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],_=f[1];if(g&&_){var E=g.split(`
`),C=_.split(`
`);for(u=l=0;l<E.length&&!E[l].includes("DetermineComponentFrameRoot");)l++;for(;u<C.length&&!C[u].includes("DetermineComponentFrameRoot");)u++;if(l===E.length||u===C.length)for(l=E.length-1,u=C.length-1;1<=l&&0<=u&&E[l]!==C[u];)u--;for(;1<=l&&0<=u;l--,u--)if(E[l]!==C[u]){if(l!==1||u!==1)do if(l--,u--,0>u||E[l]!==C[u]){var M=`
`+E[l].replace(" at new "," at ");return t.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",t.displayName)),M}while(1<=l&&0<=u);break}}}finally{Tn=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?cn(r):""}function V(t){switch(t.tag){case 26:case 27:case 5:return cn(t.type);case 16:return cn("Lazy");case 13:return cn("Suspense");case 19:return cn("SuspenseList");case 0:case 15:return t=bt(t.type,!1),t;case 11:return t=bt(t.type.render,!1),t;case 1:return t=bt(t.type,!0),t;default:return""}}function se(t){try{var n="";do n+=V(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function te(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,n.flags&4098&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function Ae(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function b(t){if(te(t)!==t)throw Error(a(188))}function H(t){var n=t.alternate;if(!n){if(n=te(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var u=r.return;if(u===null)break;var f=u.alternate;if(f===null){if(l=u.return,l!==null){r=l;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===r)return b(u),t;if(f===l)return b(u),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=u,l=f;else{for(var g=!1,_=u.child;_;){if(_===r){g=!0,r=u,l=f;break}if(_===l){g=!0,l=u,r=f;break}_=_.sibling}if(!g){for(_=f.child;_;){if(_===r){g=!0,r=f,l=u;break}if(_===l){g=!0,l=f,r=u;break}_=_.sibling}if(!g)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function Z(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=Z(t),n!==null)return n;t=t.sibling}return null}var W=Array.isArray,G=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},ae=[],_t=-1;function Ee(t){return{current:t}}function Fe(t){0>_t||(t.current=ae[_t],ae[_t]=null,_t--)}function Me(t,n){_t++,ae[_t]=t.current,t.current=n}var fn=Ee(null),Mr=Ee(null),ni=Ee(null),vl=Ee(null);function yl(t,n){switch(Me(ni,n),Me(Mr,t),Me(fn,null),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)&&(n=n.namespaceURI)?Bg(n):0;break;default:if(t=t===8?n.parentNode:n,n=t.tagName,t=t.namespaceURI)t=Bg(t),n=qg(t,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}Fe(fn),Me(fn,n)}function As(){Fe(fn),Fe(Mr),Fe(ni)}function Ou(t){t.memoizedState!==null&&Me(vl,t);var n=fn.current,r=qg(n,t.type);n!==r&&(Me(Mr,t),Me(fn,r))}function El(t){Mr.current===t&&(Fe(fn),Fe(Mr)),vl.current===t&&(Fe(vl),wa._currentValue=me)}var Du=Object.prototype.hasOwnProperty,Iu=s.unstable_scheduleCallback,xu=s.unstable_cancelCallback,g0=s.unstable_shouldYield,_0=s.unstable_requestPaint,hn=s.unstable_now,v0=s.unstable_getCurrentPriorityLevel,Dd=s.unstable_ImmediatePriority,Id=s.unstable_UserBlockingPriority,Sl=s.unstable_NormalPriority,y0=s.unstable_LowPriority,xd=s.unstable_IdlePriority,E0=s.log,S0=s.unstable_setDisableYieldValue,kr=null,It=null;function b0(t){if(It&&typeof It.onCommitFiberRoot=="function")try{It.onCommitFiberRoot(kr,t,void 0,(t.current.flags&128)===128)}catch{}}function ii(t){if(typeof E0=="function"&&S0(t),It&&typeof It.setStrictMode=="function")try{It.setStrictMode(kr,t)}catch{}}var xt=Math.clz32?Math.clz32:w0,T0=Math.log,C0=Math.LN2;function w0(t){return t>>>=0,t===0?32:31-(T0(t)/C0|0)|0}var bl=128,Tl=4194304;function Vi(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Cl(t,n){var r=t.pendingLanes;if(r===0)return 0;var l=0,u=t.suspendedLanes,f=t.pingedLanes,g=t.warmLanes;t=t.finishedLanes!==0;var _=r&134217727;return _!==0?(r=_&~u,r!==0?l=Vi(r):(f&=_,f!==0?l=Vi(f):t||(g=_&~g,g!==0&&(l=Vi(g))))):(_=r&~u,_!==0?l=Vi(_):f!==0?l=Vi(f):t||(g=r&~g,g!==0&&(l=Vi(g)))),l===0?0:n!==0&&n!==l&&!(n&u)&&(u=l&-l,g=n&-n,u>=g||u===32&&(g&4194176)!==0)?n:l}function Lr(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function R0(t,n){switch(t){case 1:case 2:case 4:case 8:return n+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Md(){var t=bl;return bl<<=1,!(bl&4194176)&&(bl=128),t}function kd(){var t=Tl;return Tl<<=1,!(Tl&62914560)&&(Tl=4194304),t}function Mu(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function Ur(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function A0(t,n,r,l,u,f){var g=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var _=t.entanglements,E=t.expirationTimes,C=t.hiddenUpdates;for(r=g&~r;0<r;){var M=31-xt(r),U=1<<M;_[M]=0,E[M]=-1;var D=C[M];if(D!==null)for(C[M]=null,M=0;M<D.length;M++){var x=D[M];x!==null&&(x.lane&=-536870913)}r&=~U}l!==0&&Ld(t,l,0),f!==0&&u===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function Ld(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-xt(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194218}function Ud(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-xt(r),u=1<<l;u&n|t[l]&n&&(t[l]|=n),r&=~u}}function zd(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function Pd(){var t=G.p;return t!==0?t:(t=window.event,t===void 0?32:a_(t.type))}function N0(t,n){var r=G.p;try{return G.p=t,n()}finally{G.p=r}}var si=Math.random().toString(36).slice(2),ft="__reactFiber$"+si,Tt="__reactProps$"+si,Ns="__reactContainer$"+si,ku="__reactEvents$"+si,O0="__reactListeners$"+si,D0="__reactHandles$"+si,Hd="__reactResources$"+si,zr="__reactMarker$"+si;function Lu(t){delete t[ft],delete t[Tt],delete t[ku],delete t[O0],delete t[D0]}function Fi(t){var n=t[ft];if(n)return n;for(var r=t.parentNode;r;){if(n=r[Ns]||r[ft]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=Gg(t);t!==null;){if(r=t[ft])return r;t=Gg(t)}return n}t=r,r=t.parentNode}return null}function Os(t){if(t=t[ft]||t[Ns]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Pr(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Ds(t){var n=t[Hd];return n||(n=t[Hd]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function et(t){t[zr]=!0}var jd=new Set,Bd={};function Gi(t,n){Is(t,n),Is(t+"Capture",n)}function Is(t,n){for(Bd[t]=n,t=0;t<n.length;t++)jd.add(n[t])}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),I0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),qd={},Vd={};function x0(t){return Du.call(Vd,t)?!0:Du.call(qd,t)?!1:I0.test(t)?Vd[t]=!0:(qd[t]=!0,!1)}function wl(t,n,r){if(x0(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Rl(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function wn(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}function Pt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Fd(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function M0(t){var n=Fd(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var u=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return u.call(this)},set:function(g){l=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(g){l=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Al(t){t._valueTracker||(t._valueTracker=M0(t))}function Gd(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=Fd(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Nl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var k0=/[\n"\\]/g;function Ht(t){return t.replace(k0,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Uu(t,n,r,l,u,f,g,_){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Pt(n)):t.value!==""+Pt(n)&&(t.value=""+Pt(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?zu(t,g,Pt(n)):r!=null?zu(t,g,Pt(r)):l!=null&&t.removeAttribute("value"),u==null&&f!=null&&(t.defaultChecked=!!f),u!=null&&(t.checked=u&&typeof u!="function"&&typeof u!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.name=""+Pt(_):t.removeAttribute("name")}function Yd(t,n,r,l,u,f,g,_){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+Pt(r):"",n=n!=null?""+Pt(n):r,_||n===t.value||(t.value=n),t.defaultValue=n}l=l??u,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=_?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g)}function zu(t,n,r){n==="number"&&Nl(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function xs(t,n,r,l){if(t=t.options,n){n={};for(var u=0;u<r.length;u++)n["$"+r[u]]=!0;for(r=0;r<t.length;r++)u=n.hasOwnProperty("$"+t[r].value),t[r].selected!==u&&(t[r].selected=u),u&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Pt(r),n=null,u=0;u<t.length;u++){if(t[u].value===r){t[u].selected=!0,l&&(t[u].defaultSelected=!0);return}n!==null||t[u].disabled||(n=t[u])}n!==null&&(n.selected=!0)}}function Kd(t,n,r){if(n!=null&&(n=""+Pt(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Pt(r):""}function Qd(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(W(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Pt(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function Ms(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var L0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Wd(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||L0.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Xd(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var u in n)l=n[u],n.hasOwnProperty(u)&&r[u]!==l&&Wd(t,u,l)}else for(var f in n)n.hasOwnProperty(f)&&Wd(t,f,n[f])}function Pu(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var U0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),z0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ol(t){return z0.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Hu=null;function ju(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ks=null,Ls=null;function $d(t){var n=Os(t);if(n&&(t=n.stateNode)){var r=t[Tt]||null;e:switch(t=n.stateNode,n.type){case"input":if(Uu(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Ht(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var u=l[Tt]||null;if(!u)throw Error(a(90));Uu(l,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Gd(l)}break e;case"textarea":Kd(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&xs(t,!!r.multiple,n,!1)}}}var Bu=!1;function Zd(t,n,r){if(Bu)return t(n,r);Bu=!0;try{var l=t(n);return l}finally{if(Bu=!1,(ks!==null||Ls!==null)&&(ho(),ks&&(n=ks,t=Ls,Ls=ks=null,$d(n),t)))for(n=0;n<t.length;n++)$d(t[n])}}function Hr(t,n){var r=t.stateNode;if(r===null)return null;var l=r[Tt]||null;if(l===null)return null;r=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var qu=!1;if(Cn)try{var jr={};Object.defineProperty(jr,"passive",{get:function(){qu=!0}}),window.addEventListener("test",jr,jr),window.removeEventListener("test",jr,jr)}catch{qu=!1}var ri=null,Vu=null,Dl=null;function Jd(){if(Dl)return Dl;var t,n=Vu,r=n.length,l,u="value"in ri?ri.value:ri.textContent,f=u.length;for(t=0;t<r&&n[t]===u[t];t++);var g=r-t;for(l=1;l<=g&&n[r-l]===u[f-l];l++);return Dl=u.slice(t,1<l?1-l:void 0)}function Il(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function xl(){return!0}function ep(){return!1}function Ct(t){function n(r,l,u,f,g){this._reactName=r,this._targetInst=u,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var _ in t)t.hasOwnProperty(_)&&(r=t[_],this[_]=r?r(f):f[_]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?xl:ep,this.isPropagationStopped=ep,this}return ie(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=xl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=xl)},persist:function(){},isPersistent:xl}),n}var Yi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ml=Ct(Yi),Br=ie({},Yi,{view:0,detail:0}),P0=Ct(Br),Fu,Gu,qr,kl=ie({},Br,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ku,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==qr&&(qr&&t.type==="mousemove"?(Fu=t.screenX-qr.screenX,Gu=t.screenY-qr.screenY):Gu=Fu=0,qr=t),Fu)},movementY:function(t){return"movementY"in t?t.movementY:Gu}}),tp=Ct(kl),H0=ie({},kl,{dataTransfer:0}),j0=Ct(H0),B0=ie({},Br,{relatedTarget:0}),Yu=Ct(B0),q0=ie({},Yi,{animationName:0,elapsedTime:0,pseudoElement:0}),V0=Ct(q0),F0=ie({},Yi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),G0=Ct(F0),Y0=ie({},Yi,{data:0}),np=Ct(Y0),K0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Q0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},W0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function X0(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=W0[t])?!!n[t]:!1}function Ku(){return X0}var $0=ie({},Br,{key:function(t){if(t.key){var n=K0[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Il(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Q0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ku,charCode:function(t){return t.type==="keypress"?Il(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Il(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Z0=Ct($0),J0=ie({},kl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ip=Ct(J0),eS=ie({},Br,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ku}),tS=Ct(eS),nS=ie({},Yi,{propertyName:0,elapsedTime:0,pseudoElement:0}),iS=Ct(nS),sS=ie({},kl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),rS=Ct(sS),aS=ie({},Yi,{newState:0,oldState:0}),lS=Ct(aS),oS=[9,13,27,32],Qu=Cn&&"CompositionEvent"in window,Vr=null;Cn&&"documentMode"in document&&(Vr=document.documentMode);var uS=Cn&&"TextEvent"in window&&!Vr,sp=Cn&&(!Qu||Vr&&8<Vr&&11>=Vr),rp=" ",ap=!1;function lp(t,n){switch(t){case"keyup":return oS.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function op(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Us=!1;function cS(t,n){switch(t){case"compositionend":return op(n);case"keypress":return n.which!==32?null:(ap=!0,rp);case"textInput":return t=n.data,t===rp&&ap?null:t;default:return null}}function fS(t,n){if(Us)return t==="compositionend"||!Qu&&lp(t,n)?(t=Jd(),Dl=Vu=ri=null,Us=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return sp&&n.locale!=="ko"?null:n.data;default:return null}}var hS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function up(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!hS[t.type]:n==="textarea"}function cp(t,n,r,l){ks?Ls?Ls.push(l):Ls=[l]:ks=l,n=vo(n,"onChange"),0<n.length&&(r=new Ml("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Fr=null,Gr=null;function dS(t){Ug(t,0)}function Ll(t){var n=Pr(t);if(Gd(n))return t}function fp(t,n){if(t==="change")return n}var hp=!1;if(Cn){var Wu;if(Cn){var Xu="oninput"in document;if(!Xu){var dp=document.createElement("div");dp.setAttribute("oninput","return;"),Xu=typeof dp.oninput=="function"}Wu=Xu}else Wu=!1;hp=Wu&&(!document.documentMode||9<document.documentMode)}function pp(){Fr&&(Fr.detachEvent("onpropertychange",mp),Gr=Fr=null)}function mp(t){if(t.propertyName==="value"&&Ll(Gr)){var n=[];cp(n,Gr,t,ju(t)),Zd(dS,n)}}function pS(t,n,r){t==="focusin"?(pp(),Fr=n,Gr=r,Fr.attachEvent("onpropertychange",mp)):t==="focusout"&&pp()}function mS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ll(Gr)}function gS(t,n){if(t==="click")return Ll(n)}function _S(t,n){if(t==="input"||t==="change")return Ll(n)}function vS(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Mt=typeof Object.is=="function"?Object.is:vS;function Yr(t,n){if(Mt(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var u=r[l];if(!Du.call(n,u)||!Mt(t[u],n[u]))return!1}return!0}function gp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function _p(t,n){var r=gp(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=gp(r)}}function vp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?vp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function yp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Nl(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Nl(t.document)}return n}function $u(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function yS(t,n){var r=yp(n);n=t.focusedElem;var l=t.selectionRange;if(r!==n&&n&&n.ownerDocument&&vp(n.ownerDocument.documentElement,n)){if(l!==null&&$u(n)){if(t=l.start,r=l.end,r===void 0&&(r=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(r,n.value.length);else if(r=(t=n.ownerDocument||document)&&t.defaultView||window,r.getSelection){r=r.getSelection();var u=n.textContent.length,f=Math.min(l.start,u);l=l.end===void 0?f:Math.min(l.end,u),!r.extend&&f>l&&(u=l,l=f,f=u),u=_p(n,f);var g=_p(n,l);u&&g&&(r.rangeCount!==1||r.anchorNode!==u.node||r.anchorOffset!==u.offset||r.focusNode!==g.node||r.focusOffset!==g.offset)&&(t=t.createRange(),t.setStart(u.node,u.offset),r.removeAllRanges(),f>l?(r.addRange(t),r.extend(g.node,g.offset)):(t.setEnd(g.node,g.offset),r.addRange(t)))}}for(t=[],r=n;r=r.parentNode;)r.nodeType===1&&t.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)r=t[n],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var ES=Cn&&"documentMode"in document&&11>=document.documentMode,zs=null,Zu=null,Kr=null,Ju=!1;function Ep(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ju||zs==null||zs!==Nl(l)||(l=zs,"selectionStart"in l&&$u(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Kr&&Yr(Kr,l)||(Kr=l,l=vo(Zu,"onSelect"),0<l.length&&(n=new Ml("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=zs)))}function Ki(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Ps={animationend:Ki("Animation","AnimationEnd"),animationiteration:Ki("Animation","AnimationIteration"),animationstart:Ki("Animation","AnimationStart"),transitionrun:Ki("Transition","TransitionRun"),transitionstart:Ki("Transition","TransitionStart"),transitioncancel:Ki("Transition","TransitionCancel"),transitionend:Ki("Transition","TransitionEnd")},ec={},Sp={};Cn&&(Sp=document.createElement("div").style,"AnimationEvent"in window||(delete Ps.animationend.animation,delete Ps.animationiteration.animation,delete Ps.animationstart.animation),"TransitionEvent"in window||delete Ps.transitionend.transition);function Qi(t){if(ec[t])return ec[t];if(!Ps[t])return t;var n=Ps[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Sp)return ec[t]=n[r];return t}var bp=Qi("animationend"),Tp=Qi("animationiteration"),Cp=Qi("animationstart"),SS=Qi("transitionrun"),bS=Qi("transitionstart"),TS=Qi("transitioncancel"),wp=Qi("transitionend"),Rp=new Map,Ap="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Jt(t,n){Rp.set(t,n),Gi(n,[t])}var jt=[],Hs=0,tc=0;function Ul(){for(var t=Hs,n=tc=Hs=0;n<t;){var r=jt[n];jt[n++]=null;var l=jt[n];jt[n++]=null;var u=jt[n];jt[n++]=null;var f=jt[n];if(jt[n++]=null,l!==null&&u!==null){var g=l.pending;g===null?u.next=u:(u.next=g.next,g.next=u),l.pending=u}f!==0&&Np(r,u,f)}}function zl(t,n,r,l){jt[Hs++]=t,jt[Hs++]=n,jt[Hs++]=r,jt[Hs++]=l,tc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function nc(t,n,r,l){return zl(t,n,r,l),Pl(t)}function ai(t,n){return zl(t,null,null,n),Pl(t)}function Np(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var u=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(u=!0)),t=f,f=f.return;u&&n!==null&&t.tag===3&&(f=t.stateNode,u=31-xt(r),f=f.hiddenUpdates,t=f[u],t===null?f[u]=[n]:t.push(n),n.lane=r|536870912)}function Pl(t){if(50<va)throw va=0,uf=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var js={},Op=new WeakMap;function Bt(t,n){if(typeof t=="object"&&t!==null){var r=Op.get(t);return r!==void 0?r:(n={value:t,source:n,stack:se(n)},Op.set(t,n),n)}return{value:t,source:n,stack:se(n)}}var Bs=[],qs=0,Hl=null,jl=0,qt=[],Vt=0,Wi=null,Rn=1,An="";function Xi(t,n){Bs[qs++]=jl,Bs[qs++]=Hl,Hl=t,jl=n}function Dp(t,n,r){qt[Vt++]=Rn,qt[Vt++]=An,qt[Vt++]=Wi,Wi=t;var l=Rn;t=An;var u=32-xt(l)-1;l&=~(1<<u),r+=1;var f=32-xt(n)+u;if(30<f){var g=u-u%5;f=(l&(1<<g)-1).toString(32),l>>=g,u-=g,Rn=1<<32-xt(n)+u|r<<u|l,An=f+t}else Rn=1<<f|r<<u|l,An=t}function ic(t){t.return!==null&&(Xi(t,1),Dp(t,1,0))}function sc(t){for(;t===Hl;)Hl=Bs[--qs],Bs[qs]=null,jl=Bs[--qs],Bs[qs]=null;for(;t===Wi;)Wi=qt[--Vt],qt[Vt]=null,An=qt[--Vt],qt[Vt]=null,Rn=qt[--Vt],qt[Vt]=null}var vt=null,ot=null,_e=!1,en=null,dn=!1,rc=Error(a(519));function $i(t){var n=Error(a(418,""));throw Xr(Bt(n,t)),rc}function Ip(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[ft]=t,n[Tt]=l,r){case"dialog":pe("cancel",n),pe("close",n);break;case"iframe":case"object":case"embed":pe("load",n);break;case"video":case"audio":for(r=0;r<Ea.length;r++)pe(Ea[r],n);break;case"source":pe("error",n);break;case"img":case"image":case"link":pe("error",n),pe("load",n);break;case"details":pe("toggle",n);break;case"input":pe("invalid",n),Yd(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Al(n);break;case"select":pe("invalid",n);break;case"textarea":pe("invalid",n),Qd(n,l.value,l.defaultValue,l.children),Al(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||jg(n.textContent,r)?(l.popover!=null&&(pe("beforetoggle",n),pe("toggle",n)),l.onScroll!=null&&pe("scroll",n),l.onScrollEnd!=null&&pe("scrollend",n),l.onClick!=null&&(n.onclick=yo),n=!0):n=!1,n||$i(t)}function xp(t){for(vt=t.return;vt;)switch(vt.tag){case 3:case 27:dn=!0;return;case 5:case 13:dn=!1;return;default:vt=vt.return}}function Qr(t){if(t!==vt)return!1;if(!_e)return xp(t),_e=!0,!1;var n=!1,r;if((r=t.tag!==3&&t.tag!==27)&&((r=t.tag===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Rf(t.type,t.memoizedProps)),r=!r),r&&(n=!0),n&&ot&&$i(t),xp(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){ot=nn(t.nextSibling);break e}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}ot=null}}else ot=vt?nn(t.stateNode.nextSibling):null;return!0}function Wr(){ot=vt=null,_e=!1}function Xr(t){en===null?en=[t]:en.push(t)}var $r=Error(a(460)),Mp=Error(a(474)),ac={then:function(){}};function kp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Bl(){}function Lp(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Bl,Bl),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===$r?Error(a(483)):t;default:if(typeof n.status=="string")n.then(Bl,Bl);else{if(t=Ne,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var u=n;u.status="fulfilled",u.value=l}},function(l){if(n.status==="pending"){var u=n;u.status="rejected",u.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===$r?Error(a(483)):t}throw Zr=n,$r}}var Zr=null;function Up(){if(Zr===null)throw Error(a(459));var t=Zr;return Zr=null,t}var Vs=null,Jr=0;function ql(t){var n=Jr;return Jr+=1,Vs===null&&(Vs=[]),Lp(Vs,t,n)}function ea(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Vl(t,n){throw n.$$typeof===c?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function zp(t){var n=t._init;return n(t._payload)}function Pp(t){function n(A,T){if(t){var O=A.deletions;O===null?(A.deletions=[T],A.flags|=16):O.push(T)}}function r(A,T){if(!t)return null;for(;T!==null;)n(A,T),T=T.sibling;return null}function l(A){for(var T=new Map;A!==null;)A.key!==null?T.set(A.key,A):T.set(A.index,A),A=A.sibling;return T}function u(A,T){return A=vi(A,T),A.index=0,A.sibling=null,A}function f(A,T,O){return A.index=O,t?(O=A.alternate,O!==null?(O=O.index,O<T?(A.flags|=33554434,T):O):(A.flags|=33554434,T)):(A.flags|=1048576,T)}function g(A){return t&&A.alternate===null&&(A.flags|=33554434),A}function _(A,T,O,k){return T===null||T.tag!==6?(T=ef(O,A.mode,k),T.return=A,T):(T=u(T,O),T.return=A,T)}function E(A,T,O,k){var Y=O.type;return Y===p?M(A,T,O.props.children,k,O.key):T!==null&&(T.elementType===Y||typeof Y=="object"&&Y!==null&&Y.$$typeof===q&&zp(Y)===T.type)?(T=u(T,O.props),ea(T,O),T.return=A,T):(T=lo(O.type,O.key,O.props,null,A.mode,k),ea(T,O),T.return=A,T)}function C(A,T,O,k){return T===null||T.tag!==4||T.stateNode.containerInfo!==O.containerInfo||T.stateNode.implementation!==O.implementation?(T=tf(O,A.mode,k),T.return=A,T):(T=u(T,O.children||[]),T.return=A,T)}function M(A,T,O,k,Y){return T===null||T.tag!==7?(T=ls(O,A.mode,k,Y),T.return=A,T):(T=u(T,O),T.return=A,T)}function U(A,T,O){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return T=ef(""+T,A.mode,O),T.return=A,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case h:return O=lo(T.type,T.key,T.props,null,A.mode,O),ea(O,T),O.return=A,O;case d:return T=tf(T,A.mode,O),T.return=A,T;case q:var k=T._init;return T=k(T._payload),U(A,T,O)}if(W(T)||Ie(T))return T=ls(T,A.mode,O,null),T.return=A,T;if(typeof T.then=="function")return U(A,ql(T),O);if(T.$$typeof===N)return U(A,so(A,T),O);Vl(A,T)}return null}function D(A,T,O,k){var Y=T!==null?T.key:null;if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return Y!==null?null:_(A,T,""+O,k);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case h:return O.key===Y?E(A,T,O,k):null;case d:return O.key===Y?C(A,T,O,k):null;case q:return Y=O._init,O=Y(O._payload),D(A,T,O,k)}if(W(O)||Ie(O))return Y!==null?null:M(A,T,O,k,null);if(typeof O.then=="function")return D(A,T,ql(O),k);if(O.$$typeof===N)return D(A,T,so(A,O),k);Vl(A,O)}return null}function x(A,T,O,k,Y){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return A=A.get(O)||null,_(T,A,""+k,Y);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case h:return A=A.get(k.key===null?O:k.key)||null,E(T,A,k,Y);case d:return A=A.get(k.key===null?O:k.key)||null,C(T,A,k,Y);case q:var oe=k._init;return k=oe(k._payload),x(A,T,O,k,Y)}if(W(k)||Ie(k))return A=A.get(O)||null,M(T,A,k,Y,null);if(typeof k.then=="function")return x(A,T,O,ql(k),Y);if(k.$$typeof===N)return x(A,T,O,so(T,k),Y);Vl(T,k)}return null}function K(A,T,O,k){for(var Y=null,oe=null,Q=T,X=T=0,it=null;Q!==null&&X<O.length;X++){Q.index>X?(it=Q,Q=null):it=Q.sibling;var ve=D(A,Q,O[X],k);if(ve===null){Q===null&&(Q=it);break}t&&Q&&ve.alternate===null&&n(A,Q),T=f(ve,T,X),oe===null?Y=ve:oe.sibling=ve,oe=ve,Q=it}if(X===O.length)return r(A,Q),_e&&Xi(A,X),Y;if(Q===null){for(;X<O.length;X++)Q=U(A,O[X],k),Q!==null&&(T=f(Q,T,X),oe===null?Y=Q:oe.sibling=Q,oe=Q);return _e&&Xi(A,X),Y}for(Q=l(Q);X<O.length;X++)it=x(Q,A,X,O[X],k),it!==null&&(t&&it.alternate!==null&&Q.delete(it.key===null?X:it.key),T=f(it,T,X),oe===null?Y=it:oe.sibling=it,oe=it);return t&&Q.forEach(function(wi){return n(A,wi)}),_e&&Xi(A,X),Y}function ne(A,T,O,k){if(O==null)throw Error(a(151));for(var Y=null,oe=null,Q=T,X=T=0,it=null,ve=O.next();Q!==null&&!ve.done;X++,ve=O.next()){Q.index>X?(it=Q,Q=null):it=Q.sibling;var wi=D(A,Q,ve.value,k);if(wi===null){Q===null&&(Q=it);break}t&&Q&&wi.alternate===null&&n(A,Q),T=f(wi,T,X),oe===null?Y=wi:oe.sibling=wi,oe=wi,Q=it}if(ve.done)return r(A,Q),_e&&Xi(A,X),Y;if(Q===null){for(;!ve.done;X++,ve=O.next())ve=U(A,ve.value,k),ve!==null&&(T=f(ve,T,X),oe===null?Y=ve:oe.sibling=ve,oe=ve);return _e&&Xi(A,X),Y}for(Q=l(Q);!ve.done;X++,ve=O.next())ve=x(Q,A,X,ve.value,k),ve!==null&&(t&&ve.alternate!==null&&Q.delete(ve.key===null?X:ve.key),T=f(ve,T,X),oe===null?Y=ve:oe.sibling=ve,oe=ve);return t&&Q.forEach(function(zb){return n(A,zb)}),_e&&Xi(A,X),Y}function je(A,T,O,k){if(typeof O=="object"&&O!==null&&O.type===p&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case h:e:{for(var Y=O.key;T!==null;){if(T.key===Y){if(Y=O.type,Y===p){if(T.tag===7){r(A,T.sibling),k=u(T,O.props.children),k.return=A,A=k;break e}}else if(T.elementType===Y||typeof Y=="object"&&Y!==null&&Y.$$typeof===q&&zp(Y)===T.type){r(A,T.sibling),k=u(T,O.props),ea(k,O),k.return=A,A=k;break e}r(A,T);break}else n(A,T);T=T.sibling}O.type===p?(k=ls(O.props.children,A.mode,k,O.key),k.return=A,A=k):(k=lo(O.type,O.key,O.props,null,A.mode,k),ea(k,O),k.return=A,A=k)}return g(A);case d:e:{for(Y=O.key;T!==null;){if(T.key===Y)if(T.tag===4&&T.stateNode.containerInfo===O.containerInfo&&T.stateNode.implementation===O.implementation){r(A,T.sibling),k=u(T,O.children||[]),k.return=A,A=k;break e}else{r(A,T);break}else n(A,T);T=T.sibling}k=tf(O,A.mode,k),k.return=A,A=k}return g(A);case q:return Y=O._init,O=Y(O._payload),je(A,T,O,k)}if(W(O))return K(A,T,O,k);if(Ie(O)){if(Y=Ie(O),typeof Y!="function")throw Error(a(150));return O=Y.call(O),ne(A,T,O,k)}if(typeof O.then=="function")return je(A,T,ql(O),k);if(O.$$typeof===N)return je(A,T,so(A,O),k);Vl(A,O)}return typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint"?(O=""+O,T!==null&&T.tag===6?(r(A,T.sibling),k=u(T,O),k.return=A,A=k):(r(A,T),k=ef(O,A.mode,k),k.return=A,A=k),g(A)):r(A,T)}return function(A,T,O,k){try{Jr=0;var Y=je(A,T,O,k);return Vs=null,Y}catch(Q){if(Q===$r)throw Q;var oe=Kt(29,Q,null,A.mode);return oe.lanes=k,oe.return=A,oe}finally{}}}var Zi=Pp(!0),Hp=Pp(!1),Fs=Ee(null),Fl=Ee(0);function jp(t,n){t=Pn,Me(Fl,t),Me(Fs,n),Pn=t|n.baseLanes}function lc(){Me(Fl,Pn),Me(Fs,Fs.current)}function oc(){Pn=Fl.current,Fe(Fs),Fe(Fl)}var Ft=Ee(null),pn=null;function li(t){var n=t.alternate;Me(We,We.current&1),Me(Ft,t),pn===null&&(n===null||Fs.current!==null||n.memoizedState!==null)&&(pn=t)}function Bp(t){if(t.tag===22){if(Me(We,We.current),Me(Ft,t),pn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(pn=t)}}else oi()}function oi(){Me(We,We.current),Me(Ft,Ft.current)}function Nn(t){Fe(Ft),pn===t&&(pn=null),Fe(We)}var We=Ee(0);function Gl(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var CS=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},wS=s.unstable_scheduleCallback,RS=s.unstable_NormalPriority,Xe={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function uc(){return{controller:new CS,data:new Map,refCount:0}}function ta(t){t.refCount--,t.refCount===0&&wS(RS,function(){t.controller.abort()})}var na=null,cc=0,Gs=0,Ys=null;function AS(t,n){if(na===null){var r=na=[];cc=0,Gs=_f(),Ys={status:"pending",value:void 0,then:function(l){r.push(l)}}}return cc++,n.then(qp,qp),n}function qp(){if(--cc===0&&na!==null){Ys!==null&&(Ys.status="fulfilled");var t=na;na=null,Gs=0,Ys=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function NS(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(u){r.push(u)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var u=0;u<r.length;u++)(0,r[u])(n)},function(u){for(l.status="rejected",l.reason=u,u=0;u<r.length;u++)(0,r[u])(void 0)}),l}var Vp=F.S;F.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&AS(t,n),Vp!==null&&Vp(t,n)};var Ji=Ee(null);function fc(){var t=Ji.current;return t!==null?t:Ne.pooledCache}function Yl(t,n){n===null?Me(Ji,Ji.current):Me(Ji,n.pool)}function Fp(){var t=fc();return t===null?null:{parent:Xe._currentValue,pool:t}}var ui=0,le=null,Se=null,Ge=null,Kl=!1,Ks=!1,es=!1,Ql=0,ia=0,Qs=null,OS=0;function qe(){throw Error(a(321))}function hc(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!Mt(t[r],n[r]))return!1;return!0}function dc(t,n,r,l,u,f){return ui=f,le=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=t===null||t.memoizedState===null?ts:ci,es=!1,f=r(l,u),es=!1,Ks&&(f=Yp(n,r,l,u)),Gp(t),f}function Gp(t){F.H=mn;var n=Se!==null&&Se.next!==null;if(ui=0,Ge=Se=le=null,Kl=!1,ia=0,Qs=null,n)throw Error(a(300));t===null||tt||(t=t.dependencies,t!==null&&io(t)&&(tt=!0))}function Yp(t,n,r,l){le=t;var u=0;do{if(Ks&&(Qs=null),ia=0,Ks=!1,25<=u)throw Error(a(301));if(u+=1,Ge=Se=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=ns,f=n(r,l)}while(Ks);return f}function DS(){var t=F.H,n=t.useState()[0];return n=typeof n.then=="function"?sa(n):n,t=t.useState()[0],(Se!==null?Se.memoizedState:null)!==t&&(le.flags|=1024),n}function pc(){var t=Ql!==0;return Ql=0,t}function mc(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function gc(t){if(Kl){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Kl=!1}ui=0,Ge=Se=le=null,Ks=!1,ia=Ql=0,Qs=null}function wt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ge===null?le.memoizedState=Ge=t:Ge=Ge.next=t,Ge}function Ye(){if(Se===null){var t=le.alternate;t=t!==null?t.memoizedState:null}else t=Se.next;var n=Ge===null?le.memoizedState:Ge.next;if(n!==null)Ge=n,Se=t;else{if(t===null)throw le.alternate===null?Error(a(467)):Error(a(310));Se=t,t={memoizedState:Se.memoizedState,baseState:Se.baseState,baseQueue:Se.baseQueue,queue:Se.queue,next:null},Ge===null?le.memoizedState=Ge=t:Ge=Ge.next=t}return Ge}var Wl;Wl=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function sa(t){var n=ia;return ia+=1,Qs===null&&(Qs=[]),t=Lp(Qs,t,n),n=le,(Ge===null?n.memoizedState:Ge.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?ts:ci),t}function Xl(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return sa(t);if(t.$$typeof===N)return ht(t)}throw Error(a(438,String(t)))}function _c(t){var n=null,r=le.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=le.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(u){return u.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Wl(),le.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=de;return n.index++,r}function On(t,n){return typeof n=="function"?n(t):n}function $l(t){var n=Ye();return vc(n,Se,t)}function vc(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var u=t.baseQueue,f=l.pending;if(f!==null){if(u!==null){var g=u.next;u.next=f.next,f.next=g}n.baseQueue=u=f,l.pending=null}if(f=t.baseState,u===null)t.memoizedState=f;else{n=u.next;var _=g=null,E=null,C=n,M=!1;do{var U=C.lane&-536870913;if(U!==C.lane?(ge&U)===U:(ui&U)===U){var D=C.revertLane;if(D===0)E!==null&&(E=E.next={lane:0,revertLane:0,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null}),U===Gs&&(M=!0);else if((ui&D)===D){C=C.next,D===Gs&&(M=!0);continue}else U={lane:0,revertLane:C.revertLane,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null},E===null?(_=E=U,g=f):E=E.next=U,le.lanes|=D,yi|=D;U=C.action,es&&r(f,U),f=C.hasEagerState?C.eagerState:r(f,U)}else D={lane:U,revertLane:C.revertLane,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null},E===null?(_=E=D,g=f):E=E.next=D,le.lanes|=U,yi|=U;C=C.next}while(C!==null&&C!==n);if(E===null?g=f:E.next=_,!Mt(f,t.memoizedState)&&(tt=!0,M&&(r=Ys,r!==null)))throw r;t.memoizedState=f,t.baseState=g,t.baseQueue=E,l.lastRenderedState=f}return u===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function yc(t){var n=Ye(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,u=r.pending,f=n.memoizedState;if(u!==null){r.pending=null;var g=u=u.next;do f=t(f,g.action),g=g.next;while(g!==u);Mt(f,n.memoizedState)||(tt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function Kp(t,n,r){var l=le,u=Ye(),f=_e;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var g=!Mt((Se||u).memoizedState,r);if(g&&(u.memoizedState=r,tt=!0),u=u.queue,bc(Xp.bind(null,l,u,t),[t]),u.getSnapshot!==n||g||Ge!==null&&Ge.memoizedState.tag&1){if(l.flags|=2048,Ws(9,Wp.bind(null,l,u,r,n),{destroy:void 0},null),Ne===null)throw Error(a(349));f||ui&60||Qp(l,n,r)}return r}function Qp(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=le.updateQueue,n===null?(n=Wl(),le.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function Wp(t,n,r,l){n.value=r,n.getSnapshot=l,$p(n)&&Zp(t)}function Xp(t,n,r){return r(function(){$p(n)&&Zp(t)})}function $p(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!Mt(t,r)}catch{return!0}}function Zp(t){var n=ai(t,2);n!==null&&yt(n,t,2)}function Ec(t){var n=wt();if(typeof t=="function"){var r=t;if(t=r(),es){ii(!0);try{r()}finally{ii(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:On,lastRenderedState:t},n}function Jp(t,n,r,l){return t.baseState=r,vc(t,Se,typeof l=="function"?l:On)}function IS(t,n,r,l,u){if(eo(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:u,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};F.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,em(n,f)):(f.next=r.next,n.pending=r.next=f)}}function em(t,n){var r=n.action,l=n.payload,u=t.state;if(n.isTransition){var f=F.T,g={};F.T=g;try{var _=r(u,l),E=F.S;E!==null&&E(g,_),tm(t,n,_)}catch(C){Sc(t,n,C)}finally{F.T=f}}else try{f=r(u,l),tm(t,n,f)}catch(C){Sc(t,n,C)}}function tm(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){nm(t,n,l)},function(l){return Sc(t,n,l)}):nm(t,n,r)}function nm(t,n,r){n.status="fulfilled",n.value=r,im(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,em(t,r)))}function Sc(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,im(n),n=n.next;while(n!==l)}t.action=null}function im(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function sm(t,n){return n}function rm(t,n){if(_e){var r=Ne.formState;if(r!==null){e:{var l=le;if(_e){if(ot){t:{for(var u=ot,f=dn;u.nodeType!==8;){if(!f){u=null;break t}if(u=nn(u.nextSibling),u===null){u=null;break t}}f=u.data,u=f==="F!"||f==="F"?u:null}if(u){ot=nn(u.nextSibling),l=u.data==="F!";break e}}$i(l)}l=!1}l&&(n=r[0])}}return r=wt(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sm,lastRenderedState:n},r.queue=l,r=Tm.bind(null,le,l),l.dispatch=r,l=Ec(!1),f=Ac.bind(null,le,!1,l.queue),l=wt(),u={state:n,dispatch:null,action:t,pending:null},l.queue=u,r=IS.bind(null,le,u,f,r),u.dispatch=r,l.memoizedState=t,[n,r,!1]}function am(t){var n=Ye();return lm(n,Se,t)}function lm(t,n,r){n=vc(t,n,sm)[0],t=$l(On)[0],n=typeof n=="object"&&n!==null&&typeof n.then=="function"?sa(n):n;var l=Ye(),u=l.queue,f=u.dispatch;return r!==l.memoizedState&&(le.flags|=2048,Ws(9,xS.bind(null,u,r),{destroy:void 0},null)),[n,f,t]}function xS(t,n){t.action=n}function om(t){var n=Ye(),r=Se;if(r!==null)return lm(n,r,t);Ye(),n=n.memoizedState,r=Ye();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Ws(t,n,r,l){return t={tag:t,create:n,inst:r,deps:l,next:null},n=le.updateQueue,n===null&&(n=Wl(),le.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function um(){return Ye().memoizedState}function Zl(t,n,r,l){var u=wt();le.flags|=t,u.memoizedState=Ws(1|n,r,{destroy:void 0},l===void 0?null:l)}function Jl(t,n,r,l){var u=Ye();l=l===void 0?null:l;var f=u.memoizedState.inst;Se!==null&&l!==null&&hc(l,Se.memoizedState.deps)?u.memoizedState=Ws(n,r,f,l):(le.flags|=t,u.memoizedState=Ws(1|n,r,f,l))}function cm(t,n){Zl(8390656,8,t,n)}function bc(t,n){Jl(2048,8,t,n)}function fm(t,n){return Jl(4,2,t,n)}function hm(t,n){return Jl(4,4,t,n)}function dm(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function pm(t,n,r){r=r!=null?r.concat([t]):null,Jl(4,4,dm.bind(null,n,t),r)}function Tc(){}function mm(t,n){var r=Ye();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&hc(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function gm(t,n){var r=Ye();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&hc(n,l[1]))return l[0];if(l=t(),es){ii(!0);try{t()}finally{ii(!1)}}return r.memoizedState=[l,n],l}function Cc(t,n,r){return r===void 0||ui&1073741824?t.memoizedState=n:(t.memoizedState=r,t=vg(),le.lanes|=t,yi|=t,r)}function _m(t,n,r,l){return Mt(r,n)?r:Fs.current!==null?(t=Cc(t,r,l),Mt(t,n)||(tt=!0),t):ui&42?(t=vg(),le.lanes|=t,yi|=t,n):(tt=!0,t.memoizedState=r)}function vm(t,n,r,l,u){var f=G.p;G.p=f!==0&&8>f?f:8;var g=F.T,_={};F.T=_,Ac(t,!1,n,r);try{var E=u(),C=F.S;if(C!==null&&C(_,E),E!==null&&typeof E=="object"&&typeof E.then=="function"){var M=NS(E,l);ra(t,n,M,zt(t))}else ra(t,n,l,zt(t))}catch(U){ra(t,n,{then:function(){},status:"rejected",reason:U},zt())}finally{G.p=f,F.T=g}}function MS(){}function wc(t,n,r,l){if(t.tag!==5)throw Error(a(476));var u=ym(t).queue;vm(t,u,n,me,r===null?MS:function(){return Em(t),r(l)})}function ym(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:On,lastRenderedState:me},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:On,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Em(t){var n=ym(t).next.queue;ra(t,n,{},zt())}function Rc(){return ht(wa)}function Sm(){return Ye().memoizedState}function bm(){return Ye().memoizedState}function kS(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=zt();t=di(r);var l=pi(n,t,r);l!==null&&(yt(l,n,r),oa(l,n,r)),n={cache:uc()},t.payload=n;return}n=n.return}}function LS(t,n,r){var l=zt();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},eo(t)?Cm(n,r):(r=nc(t,n,r,l),r!==null&&(yt(r,t,l),wm(r,n,l)))}function Tm(t,n,r){var l=zt();ra(t,n,r,l)}function ra(t,n,r,l){var u={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(eo(t))Cm(n,u);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,_=f(g,r);if(u.hasEagerState=!0,u.eagerState=_,Mt(_,g))return zl(t,n,u,0),Ne===null&&Ul(),!1}catch{}finally{}if(r=nc(t,n,u,l),r!==null)return yt(r,t,l),wm(r,n,l),!0}return!1}function Ac(t,n,r,l){if(l={lane:2,revertLane:_f(),action:l,hasEagerState:!1,eagerState:null,next:null},eo(t)){if(n)throw Error(a(479))}else n=nc(t,r,l,2),n!==null&&yt(n,t,2)}function eo(t){var n=t.alternate;return t===le||n!==null&&n===le}function Cm(t,n){Ks=Kl=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function wm(t,n,r){if(r&4194176){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Ud(t,r)}}var mn={readContext:ht,use:Xl,useCallback:qe,useContext:qe,useEffect:qe,useImperativeHandle:qe,useLayoutEffect:qe,useInsertionEffect:qe,useMemo:qe,useReducer:qe,useRef:qe,useState:qe,useDebugValue:qe,useDeferredValue:qe,useTransition:qe,useSyncExternalStore:qe,useId:qe};mn.useCacheRefresh=qe,mn.useMemoCache=qe,mn.useHostTransitionStatus=qe,mn.useFormState=qe,mn.useActionState=qe,mn.useOptimistic=qe;var ts={readContext:ht,use:Xl,useCallback:function(t,n){return wt().memoizedState=[t,n===void 0?null:n],t},useContext:ht,useEffect:cm,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Zl(4194308,4,dm.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Zl(4194308,4,t,n)},useInsertionEffect:function(t,n){Zl(4,2,t,n)},useMemo:function(t,n){var r=wt();n=n===void 0?null:n;var l=t();if(es){ii(!0);try{t()}finally{ii(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=wt();if(r!==void 0){var u=r(n);if(es){ii(!0);try{r(n)}finally{ii(!1)}}}else u=n;return l.memoizedState=l.baseState=u,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:u},l.queue=t,t=t.dispatch=LS.bind(null,le,t),[l.memoizedState,t]},useRef:function(t){var n=wt();return t={current:t},n.memoizedState=t},useState:function(t){t=Ec(t);var n=t.queue,r=Tm.bind(null,le,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Tc,useDeferredValue:function(t,n){var r=wt();return Cc(r,t,n)},useTransition:function(){var t=Ec(!1);return t=vm.bind(null,le,t.queue,!0,!1),wt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=le,u=wt();if(_e){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),Ne===null)throw Error(a(349));ge&60||Qp(l,n,r)}u.memoizedState=r;var f={value:r,getSnapshot:n};return u.queue=f,cm(Xp.bind(null,l,f,t),[t]),l.flags|=2048,Ws(9,Wp.bind(null,l,f,r,n),{destroy:void 0},null),r},useId:function(){var t=wt(),n=Ne.identifierPrefix;if(_e){var r=An,l=Rn;r=(l&~(1<<32-xt(l)-1)).toString(32)+r,n=":"+n+"R"+r,r=Ql++,0<r&&(n+="H"+r.toString(32)),n+=":"}else r=OS++,n=":"+n+"r"+r.toString(32)+":";return t.memoizedState=n},useCacheRefresh:function(){return wt().memoizedState=kS.bind(null,le)}};ts.useMemoCache=_c,ts.useHostTransitionStatus=Rc,ts.useFormState=rm,ts.useActionState=rm,ts.useOptimistic=function(t){var n=wt();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Ac.bind(null,le,!0,r),r.dispatch=n,[t,n]};var ci={readContext:ht,use:Xl,useCallback:mm,useContext:ht,useEffect:bc,useImperativeHandle:pm,useInsertionEffect:fm,useLayoutEffect:hm,useMemo:gm,useReducer:$l,useRef:um,useState:function(){return $l(On)},useDebugValue:Tc,useDeferredValue:function(t,n){var r=Ye();return _m(r,Se.memoizedState,t,n)},useTransition:function(){var t=$l(On)[0],n=Ye().memoizedState;return[typeof t=="boolean"?t:sa(t),n]},useSyncExternalStore:Kp,useId:Sm};ci.useCacheRefresh=bm,ci.useMemoCache=_c,ci.useHostTransitionStatus=Rc,ci.useFormState=am,ci.useActionState=am,ci.useOptimistic=function(t,n){var r=Ye();return Jp(r,Se,t,n)};var ns={readContext:ht,use:Xl,useCallback:mm,useContext:ht,useEffect:bc,useImperativeHandle:pm,useInsertionEffect:fm,useLayoutEffect:hm,useMemo:gm,useReducer:yc,useRef:um,useState:function(){return yc(On)},useDebugValue:Tc,useDeferredValue:function(t,n){var r=Ye();return Se===null?Cc(r,t,n):_m(r,Se.memoizedState,t,n)},useTransition:function(){var t=yc(On)[0],n=Ye().memoizedState;return[typeof t=="boolean"?t:sa(t),n]},useSyncExternalStore:Kp,useId:Sm};ns.useCacheRefresh=bm,ns.useMemoCache=_c,ns.useHostTransitionStatus=Rc,ns.useFormState=om,ns.useActionState=om,ns.useOptimistic=function(t,n){var r=Ye();return Se!==null?Jp(r,Se,t,n):(r.baseState=t,[t,r.queue.dispatch])};function Nc(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:ie({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Oc={isMounted:function(t){return(t=t._reactInternals)?te(t)===t:!1},enqueueSetState:function(t,n,r){t=t._reactInternals;var l=zt(),u=di(l);u.payload=n,r!=null&&(u.callback=r),n=pi(t,u,l),n!==null&&(yt(n,t,l),oa(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=zt(),u=di(l);u.tag=1,u.payload=n,r!=null&&(u.callback=r),n=pi(t,u,l),n!==null&&(yt(n,t,l),oa(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=zt(),l=di(r);l.tag=2,n!=null&&(l.callback=n),n=pi(t,l,r),n!==null&&(yt(n,t,r),oa(n,t,r))}};function Rm(t,n,r,l,u,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!Yr(r,l)||!Yr(u,f):!0}function Am(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Oc.enqueueReplaceState(n,n.state,null)}function is(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=ie({},r));for(var u in t)r[u]===void 0&&(r[u]=t[u])}return r}var to=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Nm(t){to(t)}function Om(t){console.error(t)}function Dm(t){to(t)}function no(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Im(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function Dc(t,n,r){return r=di(r),r.tag=3,r.payload={element:null},r.callback=function(){no(t,n)},r}function xm(t){return t=di(t),t.tag=3,t}function Mm(t,n,r,l){var u=r.type.getDerivedStateFromError;if(typeof u=="function"){var f=l.value;t.payload=function(){return u(f)},t.callback=function(){Im(n,r,l)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Im(n,r,l),typeof u!="function"&&(Ei===null?Ei=new Set([this]):Ei.add(this));var _=l.stack;this.componentDidCatch(l.value,{componentStack:_!==null?_:""})})}function US(t,n,r,l,u){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&la(n,r,u,!0),r=Ft.current,r!==null){switch(r.tag){case 13:return pn===null?hf():r.alternate===null&&He===0&&(He=3),r.flags&=-257,r.flags|=65536,r.lanes=u,l===ac?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),pf(t,l,u)),!1;case 22:return r.flags|=65536,l===ac?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),pf(t,l,u)),!1}throw Error(a(435,r.tag))}return pf(t,l,u),hf(),!1}if(_e)return n=Ft.current,n!==null?(!(n.flags&65536)&&(n.flags|=256),n.flags|=65536,n.lanes=u,l!==rc&&(t=Error(a(422),{cause:l}),Xr(Bt(t,r)))):(l!==rc&&(n=Error(a(423),{cause:l}),Xr(Bt(n,r))),t=t.current.alternate,t.flags|=65536,u&=-u,t.lanes|=u,l=Bt(l,r),u=Dc(t.stateNode,l,u),Gc(t,u),He!==4&&(He=2)),!1;var f=Error(a(520),{cause:l});if(f=Bt(f,r),ga===null?ga=[f]:ga.push(f),He!==4&&(He=2),n===null)return!0;l=Bt(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=u&-u,r.lanes|=t,t=Dc(r.stateNode,l,t),Gc(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ei===null||!Ei.has(f))))return r.flags|=65536,u&=-u,r.lanes|=u,u=xm(u),Mm(u,t,r,l),Gc(r,u),!1}r=r.return}while(r!==null);return!1}var km=Error(a(461)),tt=!1;function ut(t,n,r,l){n.child=t===null?Hp(n,null,r,l):Zi(n,t.child,r,l)}function Lm(t,n,r,l,u){r=r.render;var f=n.ref;if("ref"in l){var g={};for(var _ in l)_!=="ref"&&(g[_]=l[_])}else g=l;return rs(n),l=dc(t,n,r,g,f,u),_=pc(),t!==null&&!tt?(mc(t,n,u),Dn(t,n,u)):(_e&&_&&ic(n),n.flags|=1,ut(t,n,l,u),n.child)}function Um(t,n,r,l,u){if(t===null){var f=r.type;return typeof f=="function"&&!Jc(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,zm(t,n,f,l,u)):(t=lo(r.type,null,l,n,n.mode,u),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Hc(t,u)){var g=f.memoizedProps;if(r=r.compare,r=r!==null?r:Yr,r(g,l)&&t.ref===n.ref)return Dn(t,n,u)}return n.flags|=1,t=vi(f,l),t.ref=n.ref,t.return=n,n.child=t}function zm(t,n,r,l,u){if(t!==null){var f=t.memoizedProps;if(Yr(f,l)&&t.ref===n.ref)if(tt=!1,n.pendingProps=l=f,Hc(t,u))t.flags&131072&&(tt=!0);else return n.lanes=t.lanes,Dn(t,n,u)}return Ic(t,n,r,l,u)}function Pm(t,n,r){var l=n.pendingProps,u=l.children,f=(n.stateNode._pendingVisibility&2)!==0,g=t!==null?t.memoizedState:null;if(aa(t,n),l.mode==="hidden"||f){if(n.flags&128){if(l=g!==null?g.baseLanes|r:r,t!==null){for(u=n.child=t.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return Hm(t,n,l,r)}if(r&536870912)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Yl(n,g!==null?g.cachePool:null),g!==null?jp(n,g):lc(),Bp(n);else return n.lanes=n.childLanes=536870912,Hm(t,n,g!==null?g.baseLanes|r:r,r)}else g!==null?(Yl(n,g.cachePool),jp(n,g),oi(),n.memoizedState=null):(t!==null&&Yl(n,null),lc(),oi());return ut(t,n,u,r),n.child}function Hm(t,n,r,l){var u=fc();return u=u===null?null:{parent:Xe._currentValue,pool:u},n.memoizedState={baseLanes:r,cachePool:u},t!==null&&Yl(n,null),lc(),Bp(n),t!==null&&la(t,n,l,!0),null}function aa(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=2097664);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=2097664)}}function Ic(t,n,r,l,u){return rs(n),r=dc(t,n,r,l,void 0,u),l=pc(),t!==null&&!tt?(mc(t,n,u),Dn(t,n,u)):(_e&&l&&ic(n),n.flags|=1,ut(t,n,r,u),n.child)}function jm(t,n,r,l,u,f){return rs(n),n.updateQueue=null,r=Yp(n,l,r,u),Gp(t),l=pc(),t!==null&&!tt?(mc(t,n,f),Dn(t,n,f)):(_e&&l&&ic(n),n.flags|=1,ut(t,n,r,f),n.child)}function Bm(t,n,r,l,u){if(rs(n),n.stateNode===null){var f=js,g=r.contextType;typeof g=="object"&&g!==null&&(f=ht(g)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Oc,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Vc(n),g=r.contextType,f.context=typeof g=="object"&&g!==null?ht(g):js,f.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(Nc(n,r,g,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Oc.enqueueReplaceState(f,f.state,null),ca(n,l,f,u),ua(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var _=n.memoizedProps,E=is(r,_);f.props=E;var C=f.context,M=r.contextType;g=js,typeof M=="object"&&M!==null&&(g=ht(M));var U=r.getDerivedStateFromProps;M=typeof U=="function"||typeof f.getSnapshotBeforeUpdate=="function",_=n.pendingProps!==_,M||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_||C!==g)&&Am(n,f,l,g),hi=!1;var D=n.memoizedState;f.state=D,ca(n,l,f,u),ua(),C=n.memoizedState,_||D!==C||hi?(typeof U=="function"&&(Nc(n,r,U,l),C=n.memoizedState),(E=hi||Rm(n,r,E,l,D,C,g))?(M||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=C),f.props=l,f.state=C,f.context=g,l=E):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Fc(t,n),g=n.memoizedProps,M=is(r,g),f.props=M,U=n.pendingProps,D=f.context,C=r.contextType,E=js,typeof C=="object"&&C!==null&&(E=ht(C)),_=r.getDerivedStateFromProps,(C=typeof _=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==U||D!==E)&&Am(n,f,l,E),hi=!1,D=n.memoizedState,f.state=D,ca(n,l,f,u),ua();var x=n.memoizedState;g!==U||D!==x||hi||t!==null&&t.dependencies!==null&&io(t.dependencies)?(typeof _=="function"&&(Nc(n,r,_,l),x=n.memoizedState),(M=hi||Rm(n,r,M,l,D,x,E)||t!==null&&t.dependencies!==null&&io(t.dependencies))?(C||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,x,E),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,x,E)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&D===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&D===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=x),f.props=l,f.state=x,f.context=E,l=M):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&D===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&D===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,aa(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Zi(n,t.child,null,u),n.child=Zi(n,null,r,u)):ut(t,n,r,u),n.memoizedState=f.state,t=n.child):t=Dn(t,n,u),t}function qm(t,n,r,l){return Wr(),n.flags|=256,ut(t,n,r,l),n.child}var xc={dehydrated:null,treeContext:null,retryLane:0};function Mc(t){return{baseLanes:t,cachePool:Fp()}}function kc(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Qt),t}function Vm(t,n,r){var l=n.pendingProps,u=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(We.current&2)!==0),g&&(u=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(_e){if(u?li(n):oi(),_e){var _=ot,E;if(E=_){e:{for(E=_,_=dn;E.nodeType!==8;){if(!_){_=null;break e}if(E=nn(E.nextSibling),E===null){_=null;break e}}_=E}_!==null?(n.memoizedState={dehydrated:_,treeContext:Wi!==null?{id:Rn,overflow:An}:null,retryLane:536870912},E=Kt(18,null,null,0),E.stateNode=_,E.return=n,n.child=E,vt=n,ot=null,E=!0):E=!1}E||$i(n)}if(_=n.memoizedState,_!==null&&(_=_.dehydrated,_!==null))return _.data==="$!"?n.lanes=16:n.lanes=536870912,null;Nn(n)}return _=l.children,l=l.fallback,u?(oi(),u=n.mode,_=Uc({mode:"hidden",children:_},u),l=ls(l,u,r,null),_.return=n,l.return=n,_.sibling=l,n.child=_,u=n.child,u.memoizedState=Mc(r),u.childLanes=kc(t,g,r),n.memoizedState=xc,l):(li(n),Lc(n,_))}if(E=t.memoizedState,E!==null&&(_=E.dehydrated,_!==null)){if(f)n.flags&256?(li(n),n.flags&=-257,n=zc(t,n,r)):n.memoizedState!==null?(oi(),n.child=t.child,n.flags|=128,n=null):(oi(),u=l.fallback,_=n.mode,l=Uc({mode:"visible",children:l.children},_),u=ls(u,_,r,null),u.flags|=2,l.return=n,u.return=n,l.sibling=u,n.child=l,Zi(n,t.child,null,r),l=n.child,l.memoizedState=Mc(r),l.childLanes=kc(t,g,r),n.memoizedState=xc,n=u);else if(li(n),_.data==="$!"){if(g=_.nextSibling&&_.nextSibling.dataset,g)var C=g.dgst;g=C,l=Error(a(419)),l.stack="",l.digest=g,Xr({value:l,source:null,stack:null}),n=zc(t,n,r)}else if(tt||la(t,n,r,!1),g=(r&t.childLanes)!==0,tt||g){if(g=Ne,g!==null){if(l=r&-r,l&42)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=l&(g.suspendedLanes|r)?0:l,l!==0&&l!==E.retryLane)throw E.retryLane=l,ai(t,l),yt(g,t,l),km}_.data==="$?"||hf(),n=zc(t,n,r)}else _.data==="$?"?(n.flags|=128,n.child=t.child,n=$S.bind(null,t),_._reactRetry=n,n=null):(t=E.treeContext,ot=nn(_.nextSibling),vt=n,_e=!0,en=null,dn=!1,t!==null&&(qt[Vt++]=Rn,qt[Vt++]=An,qt[Vt++]=Wi,Rn=t.id,An=t.overflow,Wi=n),n=Lc(n,l.children),n.flags|=4096);return n}return u?(oi(),u=l.fallback,_=n.mode,E=t.child,C=E.sibling,l=vi(E,{mode:"hidden",children:l.children}),l.subtreeFlags=E.subtreeFlags&31457280,C!==null?u=vi(C,u):(u=ls(u,_,r,null),u.flags|=2),u.return=n,l.return=n,l.sibling=u,n.child=l,l=u,u=n.child,_=t.child.memoizedState,_===null?_=Mc(r):(E=_.cachePool,E!==null?(C=Xe._currentValue,E=E.parent!==C?{parent:C,pool:C}:E):E=Fp(),_={baseLanes:_.baseLanes|r,cachePool:E}),u.memoizedState=_,u.childLanes=kc(t,g,r),n.memoizedState=xc,l):(li(n),r=t.child,t=r.sibling,r=vi(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=r,n.memoizedState=null,r)}function Lc(t,n){return n=Uc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Uc(t,n){return mg(t,n,0,null)}function zc(t,n,r){return Zi(n,t.child,null,r),t=Lc(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Fm(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Bc(t.return,n,r)}function Pc(t,n,r,l,u){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:u}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=u)}function Gm(t,n,r){var l=n.pendingProps,u=l.revealOrder,f=l.tail;if(ut(t,n,l.children,r),l=We.current,l&2)l=l&1|2,n.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Fm(t,r,n);else if(t.tag===19)Fm(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Me(We,l),u){case"forwards":for(r=n.child,u=null;r!==null;)t=r.alternate,t!==null&&Gl(t)===null&&(u=r),r=r.sibling;r=u,r===null?(u=n.child,n.child=null):(u=r.sibling,r.sibling=null),Pc(n,!1,u,r,f);break;case"backwards":for(r=null,u=n.child,n.child=null;u!==null;){if(t=u.alternate,t!==null&&Gl(t)===null){n.child=u;break}t=u.sibling,u.sibling=r,r=u,u=t}Pc(n,!0,r,null,f);break;case"together":Pc(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Dn(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),yi|=n.lanes,!(r&n.childLanes))if(t!==null){if(la(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=vi(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=vi(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Hc(t,n){return t.lanes&n?!0:(t=t.dependencies,!!(t!==null&&io(t)))}function zS(t,n,r){switch(n.tag){case 3:yl(n,n.stateNode.containerInfo),fi(n,Xe,t.memoizedState.cache),Wr();break;case 27:case 5:Ou(n);break;case 4:yl(n,n.stateNode.containerInfo);break;case 10:fi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(li(n),n.flags|=128,null):r&n.child.childLanes?Vm(t,n,r):(li(n),t=Dn(t,n,r),t!==null?t.sibling:null);li(n);break;case 19:var u=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(la(t,n,r,!1),l=(r&n.childLanes)!==0),u){if(l)return Gm(t,n,r);n.flags|=128}if(u=n.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),Me(We,We.current),l)break;return null;case 22:case 23:return n.lanes=0,Pm(t,n,r);case 24:fi(n,Xe,t.memoizedState.cache)}return Dn(t,n,r)}function Ym(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)tt=!0;else{if(!Hc(t,r)&&!(n.flags&128))return tt=!1,zS(t,n,r);tt=!!(t.flags&131072)}else tt=!1,_e&&n.flags&1048576&&Dp(n,jl,n.index);switch(n.lanes=0,n.tag){case 16:e:{t=n.pendingProps;var l=n.elementType,u=l._init;if(l=u(l._payload),n.type=l,typeof l=="function")Jc(l)?(t=is(l,t),n.tag=1,n=Bm(null,n,l,t,r)):(n.tag=0,n=Ic(null,n,l,t,r));else{if(l!=null){if(u=l.$$typeof,u===R){n.tag=11,n=Lm(null,n,l,t,r);break e}else if(u===P){n.tag=14,n=Um(null,n,l,t,r);break e}}throw n=Je(l)||l,Error(a(306,n,""))}}return n;case 0:return Ic(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,u=is(l,n.pendingProps),Bm(t,n,l,u,r);case 3:e:{if(yl(n,n.stateNode.containerInfo),t===null)throw Error(a(387));var f=n.pendingProps;u=n.memoizedState,l=u.element,Fc(t,n),ca(n,f,null,r);var g=n.memoizedState;if(f=g.cache,fi(n,Xe,f),f!==u.cache&&qc(n,[Xe],r,!0),ua(),f=g.element,u.isDehydrated)if(u={element:f,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=u,n.memoizedState=u,n.flags&256){n=qm(t,n,f,r);break e}else if(f!==l){l=Bt(Error(a(424)),n),Xr(l),n=qm(t,n,f,r);break e}else for(ot=nn(n.stateNode.containerInfo.firstChild),vt=n,_e=!0,en=null,dn=!0,r=Hp(n,null,f,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Wr(),f===l){n=Dn(t,n,r);break e}ut(t,n,f,r)}n=n.child}return n;case 26:return aa(t,n),t===null?(r=Wg(n.type,null,n.pendingProps,null))?n.memoizedState=r:_e||(r=n.type,t=n.pendingProps,l=Eo(ni.current).createElement(r),l[ft]=n,l[Tt]=t,ct(l,r,t),et(l),n.stateNode=l):n.memoizedState=Wg(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ou(n),t===null&&_e&&(l=n.stateNode=Yg(n.type,n.pendingProps,ni.current),vt=n,dn=!0,ot=nn(l.firstChild)),l=n.pendingProps.children,t!==null||_e?ut(t,n,l,r):n.child=Zi(n,null,l,r),aa(t,n),n.child;case 5:return t===null&&_e&&((u=l=ot)&&(l=db(l,n.type,n.pendingProps,dn),l!==null?(n.stateNode=l,vt=n,ot=nn(l.firstChild),dn=!1,u=!0):u=!1),u||$i(n)),Ou(n),u=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,l=f.children,Rf(u,f)?l=null:g!==null&&Rf(u,g)&&(n.flags|=32),n.memoizedState!==null&&(u=dc(t,n,DS,null,null,r),wa._currentValue=u),aa(t,n),ut(t,n,l,r),n.child;case 6:return t===null&&_e&&((t=r=ot)&&(r=pb(r,n.pendingProps,dn),r!==null?(n.stateNode=r,vt=n,ot=null,t=!0):t=!1),t||$i(n)),null;case 13:return Vm(t,n,r);case 4:return yl(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Zi(n,null,l,r):ut(t,n,l,r),n.child;case 11:return Lm(t,n,n.type,n.pendingProps,r);case 7:return ut(t,n,n.pendingProps,r),n.child;case 8:return ut(t,n,n.pendingProps.children,r),n.child;case 12:return ut(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,fi(n,n.type,l.value),ut(t,n,l.children,r),n.child;case 9:return u=n.type._context,l=n.pendingProps.children,rs(n),u=ht(u),l=l(u),n.flags|=1,ut(t,n,l,r),n.child;case 14:return Um(t,n,n.type,n.pendingProps,r);case 15:return zm(t,n,n.type,n.pendingProps,r);case 19:return Gm(t,n,r);case 22:return Pm(t,n,r);case 24:return rs(n),l=ht(Xe),t===null?(u=fc(),u===null&&(u=Ne,f=uc(),u.pooledCache=f,f.refCount++,f!==null&&(u.pooledCacheLanes|=r),u=f),n.memoizedState={parent:l,cache:u},Vc(n),fi(n,Xe,u)):(t.lanes&r&&(Fc(t,n),ca(n,null,null,r),ua()),u=t.memoizedState,f=n.memoizedState,u.parent!==l?(u={parent:l,cache:l},n.memoizedState=u,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=u),fi(n,Xe,l)):(l=f.cache,fi(n,Xe,l),l!==u.cache&&qc(n,[Xe],r,!0))),ut(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}var jc=Ee(null),ss=null,In=null;function fi(t,n,r){Me(jc,n._currentValue),n._currentValue=r}function xn(t){t._currentValue=jc.current,Fe(jc)}function Bc(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function qc(t,n,r,l){var u=t.child;for(u!==null&&(u.return=t);u!==null;){var f=u.dependencies;if(f!==null){var g=u.child;f=f.firstContext;e:for(;f!==null;){var _=f;f=u;for(var E=0;E<n.length;E++)if(_.context===n[E]){f.lanes|=r,_=f.alternate,_!==null&&(_.lanes|=r),Bc(f.return,r,t),l||(g=null);break e}f=_.next}}else if(u.tag===18){if(g=u.return,g===null)throw Error(a(341));g.lanes|=r,f=g.alternate,f!==null&&(f.lanes|=r),Bc(g,r,t),g=null}else g=u.child;if(g!==null)g.return=u;else for(g=u;g!==null;){if(g===t){g=null;break}if(u=g.sibling,u!==null){u.return=g.return,g=u;break}g=g.return}u=g}}function la(t,n,r,l){t=null;for(var u=n,f=!1;u!==null;){if(!f){if(u.flags&524288)f=!0;else if(u.flags&262144)break}if(u.tag===10){var g=u.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var _=u.type;Mt(u.pendingProps.value,g.value)||(t!==null?t.push(_):t=[_])}}else if(u===vl.current){if(g=u.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(t!==null?t.push(wa):t=[wa])}u=u.return}t!==null&&qc(n,t,r,l),n.flags|=262144}function io(t){for(t=t.firstContext;t!==null;){if(!Mt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function rs(t){ss=t,In=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ht(t){return Km(ss,t)}function so(t,n){return ss===null&&rs(t),Km(t,n)}function Km(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},In===null){if(t===null)throw Error(a(308));In=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else In=In.next=n;return r}var hi=!1;function Vc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fc(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function di(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function pi(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,Ue&2){var u=l.pending;return u===null?n.next=n:(n.next=u.next,u.next=n),l.pending=n,n=Pl(t),Np(t,null,r),n}return zl(t,l,n,r),Pl(t)}function oa(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194176)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Ud(t,r)}}function Gc(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var u=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?u=f=g:f=f.next=g,r=r.next}while(r!==null);f===null?u=f=n:f=f.next=n}else u=f=n;r={baseState:l.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var Yc=!1;function ua(){if(Yc){var t=Ys;if(t!==null)throw t}}function ca(t,n,r,l){Yc=!1;var u=t.updateQueue;hi=!1;var f=u.firstBaseUpdate,g=u.lastBaseUpdate,_=u.shared.pending;if(_!==null){u.shared.pending=null;var E=_,C=E.next;E.next=null,g===null?f=C:g.next=C,g=E;var M=t.alternate;M!==null&&(M=M.updateQueue,_=M.lastBaseUpdate,_!==g&&(_===null?M.firstBaseUpdate=C:_.next=C,M.lastBaseUpdate=E))}if(f!==null){var U=u.baseState;g=0,M=C=E=null,_=f;do{var D=_.lane&-536870913,x=D!==_.lane;if(x?(ge&D)===D:(l&D)===D){D!==0&&D===Gs&&(Yc=!0),M!==null&&(M=M.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var K=t,ne=_;D=n;var je=r;switch(ne.tag){case 1:if(K=ne.payload,typeof K=="function"){U=K.call(je,U,D);break e}U=K;break e;case 3:K.flags=K.flags&-65537|128;case 0:if(K=ne.payload,D=typeof K=="function"?K.call(je,U,D):K,D==null)break e;U=ie({},U,D);break e;case 2:hi=!0}}D=_.callback,D!==null&&(t.flags|=64,x&&(t.flags|=8192),x=u.callbacks,x===null?u.callbacks=[D]:x.push(D))}else x={lane:D,tag:_.tag,payload:_.payload,callback:_.callback,next:null},M===null?(C=M=x,E=U):M=M.next=x,g|=D;if(_=_.next,_===null){if(_=u.shared.pending,_===null)break;x=_,_=x.next,x.next=null,u.lastBaseUpdate=x,u.shared.pending=null}}while(!0);M===null&&(E=U),u.baseState=E,u.firstBaseUpdate=C,u.lastBaseUpdate=M,f===null&&(u.shared.lanes=0),yi|=g,t.lanes=g,t.memoizedState=U}}function Qm(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function Wm(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Qm(r[t],n)}function fa(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var u=l.next;r=u;do{if((r.tag&t)===t){l=void 0;var f=r.create,g=r.inst;l=f(),g.destroy=l}r=r.next}while(r!==u)}}catch(_){we(n,n.return,_)}}function mi(t,n,r){try{var l=n.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var f=u.next;l=f;do{if((l.tag&t)===t){var g=l.inst,_=g.destroy;if(_!==void 0){g.destroy=void 0,u=n;var E=r;try{_()}catch(C){we(u,E,C)}}}l=l.next}while(l!==f)}}catch(C){we(n,n.return,C)}}function Xm(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{Wm(n,r)}catch(l){we(t,t.return,l)}}}function $m(t,n,r){r.props=is(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){we(t,n,l)}}function as(t,n){try{var r=t.ref;if(r!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var u=l;break;default:u=l}typeof r=="function"?t.refCleanup=r(u):r.current=u}}catch(f){we(t,n,f)}}function kt(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(u){we(t,n,u)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(u){we(t,n,u)}else r.current=null}function Zm(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(u){we(t,t.return,u)}}function Jm(t,n,r){try{var l=t.stateNode;ob(l,t.type,r,n),l[Tt]=n}catch(u){we(t,t.return,u)}}function eg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function Kc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||eg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Qc(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.nodeType===8?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(r.nodeType===8?(n=r.parentNode,n.insertBefore(t,r)):(n=r,n.appendChild(t)),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=yo));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(Qc(t,n,r),t=t.sibling;t!==null;)Qc(t,n,r),t=t.sibling}function ro(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(ro(t,n,r),t=t.sibling;t!==null;)ro(t,n,r),t=t.sibling}var Mn=!1,Pe=!1,Wc=!1,tg=typeof WeakSet=="function"?WeakSet:Set,nt=null,ng=!1;function PS(t,n){if(t=t.containerInfo,Cf=Ro,t=yp(t),$u(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var u=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var g=0,_=-1,E=-1,C=0,M=0,U=t,D=null;t:for(;;){for(var x;U!==r||u!==0&&U.nodeType!==3||(_=g+u),U!==f||l!==0&&U.nodeType!==3||(E=g+l),U.nodeType===3&&(g+=U.nodeValue.length),(x=U.firstChild)!==null;)D=U,U=x;for(;;){if(U===t)break t;if(D===r&&++C===u&&(_=g),D===f&&++M===l&&(E=g),(x=U.nextSibling)!==null)break;U=D,D=U.parentNode}U=x}r=_===-1||E===-1?null:{start:_,end:E}}else r=null}r=r||{start:0,end:0}}else r=null;for(wf={focusedElem:t,selectionRange:r},Ro=!1,nt=n;nt!==null;)if(n=nt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,nt=t;else for(;nt!==null;){switch(n=nt,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&f!==null){t=void 0,r=n,u=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var K=is(r.type,u,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(K,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ne){we(r,r.return,ne)}}break;case 3:if(t&1024){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)Of(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Of(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,nt=t;break}nt=n.return}return K=ng,ng=!1,K}function ig(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Ln(t,r),l&4&&fa(5,r);break;case 1:if(Ln(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(_){we(r,r.return,_)}else{var u=is(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(u,n,t.__reactInternalSnapshotBeforeUpdate)}catch(_){we(r,r.return,_)}}l&64&&Xm(r),l&512&&as(r,r.return);break;case 3:if(Ln(t,r),l&64&&(l=r.updateQueue,l!==null)){if(t=null,r.child!==null)switch(r.child.tag){case 27:case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}try{Wm(l,t)}catch(_){we(r,r.return,_)}}break;case 26:Ln(t,r),l&512&&as(r,r.return);break;case 27:case 5:Ln(t,r),n===null&&l&4&&Zm(r),l&512&&as(r,r.return);break;case 12:Ln(t,r);break;case 13:Ln(t,r),l&4&&ag(t,r);break;case 22:if(u=r.memoizedState!==null||Mn,!u){n=n!==null&&n.memoizedState!==null||Pe;var f=Mn,g=Pe;Mn=u,(Pe=n)&&!g?gi(t,r,(r.subtreeFlags&8772)!==0):Ln(t,r),Mn=f,Pe=g}l&512&&(r.memoizedProps.mode==="manual"?as(r,r.return):kt(r,r.return));break;default:Ln(t,r)}}function sg(t){var n=t.alternate;n!==null&&(t.alternate=null,sg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Lu(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ke=null,Lt=!1;function kn(t,n,r){for(r=r.child;r!==null;)rg(t,n,r),r=r.sibling}function rg(t,n,r){if(It&&typeof It.onCommitFiberUnmount=="function")try{It.onCommitFiberUnmount(kr,r)}catch{}switch(r.tag){case 26:Pe||kt(r,n),kn(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Pe||kt(r,n);var l=Ke,u=Lt;for(Ke=r.stateNode,kn(t,n,r),r=r.stateNode,n=r.attributes;n.length;)r.removeAttributeNode(n[0]);Lu(r),Ke=l,Lt=u;break;case 5:Pe||kt(r,n);case 6:u=Ke;var f=Lt;if(Ke=null,kn(t,n,r),Ke=u,Lt=f,Ke!==null)if(Lt)try{t=Ke,l=r.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(g){we(r,n,g)}else try{Ke.removeChild(r.stateNode)}catch(g){we(r,n,g)}break;case 18:Ke!==null&&(Lt?(n=Ke,r=r.stateNode,n.nodeType===8?Nf(n.parentNode,r):n.nodeType===1&&Nf(n,r),Oa(n)):Nf(Ke,r.stateNode));break;case 4:l=Ke,u=Lt,Ke=r.stateNode.containerInfo,Lt=!0,kn(t,n,r),Ke=l,Lt=u;break;case 0:case 11:case 14:case 15:Pe||mi(2,r,n),Pe||mi(4,r,n),kn(t,n,r);break;case 1:Pe||(kt(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&$m(r,n,l)),kn(t,n,r);break;case 21:kn(t,n,r);break;case 22:Pe||kt(r,n),Pe=(l=Pe)||r.memoizedState!==null,kn(t,n,r),Pe=l;break;default:kn(t,n,r)}}function ag(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Oa(t)}catch(r){we(n,n.return,r)}}function HS(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new tg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new tg),n;default:throw Error(a(435,t.tag))}}function Xc(t,n){var r=HS(t);n.forEach(function(l){var u=ZS.bind(null,t,l);r.has(l)||(r.add(l),l.then(u,u))})}function Gt(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var u=r[l],f=t,g=n,_=g;e:for(;_!==null;){switch(_.tag){case 27:case 5:Ke=_.stateNode,Lt=!1;break e;case 3:Ke=_.stateNode.containerInfo,Lt=!0;break e;case 4:Ke=_.stateNode.containerInfo,Lt=!0;break e}_=_.return}if(Ke===null)throw Error(a(160));rg(f,g,u),Ke=null,Lt=!1,f=u.alternate,f!==null&&(f.return=null),u.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)lg(n,t),n=n.sibling}var tn=null;function lg(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Gt(n,t),Yt(t),l&4&&(mi(3,t,t.return),fa(3,t),mi(5,t,t.return));break;case 1:Gt(n,t),Yt(t),l&512&&(Pe||r===null||kt(r,r.return)),l&64&&Mn&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var u=tn;if(Gt(n,t),Yt(t),l&512&&(Pe||r===null||kt(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){e:{l=t.type,r=t.memoizedProps,u=u.ownerDocument||u;t:switch(l){case"title":f=u.getElementsByTagName("title")[0],(!f||f[zr]||f[ft]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=u.createElement(l),u.head.insertBefore(f,u.querySelector("head > title"))),ct(f,l,r),f[ft]=t,et(f),l=f;break e;case"link":var g=Zg("link","href",u).get(l+(r.href||""));if(g){for(var _=0;_<g.length;_++)if(f=g[_],f.getAttribute("href")===(r.href==null?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(_,1);break t}}f=u.createElement(l),ct(f,l,r),u.head.appendChild(f);break;case"meta":if(g=Zg("meta","content",u).get(l+(r.content||""))){for(_=0;_<g.length;_++)if(f=g[_],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(_,1);break t}}f=u.createElement(l),ct(f,l,r),u.head.appendChild(f);break;default:throw Error(a(468,l))}f[ft]=t,et(f),l=f}t.stateNode=l}else Jg(u,t.type,t.stateNode);else t.stateNode=$g(u,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?Jg(u,t.type,t.stateNode):$g(u,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Jm(t,t.memoizedProps,r.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){u=t.stateNode,f=t.memoizedProps;try{for(var E=u.firstChild;E;){var C=E.nextSibling,M=E.nodeName;E[zr]||M==="HEAD"||M==="BODY"||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&E.rel.toLowerCase()==="stylesheet"||u.removeChild(E),E=C}for(var U=t.type,D=u.attributes;D.length;)u.removeAttributeNode(D[0]);ct(u,U,f),u[ft]=t,u[Tt]=f}catch(K){we(t,t.return,K)}}case 5:if(Gt(n,t),Yt(t),l&512&&(Pe||r===null||kt(r,r.return)),t.flags&32){u=t.stateNode;try{Ms(u,"")}catch(K){we(t,t.return,K)}}l&4&&t.stateNode!=null&&(u=t.memoizedProps,Jm(t,u,r!==null?r.memoizedProps:u)),l&1024&&(Wc=!0);break;case 6:if(Gt(n,t),Yt(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(K){we(t,t.return,K)}}break;case 3:if(To=null,u=tn,tn=So(n.containerInfo),Gt(n,t),tn=u,Yt(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Oa(n.containerInfo)}catch(K){we(t,t.return,K)}Wc&&(Wc=!1,og(t));break;case 4:l=tn,tn=So(t.stateNode.containerInfo),Gt(n,t),Yt(t),tn=l;break;case 12:Gt(n,t),Yt(t);break;case 13:Gt(n,t),Yt(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(af=hn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Xc(t,l)));break;case 22:if(l&512&&(Pe||r===null||kt(r,r.return)),E=t.memoizedState!==null,C=r!==null&&r.memoizedState!==null,M=Mn,U=Pe,Mn=M||E,Pe=U||C,Gt(n,t),Pe=U,Mn=M,Yt(t),n=t.stateNode,n._current=t,n._visibility&=-3,n._visibility|=n._pendingVisibility&2,l&8192&&(n._visibility=E?n._visibility&-2:n._visibility|1,E&&(n=Mn||Pe,r===null||C||n||Xs(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))e:for(r=null,n=t;;){if(n.tag===5||n.tag===26||n.tag===27){if(r===null){C=r=n;try{if(u=C.stateNode,E)f=u.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{g=C.stateNode,_=C.memoizedProps.style;var x=_!=null&&_.hasOwnProperty("display")?_.display:null;g.style.display=x==null||typeof x=="boolean"?"":(""+x).trim()}}catch(K){we(C,C.return,K)}}}else if(n.tag===6){if(r===null){C=n;try{C.stateNode.nodeValue=E?"":C.memoizedProps}catch(K){we(C,C.return,K)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Xc(t,r))));break;case 19:Gt(n,t),Yt(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Xc(t,l)));break;case 21:break;default:Gt(n,t),Yt(t)}}function Yt(t){var n=t.flags;if(n&2){try{if(t.tag!==27){e:{for(var r=t.return;r!==null;){if(eg(r)){var l=r;break e}r=r.return}throw Error(a(160))}switch(l.tag){case 27:var u=l.stateNode,f=Kc(t);ro(t,f,u);break;case 5:var g=l.stateNode;l.flags&32&&(Ms(g,""),l.flags&=-33);var _=Kc(t);ro(t,_,g);break;case 3:case 4:var E=l.stateNode.containerInfo,C=Kc(t);Qc(t,C,E);break;default:throw Error(a(161))}}}catch(M){we(t,t.return,M)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function og(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;og(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Ln(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)ig(t,n.alternate,n),n=n.sibling}function Xs(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:mi(4,n,n.return),Xs(n);break;case 1:kt(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&$m(n,n.return,r),Xs(n);break;case 26:case 27:case 5:kt(n,n.return),Xs(n);break;case 22:kt(n,n.return),n.memoizedState===null&&Xs(n);break;default:Xs(n)}t=t.sibling}}function gi(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,u=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:gi(u,f,r),fa(4,f);break;case 1:if(gi(u,f,r),l=f,u=l.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(C){we(l,l.return,C)}if(l=f,u=l.updateQueue,u!==null){var _=l.stateNode;try{var E=u.shared.hiddenCallbacks;if(E!==null)for(u.shared.hiddenCallbacks=null,u=0;u<E.length;u++)Qm(E[u],_)}catch(C){we(l,l.return,C)}}r&&g&64&&Xm(f),as(f,f.return);break;case 26:case 27:case 5:gi(u,f,r),r&&l===null&&g&4&&Zm(f),as(f,f.return);break;case 12:gi(u,f,r);break;case 13:gi(u,f,r),r&&g&4&&ag(u,f);break;case 22:f.memoizedState===null&&gi(u,f,r),as(f,f.return);break;default:gi(u,f,r)}n=n.sibling}}function $c(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&ta(r))}function Zc(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ta(t))}function _i(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ug(t,n,r,l),n=n.sibling}function ug(t,n,r,l){var u=n.flags;switch(n.tag){case 0:case 11:case 15:_i(t,n,r,l),u&2048&&fa(9,n);break;case 3:_i(t,n,r,l),u&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ta(t)));break;case 12:if(u&2048){_i(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,_=f.onPostCommit;typeof _=="function"&&_(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(E){we(n,n.return,E)}}else _i(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,n.memoizedState!==null?f._visibility&4?_i(t,n,r,l):ha(t,n):f._visibility&4?_i(t,n,r,l):(f._visibility|=4,$s(t,n,r,l,(n.subtreeFlags&10256)!==0)),u&2048&&$c(n.alternate,n);break;case 24:_i(t,n,r,l),u&2048&&Zc(n.alternate,n);break;default:_i(t,n,r,l)}}function $s(t,n,r,l,u){for(u=u&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,g=n,_=r,E=l,C=g.flags;switch(g.tag){case 0:case 11:case 15:$s(f,g,_,E,u),fa(8,g);break;case 23:break;case 22:var M=g.stateNode;g.memoizedState!==null?M._visibility&4?$s(f,g,_,E,u):ha(f,g):(M._visibility|=4,$s(f,g,_,E,u)),u&&C&2048&&$c(g.alternate,g);break;case 24:$s(f,g,_,E,u),u&&C&2048&&Zc(g.alternate,g);break;default:$s(f,g,_,E,u)}n=n.sibling}}function ha(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,u=l.flags;switch(l.tag){case 22:ha(r,l),u&2048&&$c(l.alternate,l);break;case 24:ha(r,l),u&2048&&Zc(l.alternate,l);break;default:ha(r,l)}n=n.sibling}}var da=8192;function Zs(t){if(t.subtreeFlags&da)for(t=t.child;t!==null;)cg(t),t=t.sibling}function cg(t){switch(t.tag){case 26:Zs(t),t.flags&da&&t.memoizedState!==null&&Ab(tn,t.memoizedState,t.memoizedProps);break;case 5:Zs(t);break;case 3:case 4:var n=tn;tn=So(t.stateNode.containerInfo),Zs(t),tn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=da,da=16777216,Zs(t),da=n):Zs(t));break;default:Zs(t)}}function fg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function pa(t){var n=t.deletions;if(t.flags&16){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];nt=l,dg(l,t)}fg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)hg(t),t=t.sibling}function hg(t){switch(t.tag){case 0:case 11:case 15:pa(t),t.flags&2048&&mi(9,t,t.return);break;case 3:pa(t);break;case 12:pa(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&4&&(t.return===null||t.return.tag!==13)?(n._visibility&=-5,ao(t)):pa(t);break;default:pa(t)}}function ao(t){var n=t.deletions;if(t.flags&16){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];nt=l,dg(l,t)}fg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:mi(8,n,n.return),ao(n);break;case 22:r=n.stateNode,r._visibility&4&&(r._visibility&=-5,ao(n));break;default:ao(n)}t=t.sibling}}function dg(t,n){for(;nt!==null;){var r=nt;switch(r.tag){case 0:case 11:case 15:mi(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ta(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,nt=l;else e:for(r=t;nt!==null;){l=nt;var u=l.sibling,f=l.return;if(sg(l),l===r){nt=null;break e}if(u!==null){u.return=f,nt=u;break e}nt=f}}}function jS(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kt(t,n,r,l){return new jS(t,n,r,l)}function Jc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function vi(t,n){var r=t.alternate;return r===null?(r=Kt(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&31457280,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function pg(t,n){t.flags&=31457282;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function lo(t,n,r,l,u,f){var g=0;if(l=t,typeof t=="function")Jc(t)&&(g=1);else if(typeof t=="string")g=wb(t,r,fn.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case p:return ls(r.children,u,f,n);case m:g=8,u|=24;break;case v:return t=Kt(12,r,n,u|2),t.elementType=v,t.lanes=f,t;case L:return t=Kt(13,r,n,u),t.elementType=L,t.lanes=f,t;case z:return t=Kt(19,r,n,u),t.elementType=z,t.lanes=f,t;case B:return mg(r,u,f,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case y:case N:g=10;break e;case S:g=9;break e;case R:g=11;break e;case P:g=14;break e;case q:g=16,l=null;break e}g=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=Kt(g,r,n,u),n.elementType=t,n.type=l,n.lanes=f,n}function ls(t,n,r,l){return t=Kt(7,t,l,n),t.lanes=r,t}function mg(t,n,r,l){t=Kt(22,t,l,n),t.elementType=B,t.lanes=r;var u={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var f=u._current;if(f===null)throw Error(a(456));if(!(u._pendingVisibility&2)){var g=ai(f,2);g!==null&&(u._pendingVisibility|=2,yt(g,f,2))}},attach:function(){var f=u._current;if(f===null)throw Error(a(456));if(u._pendingVisibility&2){var g=ai(f,2);g!==null&&(u._pendingVisibility&=-3,yt(g,f,2))}}};return t.stateNode=u,t}function ef(t,n,r){return t=Kt(6,t,null,n),t.lanes=r,t}function tf(t,n,r){return n=Kt(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function Un(t){t.flags|=4}function gg(t,n){if(n.type!=="stylesheet"||n.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!e_(n)){if(n=Ft.current,n!==null&&((ge&4194176)===ge?pn!==null:(ge&62914560)!==ge&&!(ge&536870912)||n!==pn))throw Zr=ac,Mp;t.flags|=8192}}function oo(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?kd():536870912,t.lanes|=n,er|=n)}function ma(t,n){if(!_e)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Le(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var u=t.child;u!==null;)r|=u.lanes|u.childLanes,l|=u.subtreeFlags&31457280,l|=u.flags&31457280,u.return=t,u=u.sibling;else for(u=t.child;u!==null;)r|=u.lanes|u.childLanes,l|=u.subtreeFlags,l|=u.flags,u.return=t,u=u.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function BS(t,n,r){var l=n.pendingProps;switch(sc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Le(n),null;case 1:return Le(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),xn(Xe),As(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Qr(n)?Un(n):t===null||t.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,en!==null&&(cf(en),en=null))),Le(n),null;case 26:return r=n.memoizedState,t===null?(Un(n),r!==null?(Le(n),gg(n,r)):(Le(n),n.flags&=-16777217)):r?r!==t.memoizedState?(Un(n),Le(n),gg(n,r)):(Le(n),n.flags&=-16777217):(t.memoizedProps!==l&&Un(n),Le(n),n.flags&=-16777217),null;case 27:El(n),r=ni.current;var u=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Un(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return Le(n),null}t=fn.current,Qr(n)?Ip(n):(t=Yg(u,l,r),n.stateNode=t,Un(n))}return Le(n),null;case 5:if(El(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Un(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return Le(n),null}if(t=fn.current,Qr(n))Ip(n);else{switch(u=Eo(ni.current),t){case 1:t=u.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=u.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=u.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=u.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=u.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?u.createElement("select",{is:l.is}):u.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?u.createElement(r,{is:l.is}):u.createElement(r)}}t[ft]=n,t[Tt]=l;e:for(u=n.child;u!==null;){if(u.tag===5||u.tag===6)t.appendChild(u.stateNode);else if(u.tag!==4&&u.tag!==27&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===n)break e;for(;u.sibling===null;){if(u.return===null||u.return===n)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}n.stateNode=t;e:switch(ct(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Un(n)}}return Le(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Un(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=ni.current,Qr(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,u=vt,u!==null)switch(u.tag){case 27:case 5:l=u.memoizedProps}t[ft]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||jg(t.nodeValue,r)),t||$i(n)}else t=Eo(t).createTextNode(l),t[ft]=n,n.stateNode=t}return Le(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(u=Qr(n),l!==null&&l.dehydrated!==null){if(t===null){if(!u)throw Error(a(318));if(u=n.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(a(317));u[ft]=n}else Wr(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;Le(n),u=!1}else en!==null&&(cf(en),en=null),u=!0;if(!u)return n.flags&256?(Nn(n),n):(Nn(n),null)}if(Nn(n),n.flags&128)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,u=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(u=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==u&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),oo(n,n.updateQueue),Le(n),null;case 4:return As(),t===null&&Sf(n.stateNode.containerInfo),Le(n),null;case 10:return xn(n.type),Le(n),null;case 19:if(Fe(We),u=n.memoizedState,u===null)return Le(n),null;if(l=(n.flags&128)!==0,f=u.rendering,f===null)if(l)ma(u,!1);else{if(He!==0||t!==null&&t.flags&128)for(t=n.child;t!==null;){if(f=Gl(t),f!==null){for(n.flags|=128,ma(u,!1),t=f.updateQueue,n.updateQueue=t,oo(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)pg(r,t),r=r.sibling;return Me(We,We.current&1|2),n.child}t=t.sibling}u.tail!==null&&hn()>uo&&(n.flags|=128,l=!0,ma(u,!1),n.lanes=4194304)}else{if(!l)if(t=Gl(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,oo(n,t),ma(u,!0),u.tail===null&&u.tailMode==="hidden"&&!f.alternate&&!_e)return Le(n),null}else 2*hn()-u.renderingStartTime>uo&&r!==536870912&&(n.flags|=128,l=!0,ma(u,!1),n.lanes=4194304);u.isBackwards?(f.sibling=n.child,n.child=f):(t=u.last,t!==null?t.sibling=f:n.child=f,u.last=f)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=hn(),n.sibling=null,t=We.current,Me(We,l?t&1|2:t&1),n):(Le(n),null);case 22:case 23:return Nn(n),oc(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?r&536870912&&!(n.flags&128)&&(Le(n),n.subtreeFlags&6&&(n.flags|=8192)):Le(n),r=n.updateQueue,r!==null&&oo(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&Fe(Ji),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),xn(Xe),Le(n),null;case 25:return null}throw Error(a(156,n.tag))}function qS(t,n){switch(sc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return xn(Xe),As(),t=n.flags,t&65536&&!(t&128)?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return El(n),null;case 13:if(Nn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Wr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Fe(We),null;case 4:return As(),null;case 10:return xn(n.type),null;case 22:case 23:return Nn(n),oc(),t!==null&&Fe(Ji),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return xn(Xe),null;case 25:return null;default:return null}}function _g(t,n){switch(sc(n),n.tag){case 3:xn(Xe),As();break;case 26:case 27:case 5:El(n);break;case 4:As();break;case 13:Nn(n);break;case 19:Fe(We);break;case 10:xn(n.type);break;case 22:case 23:Nn(n),oc(),t!==null&&Fe(Ji);break;case 24:xn(Xe)}}var VS={getCacheForType:function(t){var n=ht(Xe),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},FS=typeof WeakMap=="function"?WeakMap:Map,Ue=0,Ne=null,ce=null,ge=0,Oe=0,Ut=null,zn=!1,Js=!1,nf=!1,Pn=0,He=0,yi=0,os=0,sf=0,Qt=0,er=0,ga=null,gn=null,rf=!1,af=0,uo=1/0,co=null,Ei=null,fo=!1,us=null,_a=0,lf=0,of=null,va=0,uf=null;function zt(){if(Ue&2&&ge!==0)return ge&-ge;if(F.T!==null){var t=Gs;return t!==0?t:_f()}return Pd()}function vg(){Qt===0&&(Qt=!(ge&536870912)||_e?Md():536870912);var t=Ft.current;return t!==null&&(t.flags|=32),Qt}function yt(t,n,r){(t===Ne&&Oe===2||t.cancelPendingCommit!==null)&&(tr(t,0),Hn(t,ge,Qt,!1)),Ur(t,r),(!(Ue&2)||t!==Ne)&&(t===Ne&&(!(Ue&2)&&(os|=r),He===4&&Hn(t,ge,Qt,!1)),_n(t))}function yg(t,n,r){if(Ue&6)throw Error(a(327));var l=!r&&(n&60)===0&&(n&t.expiredLanes)===0||Lr(t,n),u=l?KS(t,n):df(t,n,!0),f=l;do{if(u===0){Js&&!l&&Hn(t,n,0,!1);break}else if(u===6)Hn(t,n,0,!zn);else{if(r=t.current.alternate,f&&!GS(r)){u=df(t,n,!1),f=!1;continue}if(u===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var _=t;u=ga;var E=_.current.memoizedState.isDehydrated;if(E&&(tr(_,g).flags|=256),g=df(_,g,!1),g!==2){if(nf&&!E){_.errorRecoveryDisabledLanes|=f,os|=f,u=4;break e}f=gn,gn=u,f!==null&&cf(f)}u=g}if(f=!1,u!==2)continue}}if(u===1){tr(t,0),Hn(t,n,0,!0);break}e:{switch(l=t,u){case 0:case 1:throw Error(a(345));case 4:if((n&4194176)===n){Hn(l,n,Qt,!zn);break e}break;case 2:gn=null;break;case 3:case 5:break;default:throw Error(a(329))}if(l.finishedWork=r,l.finishedLanes=n,(n&62914560)===n&&(f=af+300-hn(),10<f)){if(Hn(l,n,Qt,!zn),Cl(l,0)!==0)break e;l.timeoutHandle=Vg(Eg.bind(null,l,r,gn,co,rf,n,Qt,os,er,zn,2,-0,0),f);break e}Eg(l,r,gn,co,rf,n,Qt,os,er,zn,0,-0,0)}}break}while(!0);_n(t)}function cf(t){gn===null?gn=t:gn.push.apply(gn,t)}function Eg(t,n,r,l,u,f,g,_,E,C,M,U,D){var x=n.subtreeFlags;if((x&8192||(x&16785408)===16785408)&&(Ca={stylesheets:null,count:0,unsuspend:Rb},cg(n),n=Nb(),n!==null)){t.cancelPendingCommit=n(Ag.bind(null,t,r,l,u,g,_,E,1,U,D)),Hn(t,f,g,!C);return}Ag(t,r,l,u,g,_,E,M,U,D)}function GS(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var u=r[l],f=u.getSnapshot;u=u.value;try{if(!Mt(f(),u))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Hn(t,n,r,l){n&=~sf,n&=~os,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var u=n;0<u;){var f=31-xt(u),g=1<<f;l[f]=-1,u&=~g}r!==0&&Ld(t,r,n)}function ho(){return Ue&6?!0:(ya(0),!1)}function ff(){if(ce!==null){if(Oe===0)var t=ce.return;else t=ce,In=ss=null,gc(t),Vs=null,Jr=0,t=ce;for(;t!==null;)_g(t.alternate,t),t=t.return;ce=null}}function tr(t,n){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,cb(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),ff(),Ne=t,ce=r=vi(t.current,null),ge=n,Oe=0,Ut=null,zn=!1,Js=Lr(t,n),nf=!1,er=Qt=sf=os=yi=He=0,gn=ga=null,rf=!1,n&8&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var u=31-xt(l),f=1<<u;n|=t[u],l&=~f}return Pn=n,Ul(),r}function Sg(t,n){le=null,F.H=mn,n===$r?(n=Up(),Oe=3):n===Mp?(n=Up(),Oe=4):Oe=n===km?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Ut=n,ce===null&&(He=1,no(t,Bt(n,t.current)))}function bg(){var t=F.H;return F.H=mn,t===null?mn:t}function Tg(){var t=F.A;return F.A=VS,t}function hf(){He=4,zn||(ge&4194176)!==ge&&Ft.current!==null||(Js=!0),!(yi&134217727)&&!(os&134217727)||Ne===null||Hn(Ne,ge,Qt,!1)}function df(t,n,r){var l=Ue;Ue|=2;var u=bg(),f=Tg();(Ne!==t||ge!==n)&&(co=null,tr(t,n)),n=!1;var g=He;e:do try{if(Oe!==0&&ce!==null){var _=ce,E=Ut;switch(Oe){case 8:ff(),g=6;break e;case 3:case 2:case 6:Ft.current===null&&(n=!0);var C=Oe;if(Oe=0,Ut=null,nr(t,_,E,C),r&&Js){g=0;break e}break;default:C=Oe,Oe=0,Ut=null,nr(t,_,E,C)}}YS(),g=He;break}catch(M){Sg(t,M)}while(!0);return n&&t.shellSuspendCounter++,In=ss=null,Ue=l,F.H=u,F.A=f,ce===null&&(Ne=null,ge=0,Ul()),g}function YS(){for(;ce!==null;)Cg(ce)}function KS(t,n){var r=Ue;Ue|=2;var l=bg(),u=Tg();Ne!==t||ge!==n?(co=null,uo=hn()+500,tr(t,n)):Js=Lr(t,n);e:do try{if(Oe!==0&&ce!==null){n=ce;var f=Ut;t:switch(Oe){case 1:Oe=0,Ut=null,nr(t,n,f,1);break;case 2:if(kp(f)){Oe=0,Ut=null,wg(n);break}n=function(){Oe===2&&Ne===t&&(Oe=7),_n(t)},f.then(n,n);break e;case 3:Oe=7;break e;case 4:Oe=5;break e;case 7:kp(f)?(Oe=0,Ut=null,wg(n)):(Oe=0,Ut=null,nr(t,n,f,7));break;case 5:var g=null;switch(ce.tag){case 26:g=ce.memoizedState;case 5:case 27:var _=ce;if(!g||e_(g)){Oe=0,Ut=null;var E=_.sibling;if(E!==null)ce=E;else{var C=_.return;C!==null?(ce=C,po(C)):ce=null}break t}}Oe=0,Ut=null,nr(t,n,f,5);break;case 6:Oe=0,Ut=null,nr(t,n,f,6);break;case 8:ff(),He=6;break e;default:throw Error(a(462))}}QS();break}catch(M){Sg(t,M)}while(!0);return In=ss=null,F.H=l,F.A=u,Ue=r,ce!==null?0:(Ne=null,ge=0,Ul(),He)}function QS(){for(;ce!==null&&!g0();)Cg(ce)}function Cg(t){var n=Ym(t.alternate,t,Pn);t.memoizedProps=t.pendingProps,n===null?po(t):ce=n}function wg(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=jm(r,n,n.pendingProps,n.type,void 0,ge);break;case 11:n=jm(r,n,n.pendingProps,n.type.render,n.ref,ge);break;case 5:gc(n);default:_g(r,n),n=ce=pg(n,Pn),n=Ym(r,n,Pn)}t.memoizedProps=t.pendingProps,n===null?po(t):ce=n}function nr(t,n,r,l){In=ss=null,gc(n),Vs=null,Jr=0;var u=n.return;try{if(US(t,u,n,r,ge)){He=1,no(t,Bt(r,t.current)),ce=null;return}}catch(f){if(u!==null)throw ce=u,f;He=1,no(t,Bt(r,t.current)),ce=null;return}n.flags&32768?(_e||l===1?t=!0:Js||ge&536870912?t=!1:(zn=t=!0,(l===2||l===3||l===6)&&(l=Ft.current,l!==null&&l.tag===13&&(l.flags|=16384))),Rg(n,t)):po(n)}function po(t){var n=t;do{if(n.flags&32768){Rg(n,zn);return}t=n.return;var r=BS(n.alternate,n,Pn);if(r!==null){ce=r;return}if(n=n.sibling,n!==null){ce=n;return}ce=n=t}while(n!==null);He===0&&(He=5)}function Rg(t,n){do{var r=qS(t.alternate,t);if(r!==null){r.flags&=32767,ce=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){ce=t;return}ce=t=r}while(t!==null);He=6,ce=null}function Ag(t,n,r,l,u,f,g,_,E,C){var M=F.T,U=G.p;try{G.p=2,F.T=null,WS(t,n,r,l,U,u,f,g,_,E,C)}finally{F.T=M,G.p=U}}function WS(t,n,r,l,u,f,g,_){do ir();while(us!==null);if(Ue&6)throw Error(a(327));var E=t.finishedWork;if(l=t.finishedLanes,E===null)return null;if(t.finishedWork=null,t.finishedLanes=0,E===t.current)throw Error(a(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var C=E.lanes|E.childLanes;if(C|=tc,A0(t,l,C,f,g,_),t===Ne&&(ce=Ne=null,ge=0),!(E.subtreeFlags&10256)&&!(E.flags&10256)||fo||(fo=!0,lf=C,of=r,JS(Sl,function(){return ir(),null})),r=(E.flags&15990)!==0,E.subtreeFlags&15990||r?(r=F.T,F.T=null,f=G.p,G.p=2,g=Ue,Ue|=4,PS(t,E),lg(E,t),yS(wf,t.containerInfo),Ro=!!Cf,wf=Cf=null,t.current=E,ig(t,E.alternate,E),_0(),Ue=g,G.p=f,F.T=r):t.current=E,fo?(fo=!1,us=t,_a=l):Ng(t,C),C=t.pendingLanes,C===0&&(Ei=null),b0(E.stateNode),_n(t),n!==null)for(u=t.onRecoverableError,E=0;E<n.length;E++)C=n[E],u(C.value,{componentStack:C.stack});return _a&3&&ir(),C=t.pendingLanes,l&4194218&&C&42?t===uf?va++:(va=0,uf=t):va=0,ya(0),null}function Ng(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,ta(n)))}function ir(){if(us!==null){var t=us,n=lf;lf=0;var r=zd(_a),l=F.T,u=G.p;try{if(G.p=32>r?32:r,F.T=null,us===null)var f=!1;else{r=of,of=null;var g=us,_=_a;if(us=null,_a=0,Ue&6)throw Error(a(331));var E=Ue;if(Ue|=4,hg(g.current),ug(g,g.current,_,r),Ue=E,ya(0,!1),It&&typeof It.onPostCommitFiberRoot=="function")try{It.onPostCommitFiberRoot(kr,g)}catch{}f=!0}return f}finally{G.p=u,F.T=l,Ng(t,n)}}return!1}function Og(t,n,r){n=Bt(r,n),n=Dc(t.stateNode,n,2),t=pi(t,n,2),t!==null&&(Ur(t,2),_n(t))}function we(t,n,r){if(t.tag===3)Og(t,t,r);else for(;n!==null;){if(n.tag===3){Og(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ei===null||!Ei.has(l))){t=Bt(r,t),r=xm(2),l=pi(n,r,2),l!==null&&(Mm(r,l,n,t),Ur(l,2),_n(l));break}}n=n.return}}function pf(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new FS;var u=new Set;l.set(n,u)}else u=l.get(n),u===void 0&&(u=new Set,l.set(n,u));u.has(r)||(nf=!0,u.add(r),t=XS.bind(null,t,n,r),n.then(t,t))}function XS(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Ne===t&&(ge&r)===r&&(He===4||He===3&&(ge&62914560)===ge&&300>hn()-af?!(Ue&2)&&tr(t,0):sf|=r,er===ge&&(er=0)),_n(t)}function Dg(t,n){n===0&&(n=kd()),t=ai(t,n),t!==null&&(Ur(t,n),_n(t))}function $S(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Dg(t,r)}function ZS(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,u=t.memoizedState;u!==null&&(r=u.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Dg(t,r)}function JS(t,n){return Iu(t,n)}var mo=null,sr=null,mf=!1,go=!1,gf=!1,cs=0;function _n(t){t!==sr&&t.next===null&&(sr===null?mo=sr=t:sr=sr.next=t),go=!0,mf||(mf=!0,tb(eb))}function ya(t,n){if(!gf&&go){gf=!0;do for(var r=!1,l=mo;l!==null;){if(t!==0){var u=l.pendingLanes;if(u===0)var f=0;else{var g=l.suspendedLanes,_=l.pingedLanes;f=(1<<31-xt(42|t)+1)-1,f&=u&~(g&~_),f=f&201326677?f&201326677|1:f?f|2:0}f!==0&&(r=!0,Mg(l,f))}else f=ge,f=Cl(l,l===Ne?f:0),!(f&3)||Lr(l,f)||(r=!0,Mg(l,f));l=l.next}while(r);gf=!1}}function eb(){go=mf=!1;var t=0;cs!==0&&(ub()&&(t=cs),cs=0);for(var n=hn(),r=null,l=mo;l!==null;){var u=l.next,f=Ig(l,n);f===0?(l.next=null,r===null?mo=u:r.next=u,u===null&&(sr=r)):(r=l,(t!==0||f&3)&&(go=!0)),l=u}ya(t)}function Ig(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,u=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-xt(f),_=1<<g,E=u[g];E===-1?(!(_&r)||_&l)&&(u[g]=R0(_,n)):E<=n&&(t.expiredLanes|=_),f&=~_}if(n=Ne,r=ge,r=Cl(t,t===n?r:0),l=t.callbackNode,r===0||t===n&&Oe===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&xu(l),t.callbackNode=null,t.callbackPriority=0;if(!(r&3)||Lr(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&xu(l),zd(r)){case 2:case 8:r=Id;break;case 32:r=Sl;break;case 268435456:r=xd;break;default:r=Sl}return l=xg.bind(null,t),r=Iu(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&xu(l),t.callbackPriority=2,t.callbackNode=null,2}function xg(t,n){var r=t.callbackNode;if(ir()&&t.callbackNode!==r)return null;var l=ge;return l=Cl(t,t===Ne?l:0),l===0?null:(yg(t,l,n),Ig(t,hn()),t.callbackNode!=null&&t.callbackNode===r?xg.bind(null,t):null)}function Mg(t,n){if(ir())return null;yg(t,n,!0)}function tb(t){fb(function(){Ue&6?Iu(Dd,t):t()})}function _f(){return cs===0&&(cs=Md()),cs}function kg(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ol(""+t)}function Lg(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function nb(t,n,r,l,u){if(n==="submit"&&r&&r.stateNode===u){var f=kg((u[Tt]||null).action),g=l.submitter;g&&(n=(n=g[Tt]||null)?kg(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var _=new Ml("action","action",null,l,u);t.push({event:_,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(cs!==0){var E=g?Lg(u,g):new FormData(u);wc(r,{pending:!0,data:E,method:u.method,action:f},null,E)}}else typeof f=="function"&&(_.preventDefault(),E=g?Lg(u,g):new FormData(u),wc(r,{pending:!0,data:E,method:u.method,action:f},f,E))},currentTarget:u}]})}}for(var vf=0;vf<Ap.length;vf++){var yf=Ap[vf],ib=yf.toLowerCase(),sb=yf[0].toUpperCase()+yf.slice(1);Jt(ib,"on"+sb)}Jt(bp,"onAnimationEnd"),Jt(Tp,"onAnimationIteration"),Jt(Cp,"onAnimationStart"),Jt("dblclick","onDoubleClick"),Jt("focusin","onFocus"),Jt("focusout","onBlur"),Jt(SS,"onTransitionRun"),Jt(bS,"onTransitionStart"),Jt(TS,"onTransitionCancel"),Jt(wp,"onTransitionEnd"),Is("onMouseEnter",["mouseout","mouseover"]),Is("onMouseLeave",["mouseout","mouseover"]),Is("onPointerEnter",["pointerout","pointerover"]),Is("onPointerLeave",["pointerout","pointerover"]),Gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Gi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ea="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ea));function Ug(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],u=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var _=l[g],E=_.instance,C=_.currentTarget;if(_=_.listener,E!==f&&u.isPropagationStopped())break e;f=_,u.currentTarget=C;try{f(u)}catch(M){to(M)}u.currentTarget=null,f=E}else for(g=0;g<l.length;g++){if(_=l[g],E=_.instance,C=_.currentTarget,_=_.listener,E!==f&&u.isPropagationStopped())break e;f=_,u.currentTarget=C;try{f(u)}catch(M){to(M)}u.currentTarget=null,f=E}}}}function pe(t,n){var r=n[ku];r===void 0&&(r=n[ku]=new Set);var l=t+"__bubble";r.has(l)||(zg(n,t,2,!1),r.add(l))}function Ef(t,n,r){var l=0;n&&(l|=4),zg(r,t,l,n)}var _o="_reactListening"+Math.random().toString(36).slice(2);function Sf(t){if(!t[_o]){t[_o]=!0,jd.forEach(function(r){r!=="selectionchange"&&(rb.has(r)||Ef(r,!1,t),Ef(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[_o]||(n[_o]=!0,Ef("selectionchange",!1,n))}}function zg(t,n,r,l){switch(a_(n)){case 2:var u=Ib;break;case 8:u=xb;break;default:u=kf}r=u.bind(null,n,r,t),u=void 0,!qu||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(u=!0),l?u!==void 0?t.addEventListener(n,r,{capture:!0,passive:u}):t.addEventListener(n,r,!0):u!==void 0?t.addEventListener(n,r,{passive:u}):t.addEventListener(n,r,!1)}function bf(t,n,r,l,u){var f=l;if(!(n&1)&&!(n&2)&&l!==null)e:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var _=l.stateNode.containerInfo;if(_===u||_.nodeType===8&&_.parentNode===u)break;if(g===4)for(g=l.return;g!==null;){var E=g.tag;if((E===3||E===4)&&(E=g.stateNode.containerInfo,E===u||E.nodeType===8&&E.parentNode===u))return;g=g.return}for(;_!==null;){if(g=Fi(_),g===null)return;if(E=g.tag,E===5||E===6||E===26||E===27){l=f=g;continue e}_=_.parentNode}}l=l.return}Zd(function(){var C=f,M=ju(r),U=[];e:{var D=Rp.get(t);if(D!==void 0){var x=Ml,K=t;switch(t){case"keypress":if(Il(r)===0)break e;case"keydown":case"keyup":x=Z0;break;case"focusin":K="focus",x=Yu;break;case"focusout":K="blur",x=Yu;break;case"beforeblur":case"afterblur":x=Yu;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=tp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=j0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=tS;break;case bp:case Tp:case Cp:x=V0;break;case wp:x=iS;break;case"scroll":case"scrollend":x=P0;break;case"wheel":x=rS;break;case"copy":case"cut":case"paste":x=G0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=ip;break;case"toggle":case"beforetoggle":x=lS}var ne=(n&4)!==0,je=!ne&&(t==="scroll"||t==="scrollend"),A=ne?D!==null?D+"Capture":null:D;ne=[];for(var T=C,O;T!==null;){var k=T;if(O=k.stateNode,k=k.tag,k!==5&&k!==26&&k!==27||O===null||A===null||(k=Hr(T,A),k!=null&&ne.push(Sa(T,k,O))),je)break;T=T.return}0<ne.length&&(D=new x(D,K,null,r,M),U.push({event:D,listeners:ne}))}}if(!(n&7)){e:{if(D=t==="mouseover"||t==="pointerover",x=t==="mouseout"||t==="pointerout",D&&r!==Hu&&(K=r.relatedTarget||r.fromElement)&&(Fi(K)||K[Ns]))break e;if((x||D)&&(D=M.window===M?M:(D=M.ownerDocument)?D.defaultView||D.parentWindow:window,x?(K=r.relatedTarget||r.toElement,x=C,K=K?Fi(K):null,K!==null&&(je=te(K),ne=K.tag,K!==je||ne!==5&&ne!==27&&ne!==6)&&(K=null)):(x=null,K=C),x!==K)){if(ne=tp,k="onMouseLeave",A="onMouseEnter",T="mouse",(t==="pointerout"||t==="pointerover")&&(ne=ip,k="onPointerLeave",A="onPointerEnter",T="pointer"),je=x==null?D:Pr(x),O=K==null?D:Pr(K),D=new ne(k,T+"leave",x,r,M),D.target=je,D.relatedTarget=O,k=null,Fi(M)===C&&(ne=new ne(A,T+"enter",K,r,M),ne.target=O,ne.relatedTarget=je,k=ne),je=k,x&&K)t:{for(ne=x,A=K,T=0,O=ne;O;O=rr(O))T++;for(O=0,k=A;k;k=rr(k))O++;for(;0<T-O;)ne=rr(ne),T--;for(;0<O-T;)A=rr(A),O--;for(;T--;){if(ne===A||A!==null&&ne===A.alternate)break t;ne=rr(ne),A=rr(A)}ne=null}else ne=null;x!==null&&Pg(U,D,x,ne,!1),K!==null&&je!==null&&Pg(U,je,K,ne,!0)}}e:{if(D=C?Pr(C):window,x=D.nodeName&&D.nodeName.toLowerCase(),x==="select"||x==="input"&&D.type==="file")var Y=fp;else if(up(D))if(hp)Y=_S;else{Y=mS;var oe=pS}else x=D.nodeName,!x||x.toLowerCase()!=="input"||D.type!=="checkbox"&&D.type!=="radio"?C&&Pu(C.elementType)&&(Y=fp):Y=gS;if(Y&&(Y=Y(t,C))){cp(U,Y,r,M);break e}oe&&oe(t,D,C),t==="focusout"&&C&&D.type==="number"&&C.memoizedProps.value!=null&&zu(D,"number",D.value)}switch(oe=C?Pr(C):window,t){case"focusin":(up(oe)||oe.contentEditable==="true")&&(zs=oe,Zu=C,Kr=null);break;case"focusout":Kr=Zu=zs=null;break;case"mousedown":Ju=!0;break;case"contextmenu":case"mouseup":case"dragend":Ju=!1,Ep(U,r,M);break;case"selectionchange":if(ES)break;case"keydown":case"keyup":Ep(U,r,M)}var Q;if(Qu)e:{switch(t){case"compositionstart":var X="onCompositionStart";break e;case"compositionend":X="onCompositionEnd";break e;case"compositionupdate":X="onCompositionUpdate";break e}X=void 0}else Us?lp(t,r)&&(X="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(X="onCompositionStart");X&&(sp&&r.locale!=="ko"&&(Us||X!=="onCompositionStart"?X==="onCompositionEnd"&&Us&&(Q=Jd()):(ri=M,Vu="value"in ri?ri.value:ri.textContent,Us=!0)),oe=vo(C,X),0<oe.length&&(X=new np(X,t,null,r,M),U.push({event:X,listeners:oe}),Q?X.data=Q:(Q=op(r),Q!==null&&(X.data=Q)))),(Q=uS?cS(t,r):fS(t,r))&&(X=vo(C,"onBeforeInput"),0<X.length&&(oe=new np("onBeforeInput","beforeinput",null,r,M),U.push({event:oe,listeners:X}),oe.data=Q)),nb(U,t,C,r,M)}Ug(U,n)})}function Sa(t,n,r){return{instance:t,listener:n,currentTarget:r}}function vo(t,n){for(var r=n+"Capture",l=[];t!==null;){var u=t,f=u.stateNode;u=u.tag,u!==5&&u!==26&&u!==27||f===null||(u=Hr(t,r),u!=null&&l.unshift(Sa(t,u,f)),u=Hr(t,n),u!=null&&l.push(Sa(t,u,f))),t=t.return}return l}function rr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Pg(t,n,r,l,u){for(var f=n._reactName,g=[];r!==null&&r!==l;){var _=r,E=_.alternate,C=_.stateNode;if(_=_.tag,E!==null&&E===l)break;_!==5&&_!==26&&_!==27||C===null||(E=C,u?(C=Hr(r,f),C!=null&&g.unshift(Sa(r,C,E))):u||(C=Hr(r,f),C!=null&&g.push(Sa(r,C,E)))),r=r.return}g.length!==0&&t.push({event:n,listeners:g})}var ab=/\r\n?/g,lb=/\u0000|\uFFFD/g;function Hg(t){return(typeof t=="string"?t:""+t).replace(ab,`
`).replace(lb,"")}function jg(t,n){return n=Hg(n),Hg(t)===n}function yo(){}function be(t,n,r,l,u,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Ms(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Ms(t,""+l);break;case"className":Rl(t,"class",l);break;case"tabIndex":Rl(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Rl(t,r,l);break;case"style":Xd(t,l,f);break;case"data":if(n!=="object"){Rl(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Ol(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&be(t,n,"name",u.name,u,null),be(t,n,"formEncType",u.formEncType,u,null),be(t,n,"formMethod",u.formMethod,u,null),be(t,n,"formTarget",u.formTarget,u,null)):(be(t,n,"encType",u.encType,u,null),be(t,n,"method",u.method,u,null),be(t,n,"target",u.target,u,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Ol(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=yo);break;case"onScroll":l!=null&&pe("scroll",t);break;case"onScrollEnd":l!=null&&pe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(u.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Ol(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":pe("beforetoggle",t),pe("toggle",t),wl(t,"popover",l);break;case"xlinkActuate":wn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":wn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":wn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":wn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":wn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":wn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":wn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":wn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":wn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":wl(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=U0.get(r)||r,wl(t,r,l))}}function Tf(t,n,r,l,u,f){switch(r){case"style":Xd(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(u.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?Ms(t,l):(typeof l=="number"||typeof l=="bigint")&&Ms(t,""+l);break;case"onScroll":l!=null&&pe("scroll",t);break;case"onScrollEnd":l!=null&&pe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=yo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Bd.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(u=r.endsWith("Capture"),n=r.slice(2,u?r.length-7:void 0),f=t[Tt]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,u),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,u);break e}r in t?t[r]=l:l===!0?t.setAttribute(r,""):wl(t,r,l)}}}function ct(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":pe("error",t),pe("load",t);var l=!1,u=!1,f;for(f in r)if(r.hasOwnProperty(f)){var g=r[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:be(t,n,f,g,r,null)}}u&&be(t,n,"srcSet",r.srcSet,r,null),l&&be(t,n,"src",r.src,r,null);return;case"input":pe("invalid",t);var _=f=g=u=null,E=null,C=null;for(l in r)if(r.hasOwnProperty(l)){var M=r[l];if(M!=null)switch(l){case"name":u=M;break;case"type":g=M;break;case"checked":E=M;break;case"defaultChecked":C=M;break;case"value":f=M;break;case"defaultValue":_=M;break;case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(a(137,n));break;default:be(t,n,l,M,r,null)}}Yd(t,f,_,E,C,g,u,!1),Al(t);return;case"select":pe("invalid",t),l=g=f=null;for(u in r)if(r.hasOwnProperty(u)&&(_=r[u],_!=null))switch(u){case"value":f=_;break;case"defaultValue":g=_;break;case"multiple":l=_;default:be(t,n,u,_,r,null)}n=f,r=g,t.multiple=!!l,n!=null?xs(t,!!l,n,!1):r!=null&&xs(t,!!l,r,!0);return;case"textarea":pe("invalid",t),f=u=l=null;for(g in r)if(r.hasOwnProperty(g)&&(_=r[g],_!=null))switch(g){case"value":l=_;break;case"defaultValue":u=_;break;case"children":f=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(a(91));break;default:be(t,n,g,_,r,null)}Qd(t,l,u,f),Al(t);return;case"option":for(E in r)if(r.hasOwnProperty(E)&&(l=r[E],l!=null))switch(E){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:be(t,n,E,l,r,null)}return;case"dialog":pe("cancel",t),pe("close",t);break;case"iframe":case"object":pe("load",t);break;case"video":case"audio":for(l=0;l<Ea.length;l++)pe(Ea[l],t);break;case"image":pe("error",t),pe("load",t);break;case"details":pe("toggle",t);break;case"embed":case"source":case"link":pe("error",t),pe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(C in r)if(r.hasOwnProperty(C)&&(l=r[C],l!=null))switch(C){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:be(t,n,C,l,r,null)}return;default:if(Pu(n)){for(M in r)r.hasOwnProperty(M)&&(l=r[M],l!==void 0&&Tf(t,n,M,l,r,void 0));return}}for(_ in r)r.hasOwnProperty(_)&&(l=r[_],l!=null&&be(t,n,_,l,r,null))}function ob(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,f=null,g=null,_=null,E=null,C=null,M=null;for(x in r){var U=r[x];if(r.hasOwnProperty(x)&&U!=null)switch(x){case"checked":break;case"value":break;case"defaultValue":E=U;default:l.hasOwnProperty(x)||be(t,n,x,null,l,U)}}for(var D in l){var x=l[D];if(U=r[D],l.hasOwnProperty(D)&&(x!=null||U!=null))switch(D){case"type":f=x;break;case"name":u=x;break;case"checked":C=x;break;case"defaultChecked":M=x;break;case"value":g=x;break;case"defaultValue":_=x;break;case"children":case"dangerouslySetInnerHTML":if(x!=null)throw Error(a(137,n));break;default:x!==U&&be(t,n,D,x,l,U)}}Uu(t,g,_,E,C,M,f,u);return;case"select":x=g=_=D=null;for(f in r)if(E=r[f],r.hasOwnProperty(f)&&E!=null)switch(f){case"value":break;case"multiple":x=E;default:l.hasOwnProperty(f)||be(t,n,f,null,l,E)}for(u in l)if(f=l[u],E=r[u],l.hasOwnProperty(u)&&(f!=null||E!=null))switch(u){case"value":D=f;break;case"defaultValue":_=f;break;case"multiple":g=f;default:f!==E&&be(t,n,u,f,l,E)}n=_,r=g,l=x,D!=null?xs(t,!!r,D,!1):!!l!=!!r&&(n!=null?xs(t,!!r,n,!0):xs(t,!!r,r?[]:"",!1));return;case"textarea":x=D=null;for(_ in r)if(u=r[_],r.hasOwnProperty(_)&&u!=null&&!l.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:be(t,n,_,null,l,u)}for(g in l)if(u=l[g],f=r[g],l.hasOwnProperty(g)&&(u!=null||f!=null))switch(g){case"value":D=u;break;case"defaultValue":x=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(a(91));break;default:u!==f&&be(t,n,g,u,l,f)}Kd(t,D,x);return;case"option":for(var K in r)if(D=r[K],r.hasOwnProperty(K)&&D!=null&&!l.hasOwnProperty(K))switch(K){case"selected":t.selected=!1;break;default:be(t,n,K,null,l,D)}for(E in l)if(D=l[E],x=r[E],l.hasOwnProperty(E)&&D!==x&&(D!=null||x!=null))switch(E){case"selected":t.selected=D&&typeof D!="function"&&typeof D!="symbol";break;default:be(t,n,E,D,l,x)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ne in r)D=r[ne],r.hasOwnProperty(ne)&&D!=null&&!l.hasOwnProperty(ne)&&be(t,n,ne,null,l,D);for(C in l)if(D=l[C],x=r[C],l.hasOwnProperty(C)&&D!==x&&(D!=null||x!=null))switch(C){case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(a(137,n));break;default:be(t,n,C,D,l,x)}return;default:if(Pu(n)){for(var je in r)D=r[je],r.hasOwnProperty(je)&&D!==void 0&&!l.hasOwnProperty(je)&&Tf(t,n,je,void 0,l,D);for(M in l)D=l[M],x=r[M],!l.hasOwnProperty(M)||D===x||D===void 0&&x===void 0||Tf(t,n,M,D,l,x);return}}for(var A in r)D=r[A],r.hasOwnProperty(A)&&D!=null&&!l.hasOwnProperty(A)&&be(t,n,A,null,l,D);for(U in l)D=l[U],x=r[U],!l.hasOwnProperty(U)||D===x||D==null&&x==null||be(t,n,U,D,l,x)}var Cf=null,wf=null;function Eo(t){return t.nodeType===9?t:t.ownerDocument}function Bg(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function qg(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Rf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Af=null;function ub(){var t=window.event;return t&&t.type==="popstate"?t===Af?!1:(Af=t,!0):(Af=null,!1)}var Vg=typeof setTimeout=="function"?setTimeout:void 0,cb=typeof clearTimeout=="function"?clearTimeout:void 0,Fg=typeof Promise=="function"?Promise:void 0,fb=typeof queueMicrotask=="function"?queueMicrotask:typeof Fg<"u"?function(t){return Fg.resolve(null).then(t).catch(hb)}:Vg;function hb(t){setTimeout(function(){throw t})}function Nf(t,n){var r=n,l=0;do{var u=r.nextSibling;if(t.removeChild(r),u&&u.nodeType===8)if(r=u.data,r==="/$"){if(l===0){t.removeChild(u),Oa(n);return}l--}else r!=="$"&&r!=="$?"&&r!=="$!"||l++;r=u}while(r);Oa(n)}function Of(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Of(r),Lu(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function db(t,n,r,l){for(;t.nodeType===1;){var u=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[zr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==u.rel||t.getAttribute("href")!==(u.href==null?null:u.href)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||t.getAttribute("title")!==(u.title==null?null:u.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(u.src==null?null:u.src)||t.getAttribute("type")!==(u.type==null?null:u.type)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=u.name==null?null:""+u.name;if(u.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=nn(t.nextSibling),t===null)break}return null}function pb(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=nn(t.nextSibling),t===null))return null;return t}function nn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}function Gg(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function Yg(t,n,r){switch(n=Eo(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}var Wt=new Map,Kg=new Set;function So(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var jn=G.d;G.d={f:mb,r:gb,D:_b,C:vb,L:yb,m:Eb,X:bb,S:Sb,M:Tb};function mb(){var t=jn.f(),n=ho();return t||n}function gb(t){var n=Os(t);n!==null&&n.tag===5&&n.type==="form"?Em(n):jn.r(t)}var ar=typeof document>"u"?null:document;function Qg(t,n,r){var l=ar;if(l&&typeof n=="string"&&n){var u=Ht(n);u='link[rel="'+t+'"][href="'+u+'"]',typeof r=="string"&&(u+='[crossorigin="'+r+'"]'),Kg.has(u)||(Kg.add(u),t={rel:t,crossOrigin:r,href:n},l.querySelector(u)===null&&(n=l.createElement("link"),ct(n,"link",t),et(n),l.head.appendChild(n)))}}function _b(t){jn.D(t),Qg("dns-prefetch",t,null)}function vb(t,n){jn.C(t,n),Qg("preconnect",t,n)}function yb(t,n,r){jn.L(t,n,r);var l=ar;if(l&&t&&n){var u='link[rel="preload"][as="'+Ht(n)+'"]';n==="image"&&r&&r.imageSrcSet?(u+='[imagesrcset="'+Ht(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(u+='[imagesizes="'+Ht(r.imageSizes)+'"]')):u+='[href="'+Ht(t)+'"]';var f=u;switch(n){case"style":f=lr(t);break;case"script":f=or(t)}Wt.has(f)||(t=ie({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Wt.set(f,t),l.querySelector(u)!==null||n==="style"&&l.querySelector(ba(f))||n==="script"&&l.querySelector(Ta(f))||(n=l.createElement("link"),ct(n,"link",t),et(n),l.head.appendChild(n)))}}function Eb(t,n){jn.m(t,n);var r=ar;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",u='link[rel="modulepreload"][as="'+Ht(l)+'"][href="'+Ht(t)+'"]',f=u;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=or(t)}if(!Wt.has(f)&&(t=ie({rel:"modulepreload",href:t},n),Wt.set(f,t),r.querySelector(u)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Ta(f)))return}l=r.createElement("link"),ct(l,"link",t),et(l),r.head.appendChild(l)}}}function Sb(t,n,r){jn.S(t,n,r);var l=ar;if(l&&t){var u=Ds(l).hoistableStyles,f=lr(t);n=n||"default";var g=u.get(f);if(!g){var _={loading:0,preload:null};if(g=l.querySelector(ba(f)))_.loading=5;else{t=ie({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Wt.get(f))&&Df(t,r);var E=g=l.createElement("link");et(E),ct(E,"link",t),E._p=new Promise(function(C,M){E.onload=C,E.onerror=M}),E.addEventListener("load",function(){_.loading|=1}),E.addEventListener("error",function(){_.loading|=2}),_.loading|=4,bo(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:_},u.set(f,g)}}}function bb(t,n){jn.X(t,n);var r=ar;if(r&&t){var l=Ds(r).hoistableScripts,u=or(t),f=l.get(u);f||(f=r.querySelector(Ta(u)),f||(t=ie({src:t,async:!0},n),(n=Wt.get(u))&&If(t,n),f=r.createElement("script"),et(f),ct(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(u,f))}}function Tb(t,n){jn.M(t,n);var r=ar;if(r&&t){var l=Ds(r).hoistableScripts,u=or(t),f=l.get(u);f||(f=r.querySelector(Ta(u)),f||(t=ie({src:t,async:!0,type:"module"},n),(n=Wt.get(u))&&If(t,n),f=r.createElement("script"),et(f),ct(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(u,f))}}function Wg(t,n,r,l){var u=(u=ni.current)?So(u):null;if(!u)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=lr(r.href),r=Ds(u).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=lr(r.href);var f=Ds(u).hoistableStyles,g=f.get(t);if(g||(u=u.ownerDocument||u,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=u.querySelector(ba(t)))&&!f._p&&(g.instance=f,g.state.loading=5),Wt.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Wt.set(t,r),f||Cb(u,t,r,g.state))),n&&l===null)throw Error(a(528,""));return g}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=or(r),r=Ds(u).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function lr(t){return'href="'+Ht(t)+'"'}function ba(t){return'link[rel="stylesheet"]['+t+"]"}function Xg(t){return ie({},t,{"data-precedence":t.precedence,precedence:null})}function Cb(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ct(n,"link",r),et(n),t.head.appendChild(n))}function or(t){return'[src="'+Ht(t)+'"]'}function Ta(t){return"script[async]"+t}function $g(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+Ht(r.href)+'"]');if(l)return n.instance=l,et(l),l;var u=ie({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),et(l),ct(l,"style",u),bo(l,r.precedence,t),n.instance=l;case"stylesheet":u=lr(r.href);var f=t.querySelector(ba(u));if(f)return n.state.loading|=4,n.instance=f,et(f),f;l=Xg(r),(u=Wt.get(u))&&Df(l,u),f=(t.ownerDocument||t).createElement("link"),et(f);var g=f;return g._p=new Promise(function(_,E){g.onload=_,g.onerror=E}),ct(f,"link",l),n.state.loading|=4,bo(f,r.precedence,t),n.instance=f;case"script":return f=or(r.src),(u=t.querySelector(Ta(f)))?(n.instance=u,et(u),u):(l=r,(u=Wt.get(f))&&(l=ie({},r),If(l,u)),t=t.ownerDocument||t,u=t.createElement("script"),et(u),ct(u,"link",l),t.head.appendChild(u),n.instance=u);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&!(n.state.loading&4)&&(l=n.instance,n.state.loading|=4,bo(l,r.precedence,t));return n.instance}function bo(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=l.length?l[l.length-1]:null,f=u,g=0;g<l.length;g++){var _=l[g];if(_.dataset.precedence===n)f=_;else if(f!==u)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Df(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function If(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var To=null;function Zg(t,n,r){if(To===null){var l=new Map,u=To=new Map;u.set(r,l)}else u=To,l=u.get(r),l||(l=new Map,u.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),u=0;u<r.length;u++){var f=r[u];if(!(f[zr]||f[ft]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var _=l.get(g);_?_.push(f):l.set(g,[f])}}return l}function Jg(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function wb(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function e_(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var Ca=null;function Rb(){}function Ab(t,n,r){if(Ca===null)throw Error(a(475));var l=Ca;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var u=lr(r.href),f=t.querySelector(ba(u));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Co.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,et(f);return}f=t.ownerDocument||t,r=Xg(r),(u=Wt.get(u))&&Df(r,u),f=f.createElement("link"),et(f);var g=f;g._p=new Promise(function(_,E){g.onload=_,g.onerror=E}),ct(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(l.count++,n=Co.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function Nb(){if(Ca===null)throw Error(a(475));var t=Ca;return t.stylesheets&&t.count===0&&xf(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&xf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function Co(){if(this.count--,this.count===0){if(this.stylesheets)xf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var wo=null;function xf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,wo=new Map,n.forEach(Ob,t),wo=null,Co.call(t))}function Ob(t,n){if(!(n.state.loading&4)){var r=wo.get(t);if(r)var l=r.get(null);else{r=new Map,wo.set(t,r);for(var u=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<u.length;f++){var g=u[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),l=g)}l&&r.set(null,l)}u=n.instance,g=u.getAttribute("data-precedence"),f=r.get(g)||l,f===l&&r.set(null,u),r.set(g,u),this.count++,l=Co.bind(this),u.addEventListener("load",l),u.addEventListener("error",l),f?f.parentNode.insertBefore(u,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(u,t.firstChild)),n.state.loading|=4}}var wa={$$typeof:N,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function Db(t,n,r,l,u,f,g,_){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mu(0),this.hiddenUpdates=Mu(null),this.identifierPrefix=l,this.onUncaughtError=u,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function t_(t,n,r,l,u,f,g,_,E,C,M,U){return t=new Db(t,n,r,g,_,E,C,U),n=1,f===!0&&(n|=24),f=Kt(3,null,null,n),t.current=f,f.stateNode=t,n=uc(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},Vc(f),t}function n_(t){return t?(t=js,t):js}function i_(t,n,r,l,u,f){u=n_(u),l.context===null?l.context=u:l.pendingContext=u,l=di(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=pi(t,l,n),r!==null&&(yt(r,t,n),oa(r,t,n))}function s_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Mf(t,n){s_(t,n),(t=t.alternate)&&s_(t,n)}function r_(t){if(t.tag===13){var n=ai(t,67108864);n!==null&&yt(n,t,67108864),Mf(t,67108864)}}var Ro=!0;function Ib(t,n,r,l){var u=F.T;F.T=null;var f=G.p;try{G.p=2,kf(t,n,r,l)}finally{G.p=f,F.T=u}}function xb(t,n,r,l){var u=F.T;F.T=null;var f=G.p;try{G.p=8,kf(t,n,r,l)}finally{G.p=f,F.T=u}}function kf(t,n,r,l){if(Ro){var u=Lf(l);if(u===null)bf(t,n,l,Ao,r),l_(t,l);else if(kb(u,t,n,r,l))l.stopPropagation();else if(l_(t,l),n&4&&-1<Mb.indexOf(t)){for(;u!==null;){var f=Os(u);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Vi(f.pendingLanes);if(g!==0){var _=f;for(_.pendingLanes|=2,_.entangledLanes|=2;g;){var E=1<<31-xt(g);_.entanglements[1]|=E,g&=~E}_n(f),!(Ue&6)&&(uo=hn()+500,ya(0))}}break;case 13:_=ai(f,2),_!==null&&yt(_,f,2),ho(),Mf(f,2)}if(f=Lf(l),f===null&&bf(t,n,l,Ao,r),f===u)break;u=f}u!==null&&l.stopPropagation()}else bf(t,n,l,null,r)}}function Lf(t){return t=ju(t),Uf(t)}var Ao=null;function Uf(t){if(Ao=null,t=Fi(t),t!==null){var n=te(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=Ae(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Ao=t,null}function a_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(v0()){case Dd:return 2;case Id:return 8;case Sl:case y0:return 32;case xd:return 268435456;default:return 32}default:return 32}}var zf=!1,Si=null,bi=null,Ti=null,Ra=new Map,Aa=new Map,Ci=[],Mb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function l_(t,n){switch(t){case"focusin":case"focusout":Si=null;break;case"dragenter":case"dragleave":bi=null;break;case"mouseover":case"mouseout":Ti=null;break;case"pointerover":case"pointerout":Ra.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Aa.delete(n.pointerId)}}function Na(t,n,r,l,u,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[u]},n!==null&&(n=Os(n),n!==null&&r_(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,u!==null&&n.indexOf(u)===-1&&n.push(u),t)}function kb(t,n,r,l,u){switch(n){case"focusin":return Si=Na(Si,t,n,r,l,u),!0;case"dragenter":return bi=Na(bi,t,n,r,l,u),!0;case"mouseover":return Ti=Na(Ti,t,n,r,l,u),!0;case"pointerover":var f=u.pointerId;return Ra.set(f,Na(Ra.get(f)||null,t,n,r,l,u)),!0;case"gotpointercapture":return f=u.pointerId,Aa.set(f,Na(Aa.get(f)||null,t,n,r,l,u)),!0}return!1}function o_(t){var n=Fi(t.target);if(n!==null){var r=te(n);if(r!==null){if(n=r.tag,n===13){if(n=Ae(r),n!==null){t.blockedOn=n,N0(t.priority,function(){if(r.tag===13){var l=zt(),u=ai(r,l);u!==null&&yt(u,r,l),Mf(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function No(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Lf(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);Hu=l,r.target.dispatchEvent(l),Hu=null}else return n=Os(r),n!==null&&r_(n),t.blockedOn=r,!1;n.shift()}return!0}function u_(t,n,r){No(t)&&r.delete(n)}function Lb(){zf=!1,Si!==null&&No(Si)&&(Si=null),bi!==null&&No(bi)&&(bi=null),Ti!==null&&No(Ti)&&(Ti=null),Ra.forEach(u_),Aa.forEach(u_)}function Oo(t,n){t.blockedOn===n&&(t.blockedOn=null,zf||(zf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Lb)))}var Do=null;function c_(t){Do!==t&&(Do=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Do===t&&(Do=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],u=t[n+2];if(typeof l!="function"){if(Uf(l||r)===null)continue;break}var f=Os(r);f!==null&&(t.splice(n,3),n-=3,wc(f,{pending:!0,data:u,method:r.method,action:l},l,u))}}))}function Oa(t){function n(E){return Oo(E,t)}Si!==null&&Oo(Si,t),bi!==null&&Oo(bi,t),Ti!==null&&Oo(Ti,t),Ra.forEach(n),Aa.forEach(n);for(var r=0;r<Ci.length;r++){var l=Ci[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Ci.length&&(r=Ci[0],r.blockedOn===null);)o_(r),r.blockedOn===null&&Ci.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var u=r[l],f=r[l+1],g=u[Tt]||null;if(typeof f=="function")g||c_(r);else if(g){var _=null;if(f&&f.hasAttribute("formAction")){if(u=f,g=f[Tt]||null)_=g.formAction;else if(Uf(u)!==null)continue}else _=g.action;typeof _=="function"?r[l+1]=_:(r.splice(l,3),l-=3),c_(r)}}}function Pf(t){this._internalRoot=t}Io.prototype.render=Pf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=zt();i_(r,l,t,n,null,null)},Io.prototype.unmount=Pf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;t.tag===0&&ir(),i_(t.current,2,null,t,null,null),ho(),n[Ns]=null}};function Io(t){this._internalRoot=t}Io.prototype.unstable_scheduleHydration=function(t){if(t){var n=Pd();t={blockedOn:null,target:t,priority:n};for(var r=0;r<Ci.length&&n!==0&&n<Ci[r].priority;r++);Ci.splice(r,0,t),r===0&&o_(t)}};var f_=e.version;if(f_!=="19.0.0")throw Error(a(527,f_,"19.0.0"));G.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=H(n),t=t!==null?Z(t):null,t=t===null?null:t.stateNode,t};var Ub={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:F,findFiberByHostInstance:Fi,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xo.isDisabled&&xo.supportsFiber)try{kr=xo.inject(Ub),It=xo}catch{}}return Ia.createRoot=function(t,n){if(!o(t))throw Error(a(299));var r=!1,l="",u=Nm,f=Om,g=Dm,_=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(_=n.unstable_transitionCallbacks)),n=t_(t,1,!1,null,null,r,l,u,f,g,_,null),t[Ns]=n.current,Sf(t.nodeType===8?t.parentNode:t),new Pf(n)},Ia.hydrateRoot=function(t,n,r){if(!o(t))throw Error(a(299));var l=!1,u="",f=Nm,g=Om,_=Dm,E=null,C=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(E=r.unstable_transitionCallbacks),r.formState!==void 0&&(C=r.formState)),n=t_(t,1,!0,n,r??null,l,u,f,g,_,E,C),n.context=n_(null),r=n.current,l=zt(),u=di(l),u.callback=null,pi(r,u,l),n.current.lanes=l,Ur(n,l),_n(n),t[Ns]=n.current,Sf(t),new Io(n)},Ia.version="19.0.0",Ia}var S_;function Yb(){if(S_)return jf.exports;S_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),jf.exports=Gb(),jf.exports}var Kb=Yb(),I=Mh(),xa={},b_;function Qb(){if(b_)return xa;b_=1,Object.defineProperty(xa,"__esModule",{value:!0}),xa.parse=h,xa.serialize=m;const s=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,c=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function h(S,N){const R=new c,L=S.length;if(L<2)return R;const z=(N==null?void 0:N.decode)||v;let P=0;do{const q=S.indexOf("=",P);if(q===-1)break;const B=S.indexOf(";",P),de=B===-1?L:B;if(q>de){P=S.lastIndexOf(";",q-1)+1;continue}const $=d(S,P,q),Ie=p(S,q,$),Ve=S.slice($,Ie);if(R[Ve]===void 0){let Je=d(S,q+1,de),F=p(S,de,Je);const ie=z(S.slice(Je,F));R[Ve]=ie}P=de+1}while(P<L);return R}function d(S,N,R){do{const L=S.charCodeAt(N);if(L!==32&&L!==9)return N}while(++N<R);return R}function p(S,N,R){for(;N>R;){const L=S.charCodeAt(--N);if(L!==32&&L!==9)return N+1}return R}function m(S,N,R){const L=(R==null?void 0:R.encode)||encodeURIComponent;if(!s.test(S))throw new TypeError(`argument name is invalid: ${S}`);const z=L(N);if(!e.test(z))throw new TypeError(`argument val is invalid: ${N}`);let P=S+"="+z;if(!R)return P;if(R.maxAge!==void 0){if(!Number.isInteger(R.maxAge))throw new TypeError(`option maxAge is invalid: ${R.maxAge}`);P+="; Max-Age="+R.maxAge}if(R.domain){if(!i.test(R.domain))throw new TypeError(`option domain is invalid: ${R.domain}`);P+="; Domain="+R.domain}if(R.path){if(!a.test(R.path))throw new TypeError(`option path is invalid: ${R.path}`);P+="; Path="+R.path}if(R.expires){if(!y(R.expires)||!Number.isFinite(R.expires.valueOf()))throw new TypeError(`option expires is invalid: ${R.expires}`);P+="; Expires="+R.expires.toUTCString()}if(R.httpOnly&&(P+="; HttpOnly"),R.secure&&(P+="; Secure"),R.partitioned&&(P+="; Partitioned"),R.priority)switch(typeof R.priority=="string"?R.priority.toLowerCase():void 0){case"low":P+="; Priority=Low";break;case"medium":P+="; Priority=Medium";break;case"high":P+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${R.priority}`)}if(R.sameSite)switch(typeof R.sameSite=="string"?R.sameSite.toLowerCase():R.sameSite){case!0:case"strict":P+="; SameSite=Strict";break;case"lax":P+="; SameSite=Lax";break;case"none":P+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${R.sameSite}`)}return P}function v(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function y(S){return o.call(S)==="[object Date]"}return xa}Qb();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var T_="popstate";function Wb(s={}){function e(o,c){let{pathname:h="/",search:d="",hash:p=""}=Ts(o.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),fh("",{pathname:h,search:d,hash:p},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function i(o,c){let h=o.document.querySelector("base"),d="";if(h&&h.getAttribute("href")){let p=o.location.href,m=p.indexOf("#");d=m===-1?p:p.slice(0,m)}return d+"#"+(typeof c=="string"?c:Ya(c))}function a(o,c){on(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return $b(e,i,a,s)}function ze(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function on(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Xb(){return Math.random().toString(36).substring(2,10)}function C_(s,e){return{usr:s.state,key:s.key,idx:e}}function fh(s,e,i=null,a){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?Ts(e):e,state:i,key:e&&e.key||a||Xb()}}function Ya({pathname:s="/",search:e="",hash:i=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(s+=i.charAt(0)==="#"?i:"#"+i),s}function Ts(s){let e={};if(s){let i=s.indexOf("#");i>=0&&(e.hash=s.substring(i),s=s.substring(0,i));let a=s.indexOf("?");a>=0&&(e.search=s.substring(a),s=s.substring(0,a)),s&&(e.pathname=s)}return e}function $b(s,e,i,a={}){let{window:o=document.defaultView,v5Compat:c=!1}=a,h=o.history,d="POP",p=null,m=v();m==null&&(m=0,h.replaceState({...h.state,idx:m},""));function v(){return(h.state||{idx:null}).idx}function y(){d="POP";let z=v(),P=z==null?null:z-m;m=z,p&&p({action:d,location:L.location,delta:P})}function S(z,P){d="PUSH";let q=fh(L.location,z,P);i&&i(q,z),m=v()+1;let B=C_(q,m),de=L.createHref(q);try{h.pushState(B,"",de)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;o.location.assign(de)}c&&p&&p({action:d,location:L.location,delta:1})}function N(z,P){d="REPLACE";let q=fh(L.location,z,P);i&&i(q,z),m=v();let B=C_(q,m),de=L.createHref(q);h.replaceState(B,"",de),c&&p&&p({action:d,location:L.location,delta:0})}function R(z){let P=o.location.origin!=="null"?o.location.origin:o.location.href,q=typeof z=="string"?z:Ya(z);return q=q.replace(/ $/,"%20"),ze(P,`No window.location.(origin|href) available to create URL for href: ${q}`),new URL(q,P)}let L={get action(){return d},get location(){return s(o,h)},listen(z){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(T_,y),p=z,()=>{o.removeEventListener(T_,y),p=null}},createHref(z){return e(o,z)},createURL:R,encodeLocation(z){let P=R(z);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:S,replace:N,go(z){return h.go(z)}};return L}function jv(s,e,i="/"){return Zb(s,e,i,!1)}function Zb(s,e,i,a){let o=typeof e=="string"?Ts(e):e,c=zi(o.pathname||"/",i);if(c==null)return null;let h=Bv(s);Jb(h);let d=null;for(let p=0;d==null&&p<h.length;++p){let m=cT(c);d=oT(h[p],m,a)}return d}function Bv(s,e=[],i=[],a=""){let o=(c,h,d)=>{let p={relativePath:d===void 0?c.path||"":d,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};p.relativePath.startsWith("/")&&(ze(p.relativePath.startsWith(a),`Absolute route path "${p.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(a.length));let m=Gn([a,p.relativePath]),v=i.concat(p);c.children&&c.children.length>0&&(ze(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),Bv(c.children,e,v,m)),!(c.path==null&&!c.index)&&e.push({path:m,score:aT(m,c.index),routesMeta:v})};return s.forEach((c,h)=>{var d;if(c.path===""||!((d=c.path)!=null&&d.includes("?")))o(c,h);else for(let p of qv(c.path))o(c,h,p)}),e}function qv(s){let e=s.split("/");if(e.length===0)return[];let[i,...a]=e,o=i.endsWith("?"),c=i.replace(/\?$/,"");if(a.length===0)return o?[c,""]:[c];let h=qv(a.join("/")),d=[];return d.push(...h.map(p=>p===""?c:[c,p].join("/"))),o&&d.push(...h),d.map(p=>s.startsWith("/")&&p===""?"/":p)}function Jb(s){s.sort((e,i)=>e.score!==i.score?i.score-e.score:lT(e.routesMeta.map(a=>a.childrenIndex),i.routesMeta.map(a=>a.childrenIndex)))}var eT=/^:[\w-]+$/,tT=3,nT=2,iT=1,sT=10,rT=-2,w_=s=>s==="*";function aT(s,e){let i=s.split("/"),a=i.length;return i.some(w_)&&(a+=rT),e&&(a+=nT),i.filter(o=>!w_(o)).reduce((o,c)=>o+(eT.test(c)?tT:c===""?iT:sT),a)}function lT(s,e){return s.length===e.length&&s.slice(0,-1).every((a,o)=>a===e[o])?s[s.length-1]-e[e.length-1]:0}function oT(s,e,i=!1){let{routesMeta:a}=s,o={},c="/",h=[];for(let d=0;d<a.length;++d){let p=a[d],m=d===a.length-1,v=c==="/"?e:e.slice(c.length)||"/",y=Fo({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},v),S=p.route;if(!y&&m&&i&&!a[a.length-1].route.index&&(y=Fo({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!y)return null;Object.assign(o,y.params),h.push({params:o,pathname:Gn([c,y.pathname]),pathnameBase:pT(Gn([c,y.pathnameBase])),route:S}),y.pathnameBase!=="/"&&(c=Gn([c,y.pathnameBase]))}return h}function Fo(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[i,a]=uT(s.path,s.caseSensitive,s.end),o=e.match(i);if(!o)return null;let c=o[0],h=c.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:a.reduce((m,{paramName:v,isOptional:y},S)=>{if(v==="*"){let R=d[S]||"";h=c.slice(0,c.length-R.length).replace(/(.)\/+$/,"$1")}const N=d[S];return y&&!N?m[v]=void 0:m[v]=(N||"").replace(/%2F/g,"/"),m},{}),pathname:c,pathnameBase:h,pattern:s}}function uT(s,e=!1,i=!0){on(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let a=[],o="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,d,p)=>(a.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(a.push({paramName:"*"}),o+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":s!==""&&s!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function cT(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return on(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function zi(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,a=s.charAt(i);return a&&a!=="/"?null:s.slice(i)||"/"}function fT(s,e="/"){let{pathname:i,search:a="",hash:o=""}=typeof s=="string"?Ts(s):s;return{pathname:i?i.startsWith("/")?i:hT(i,e):e,search:mT(a),hash:gT(o)}}function hT(s,e){let i=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function Gf(s,e,i,a){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function dT(s){return s.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function Vv(s){let e=dT(s);return e.map((i,a)=>a===e.length-1?i.pathname:i.pathnameBase)}function Fv(s,e,i,a=!1){let o;typeof s=="string"?o=Ts(s):(o={...s},ze(!o.pathname||!o.pathname.includes("?"),Gf("?","pathname","search",o)),ze(!o.pathname||!o.pathname.includes("#"),Gf("#","pathname","hash",o)),ze(!o.search||!o.search.includes("#"),Gf("#","search","hash",o)));let c=s===""||o.pathname==="",h=c?"/":o.pathname,d;if(h==null)d=i;else{let y=e.length-1;if(!a&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),y-=1;o.pathname=S.join("/")}d=y>=0?e[y]:"/"}let p=fT(o,d),m=h&&h!=="/"&&h.endsWith("/"),v=(c||h===".")&&i.endsWith("/");return!p.pathname.endsWith("/")&&(m||v)&&(p.pathname+="/"),p}var Gn=s=>s.join("/").replace(/\/\/+/g,"/"),pT=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),mT=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,gT=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function _T(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var Gv=["POST","PUT","PATCH","DELETE"];new Set(Gv);var vT=["GET",...Gv];new Set(vT);var wr=I.createContext(null);wr.displayName="DataRouter";var du=I.createContext(null);du.displayName="DataRouterState";var Yv=I.createContext({isTransitioning:!1});Yv.displayName="ViewTransition";var yT=I.createContext(new Map);yT.displayName="Fetchers";var ET=I.createContext(null);ET.displayName="Await";var Sn=I.createContext(null);Sn.displayName="Navigation";var sl=I.createContext(null);sl.displayName="Location";var Zn=I.createContext({outlet:null,matches:[],isDataRoute:!1});Zn.displayName="Route";var kh=I.createContext(null);kh.displayName="RouteError";function ST(s,{relative:e}={}){ze(rl(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:a}=I.useContext(Sn),{hash:o,pathname:c,search:h}=al(s,{relative:e}),d=c;return i!=="/"&&(d=c==="/"?i:Gn([i,c])),a.createHref({pathname:d,search:h,hash:o})}function rl(){return I.useContext(sl)!=null}function Cs(){return ze(rl(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(sl).location}var Kv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Qv(s){I.useContext(Sn).static||I.useLayoutEffect(s)}function bT(){let{isDataRoute:s}=I.useContext(Zn);return s?LT():TT()}function TT(){ze(rl(),"useNavigate() may be used only in the context of a <Router> component.");let s=I.useContext(wr),{basename:e,navigator:i}=I.useContext(Sn),{matches:a}=I.useContext(Zn),{pathname:o}=Cs(),c=JSON.stringify(Vv(a)),h=I.useRef(!1);return Qv(()=>{h.current=!0}),I.useCallback((p,m={})=>{if(on(h.current,Kv),!h.current)return;if(typeof p=="number"){i.go(p);return}let v=Fv(p,JSON.parse(c),o,m.relative==="path");s==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Gn([e,v.pathname])),(m.replace?i.replace:i.push)(v,m.state,m)},[e,i,c,o,s])}I.createContext(null);function al(s,{relative:e}={}){let{matches:i}=I.useContext(Zn),{pathname:a}=Cs(),o=JSON.stringify(Vv(i));return I.useMemo(()=>Fv(s,JSON.parse(o),a,e==="path"),[s,o,a,e])}function CT(s,e){return Wv(s,e)}function Wv(s,e,i,a){var q;ze(rl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:c}=I.useContext(Sn),{matches:h}=I.useContext(Zn),d=h[h.length-1],p=d?d.params:{},m=d?d.pathname:"/",v=d?d.pathnameBase:"/",y=d&&d.route;{let B=y&&y.path||"";Xv(m,!y||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let S=Cs(),N;if(e){let B=typeof e=="string"?Ts(e):e;ze(v==="/"||((q=B.pathname)==null?void 0:q.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${B.pathname}" was given in the \`location\` prop.`),N=B}else N=S;let R=N.pathname||"/",L=R;if(v!=="/"){let B=v.replace(/^\//,"").split("/");L="/"+R.replace(/^\//,"").split("/").slice(B.length).join("/")}let z=!c&&i&&i.matches&&i.matches.length>0?i.matches:jv(s,{pathname:L});on(y||z!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),on(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let P=OT(z&&z.map(B=>Object.assign({},B,{params:Object.assign({},p,B.params),pathname:Gn([v,o.encodeLocation?o.encodeLocation(B.pathname).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?v:Gn([v,o.encodeLocation?o.encodeLocation(B.pathnameBase).pathname:B.pathnameBase])})),h,i,a);return e&&P?I.createElement(sl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},P):P}function wT(){let s=kT(),e=_T(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),i=s instanceof Error?s.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},c={padding:"2px 4px",backgroundColor:a},h=null;return console.error("Error handled by React Router default ErrorBoundary:",s),h=I.createElement(I.Fragment,null,I.createElement("p",null,"💿 Hey developer 👋"),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:c},"ErrorBoundary")," or"," ",I.createElement("code",{style:c},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),i?I.createElement("pre",{style:o},i):null,h)}var RT=I.createElement(wT,null),AT=class extends I.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){console.error("React Router caught the following error during render",s,e)}render(){return this.state.error!==void 0?I.createElement(Zn.Provider,{value:this.props.routeContext},I.createElement(kh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function NT({routeContext:s,match:e,children:i}){let a=I.useContext(wr);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),I.createElement(Zn.Provider,{value:s},i)}function OT(s,e=[],i=null,a=null){if(s==null){if(!i)return null;if(i.errors)s=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)s=i.matches;else return null}let o=s,c=i==null?void 0:i.errors;if(c!=null){let p=o.findIndex(m=>m.route.id&&(c==null?void 0:c[m.route.id])!==void 0);ze(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let h=!1,d=-1;if(i)for(let p=0;p<o.length;p++){let m=o[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=p),m.route.id){let{loaderData:v,errors:y}=i,S=m.route.loader&&!v.hasOwnProperty(m.route.id)&&(!y||y[m.route.id]===void 0);if(m.route.lazy||S){h=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((p,m,v)=>{let y,S=!1,N=null,R=null;i&&(y=c&&m.route.id?c[m.route.id]:void 0,N=m.route.errorElement||RT,h&&(d<0&&v===0?(Xv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,R=null):d===v&&(S=!0,R=m.route.hydrateFallbackElement||null)));let L=e.concat(o.slice(0,v+1)),z=()=>{let P;return y?P=N:S?P=R:m.route.Component?P=I.createElement(m.route.Component,null):m.route.element?P=m.route.element:P=p,I.createElement(NT,{match:m,routeContext:{outlet:p,matches:L,isDataRoute:i!=null},children:P})};return i&&(m.route.ErrorBoundary||m.route.errorElement||v===0)?I.createElement(AT,{location:i.location,revalidation:i.revalidation,component:N,error:y,children:z(),routeContext:{outlet:null,matches:L,isDataRoute:!0}}):z()},null)}function Lh(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function DT(s){let e=I.useContext(wr);return ze(e,Lh(s)),e}function IT(s){let e=I.useContext(du);return ze(e,Lh(s)),e}function xT(s){let e=I.useContext(Zn);return ze(e,Lh(s)),e}function Uh(s){let e=xT(s),i=e.matches[e.matches.length-1];return ze(i.route.id,`${s} can only be used on routes that contain a unique "id"`),i.route.id}function MT(){return Uh("useRouteId")}function kT(){var a;let s=I.useContext(kh),e=IT("useRouteError"),i=Uh("useRouteError");return s!==void 0?s:(a=e.errors)==null?void 0:a[i]}function LT(){let{router:s}=DT("useNavigate"),e=Uh("useNavigate"),i=I.useRef(!1);return Qv(()=>{i.current=!0}),I.useCallback(async(o,c={})=>{on(i.current,Kv),i.current&&(typeof o=="number"?s.navigate(o):await s.navigate(o,{fromRouteId:e,...c}))},[s,e])}var R_={};function Xv(s,e,i){!e&&!R_[s]&&(R_[s]=!0,on(!1,i))}I.memo(UT);function UT({routes:s,future:e,state:i}){return Wv(s,void 0,i,e)}function Ai(s){ze(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function zT({basename:s="/",children:e=null,location:i,navigationType:a="POP",navigator:o,static:c=!1}){ze(!rl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=s.replace(/^\/*/,"/"),d=I.useMemo(()=>({basename:h,navigator:o,static:c,future:{}}),[h,o,c]);typeof i=="string"&&(i=Ts(i));let{pathname:p="/",search:m="",hash:v="",state:y=null,key:S="default"}=i,N=I.useMemo(()=>{let R=zi(p,h);return R==null?null:{location:{pathname:R,search:m,hash:v,state:y,key:S},navigationType:a}},[h,p,m,v,y,S,a]);return on(N!=null,`<Router basename="${h}"> is not able to match the URL "${p}${m}${v}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:I.createElement(Sn.Provider,{value:d},I.createElement(sl.Provider,{children:e,value:N}))}function PT({children:s,location:e}){return CT(hh(s),e)}function hh(s,e=[]){let i=[];return I.Children.forEach(s,(a,o)=>{if(!I.isValidElement(a))return;let c=[...e,o];if(a.type===I.Fragment){i.push.apply(i,hh(a.props.children,c));return}ze(a.type===Ai,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ze(!a.props.index||!a.props.children,"An index route cannot have child routes.");let h={id:a.props.id||c.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(h.children=hh(a.props.children,c)),i.push(h)}),i}var zo="get",Po="application/x-www-form-urlencoded";function pu(s){return s!=null&&typeof s.tagName=="string"}function HT(s){return pu(s)&&s.tagName.toLowerCase()==="button"}function jT(s){return pu(s)&&s.tagName.toLowerCase()==="form"}function BT(s){return pu(s)&&s.tagName.toLowerCase()==="input"}function qT(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function VT(s,e){return s.button===0&&(!e||e==="_self")&&!qT(s)}var Mo=null;function FT(){if(Mo===null)try{new FormData(document.createElement("form"),0),Mo=!1}catch{Mo=!0}return Mo}var GT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Yf(s){return s!=null&&!GT.has(s)?(on(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Po}"`),null):s}function YT(s,e){let i,a,o,c,h;if(jT(s)){let d=s.getAttribute("action");a=d?zi(d,e):null,i=s.getAttribute("method")||zo,o=Yf(s.getAttribute("enctype"))||Po,c=new FormData(s)}else if(HT(s)||BT(s)&&(s.type==="submit"||s.type==="image")){let d=s.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=s.getAttribute("formaction")||d.getAttribute("action");if(a=p?zi(p,e):null,i=s.getAttribute("formmethod")||d.getAttribute("method")||zo,o=Yf(s.getAttribute("formenctype"))||Yf(d.getAttribute("enctype"))||Po,c=new FormData(d,s),!FT()){let{name:m,type:v,value:y}=s;if(v==="image"){let S=m?`${m}.`:"";c.append(`${S}x`,"0"),c.append(`${S}y`,"0")}else m&&c.append(m,y)}}else{if(pu(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=zo,a=null,o=Po,h=s}return c&&o==="text/plain"&&(h=c,c=void 0),{action:a,method:i.toLowerCase(),encType:o,formData:c,body:h}}function zh(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}async function KT(s,e){if(s.id in e)return e[s.id];try{let i=await import(s.module);return e[s.id]=i,i}catch(i){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function QT(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function WT(s,e,i){let a=await Promise.all(s.map(async o=>{let c=e.routes[o.route.id];if(c){let h=await KT(c,i);return h.links?h.links():[]}return[]}));return JT(a.flat(1).filter(QT).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function A_(s,e,i,a,o,c){let h=(p,m)=>i[m]?p.route.id!==i[m].route.id:!0,d=(p,m)=>{var v;return i[m].pathname!==p.pathname||((v=i[m].route.path)==null?void 0:v.endsWith("*"))&&i[m].params["*"]!==p.params["*"]};return c==="assets"?e.filter((p,m)=>h(p,m)||d(p,m)):c==="data"?e.filter((p,m)=>{var y;let v=a.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(h(p,m)||d(p,m))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((y=i[0])==null?void 0:y.params)||{},nextUrl:new URL(s,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function XT(s,e,{includeHydrateFallback:i}={}){return $T(s.map(a=>{let o=e.routes[a.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function $T(s){return[...new Set(s)]}function ZT(s){let e={},i=Object.keys(s).sort();for(let a of i)e[a]=s[a];return e}function JT(s,e){let i=new Set;return new Set(e),s.reduce((a,o)=>{let c=JSON.stringify(ZT(o));return i.has(c)||(i.add(c),a.push({key:c,link:o})),a},[])}function eC(s){let e=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function tC(){let s=I.useContext(wr);return zh(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function nC(){let s=I.useContext(du);return zh(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var Ph=I.createContext(void 0);Ph.displayName="FrameworkContext";function $v(){let s=I.useContext(Ph);return zh(s,"You must render this element inside a <HydratedRouter> element"),s}function iC(s,e){let i=I.useContext(Ph),[a,o]=I.useState(!1),[c,h]=I.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:m,onMouseLeave:v,onTouchStart:y}=e,S=I.useRef(null);I.useEffect(()=>{if(s==="render"&&h(!0),s==="viewport"){let L=P=>{P.forEach(q=>{h(q.isIntersecting)})},z=new IntersectionObserver(L,{threshold:.5});return S.current&&z.observe(S.current),()=>{z.disconnect()}}},[s]),I.useEffect(()=>{if(a){let L=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(L)}}},[a]);let N=()=>{o(!0)},R=()=>{o(!1),h(!1)};return i?s!=="intent"?[c,S,{}]:[c,S,{onFocus:Ma(d,N),onBlur:Ma(p,R),onMouseEnter:Ma(m,N),onMouseLeave:Ma(v,R),onTouchStart:Ma(y,N)}]:[!1,S,{}]}function Ma(s,e){return i=>{s&&s(i),i.defaultPrevented||e(i)}}function sC({page:s,...e}){let{router:i}=tC(),a=I.useMemo(()=>jv(i.routes,s,i.basename),[i.routes,s,i.basename]);return a?I.createElement(aC,{page:s,matches:a,...e}):null}function rC(s){let{manifest:e,routeModules:i}=$v(),[a,o]=I.useState([]);return I.useEffect(()=>{let c=!1;return WT(s,e,i).then(h=>{c||o(h)}),()=>{c=!0}},[s,e,i]),a}function aC({page:s,matches:e,...i}){let a=Cs(),{manifest:o,routeModules:c}=$v(),{loaderData:h,matches:d}=nC(),p=I.useMemo(()=>A_(s,e,d,o,a,"data"),[s,e,d,o,a]),m=I.useMemo(()=>A_(s,e,d,o,a,"assets"),[s,e,d,o,a]),v=I.useMemo(()=>{if(s===a.pathname+a.search+a.hash)return[];let N=new Set,R=!1;if(e.forEach(z=>{var q;let P=o.routes[z.route.id];!P||!P.hasLoader||(!p.some(B=>B.route.id===z.route.id)&&z.route.id in h&&((q=c[z.route.id])!=null&&q.shouldRevalidate)||P.hasClientLoader?R=!0:N.add(z.route.id))}),N.size===0)return[];let L=eC(s);return R&&N.size>0&&L.searchParams.set("_routes",e.filter(z=>N.has(z.route.id)).map(z=>z.route.id).join(",")),[L.pathname+L.search]},[h,a,o,p,e,s,c]),y=I.useMemo(()=>XT(m,o),[m,o]),S=rC(m);return I.createElement(I.Fragment,null,v.map(N=>I.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...i})),y.map(N=>I.createElement("link",{key:N,rel:"modulepreload",href:N,...i})),S.map(({key:N,link:R})=>I.createElement("link",{key:N,...R})))}function lC(...s){return e=>{s.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var Zv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Zv&&(window.__reactRouterVersion="7.2.0")}catch{}function oC({basename:s,children:e,window:i}){let a=I.useRef();a.current==null&&(a.current=Wb({window:i,v5Compat:!0}));let o=a.current,[c,h]=I.useState({action:o.action,location:o.location}),d=I.useCallback(p=>{I.startTransition(()=>h(p))},[h]);return I.useLayoutEffect(()=>o.listen(d),[o,d]),I.createElement(zT,{basename:s,children:e,location:c.location,navigationType:c.action,navigator:o})}var Jv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ey=I.forwardRef(function({onClick:e,discover:i="render",prefetch:a="none",relative:o,reloadDocument:c,replace:h,state:d,target:p,to:m,preventScrollReset:v,viewTransition:y,...S},N){let{basename:R}=I.useContext(Sn),L=typeof m=="string"&&Jv.test(m),z,P=!1;if(typeof m=="string"&&L&&(z=m,Zv))try{let F=new URL(window.location.href),ie=m.startsWith("//")?new URL(F.protocol+m):new URL(m),gt=zi(ie.pathname,R);ie.origin===F.origin&&gt!=null?m=gt+ie.search+ie.hash:P=!0}catch{on(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let q=ST(m,{relative:o}),[B,de,$]=iC(a,S),Ie=fC(m,{replace:h,state:d,target:p,preventScrollReset:v,relative:o,viewTransition:y});function Ve(F){e&&e(F),F.defaultPrevented||Ie(F)}let Je=I.createElement("a",{...S,...$,href:z||q,onClick:P||c?e:Ve,ref:lC(N,de),target:p,"data-discover":!L&&i==="render"?"true":void 0});return B&&!L?I.createElement(I.Fragment,null,Je,I.createElement(sC,{page:q})):Je});ey.displayName="Link";var Go=I.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:a="",end:o=!1,style:c,to:h,viewTransition:d,children:p,...m},v){let y=al(h,{relative:m.relative}),S=Cs(),N=I.useContext(du),{navigator:R,basename:L}=I.useContext(Sn),z=N!=null&&gC(y)&&d===!0,P=R.encodeLocation?R.encodeLocation(y).pathname:y.pathname,q=S.pathname,B=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;i||(q=q.toLowerCase(),B=B?B.toLowerCase():null,P=P.toLowerCase()),B&&L&&(B=zi(B,L)||B);const de=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let $=q===P||!o&&q.startsWith(P)&&q.charAt(de)==="/",Ie=B!=null&&(B===P||!o&&B.startsWith(P)&&B.charAt(P.length)==="/"),Ve={isActive:$,isPending:Ie,isTransitioning:z},Je=$?e:void 0,F;typeof a=="function"?F=a(Ve):F=[a,$?"active":null,Ie?"pending":null,z?"transitioning":null].filter(Boolean).join(" ");let ie=typeof c=="function"?c(Ve):c;return I.createElement(ey,{...m,"aria-current":Je,className:F,ref:v,style:ie,to:h,viewTransition:d},typeof p=="function"?p(Ve):p)});Go.displayName="NavLink";var uC=I.forwardRef(({discover:s="render",fetcherKey:e,navigate:i,reloadDocument:a,replace:o,state:c,method:h=zo,action:d,onSubmit:p,relative:m,preventScrollReset:v,viewTransition:y,...S},N)=>{let R=pC(),L=mC(d,{relative:m}),z=h.toLowerCase()==="get"?"get":"post",P=typeof d=="string"&&Jv.test(d),q=B=>{if(p&&p(B),B.defaultPrevented)return;B.preventDefault();let de=B.nativeEvent.submitter,$=(de==null?void 0:de.getAttribute("formmethod"))||h;R(de||B.currentTarget,{fetcherKey:e,method:$,navigate:i,replace:o,state:c,relative:m,preventScrollReset:v,viewTransition:y})};return I.createElement("form",{ref:N,method:z,action:L,onSubmit:a?p:q,...S,"data-discover":!P&&s==="render"?"true":void 0})});uC.displayName="Form";function cC(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ty(s){let e=I.useContext(wr);return ze(e,cC(s)),e}function fC(s,{target:e,replace:i,state:a,preventScrollReset:o,relative:c,viewTransition:h}={}){let d=bT(),p=Cs(),m=al(s,{relative:c});return I.useCallback(v=>{if(VT(v,e)){v.preventDefault();let y=i!==void 0?i:Ya(p)===Ya(m);d(s,{replace:y,state:a,preventScrollReset:o,relative:c,viewTransition:h})}},[p,d,m,i,a,e,s,o,c,h])}var hC=0,dC=()=>`__${String(++hC)}__`;function pC(){let{router:s}=ty("useSubmit"),{basename:e}=I.useContext(Sn),i=MT();return I.useCallback(async(a,o={})=>{let{action:c,method:h,encType:d,formData:p,body:m}=YT(a,e);if(o.navigate===!1){let v=o.fetcherKey||dC();await s.fetch(v,i,o.action||c,{preventScrollReset:o.preventScrollReset,formData:p,body:m,formMethod:o.method||h,formEncType:o.encType||d,flushSync:o.flushSync})}else await s.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:p,body:m,formMethod:o.method||h,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:i,flushSync:o.flushSync,viewTransition:o.viewTransition})},[s,e,i])}function mC(s,{relative:e}={}){let{basename:i}=I.useContext(Sn),a=I.useContext(Zn);ze(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),c={...al(s||".",{relative:e})},h=Cs();if(s==null){c.search=h.search;let d=new URLSearchParams(c.search),p=d.getAll("index");if(p.some(v=>v==="")){d.delete("index"),p.filter(y=>y).forEach(y=>d.append("index",y));let v=d.toString();c.search=v?`?${v}`:""}}return(!s||s===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(c.pathname=c.pathname==="/"?i:Gn([i,c.pathname])),Ya(c)}function gC(s,e={}){let i=I.useContext(Yv);ze(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=ty("useViewTransitionState"),o=al(s,{relative:e.relative});if(!i.isTransitioning)return!1;let c=zi(i.currentLocation.pathname,a)||i.currentLocation.pathname,h=zi(i.nextLocation.pathname,a)||i.nextLocation.pathname;return Fo(o.pathname,h)!=null||Fo(o.pathname,c)!=null}new TextEncoder;const _C="_logoApp_vj0az_1",vC="_icon_vj0az_15",N_={logoApp:_C,icon:vC};function yC(){return w.jsxs("div",{className:N_.logoApp,children:[w.jsx("strong",{children:"Новости"}),w.jsx("div",{className:N_.icon,children:"В теме"})]})}const EC="_li_19p62_1",SC="_navLink_19p62_9",bC="_ul_19p62_31",Kf={li:EC,navLink:SC,ul:bC};function TC({namesElements:s,path:e}){return w.jsx("nav",{children:w.jsx("ul",{className:Kf.ul,children:s.map((i,a)=>w.jsx("li",{className:Kf.li,children:w.jsx(Go,{to:e[a],className:Kf.navLink,children:i})},a))})})}const CC="_search_ylxti_1",wC="_iconSearch_ylxti_23",RC="_inputSearch_ylxti_33",Qf={search:CC,iconSearch:wC,inputSearch:RC};function AC(){return w.jsxs("div",{className:Qf.search,children:[w.jsx("img",{className:Qf.iconSearch,src:"images/search.svg",alt:"search"}),w.jsx("input",{className:Qf.inputSearch,placeholder:"Поиск"})]})}const NC="_header_39pcl_1",OC={header:NC};function DC(){const s=["Новости приложения","Личный кабинет"],e=["homeApp","account"];return w.jsxs("header",{className:OC.header,children:[w.jsx(yC,{}),w.jsx(TC,{namesElements:s,path:e}),w.jsx(AC,{})]})}const IC="_homeNews_8xeiu_1",xC="_containerNews_8xeiu_11",MC="_titleForm_8xeiu_25",Wf={homeNews:IC,containerNews:xC,titleForm:MC},kC="_infoCard_1wfwp_1",LC="_infoAuthor_1wfwp_13",UC="_minCardNews_1wfwp_27",zC="_maxCardNews_1wfwp_47",PC="_darkishText_1wfwp_63",HC="_lightishText_1wfwp_63",jC="_userImage_1wfwp_113",BC="_bigImage_1wfwp_127",qC="_smallImage_1wfwp_139",VC="_modalOverlay_1wfwp_151",FC="_modalContent_1wfwp_175",GC="_hContant_1wfwp_219",YC="_p_1wfwp_233",KC="_pContant_1wfwp_247",QC="_imageModal_1wfwp_265",Qe={infoCard:kC,infoAuthor:LC,minCardNews:UC,maxCardNews:zC,darkishText:PC,lightishText:HC,userImage:jC,bigImage:BC,smallImage:qC,modalOverlay:VC,modalContent:FC,hContant:GC,p:YC,pContant:KC,imageModal:QC};function O_({isMinCardNews:s,dataNews:e}){const[i,a]=I.useState(!1),o=()=>i?w.jsx("div",{className:Qe.modalOverlay,onClick:c=>{c.stopPropagation(),a(!1)},children:w.jsxs("div",{className:Qe.modalContent,children:[w.jsxs("p",{className:Qe.p,children:[" ",e.dataLastChange," "]}),w.jsxs("h1",{className:Qe.hContant,children:[" ",e.title," "]}),w.jsxs("div",{className:Qe.infoAuthor,children:[w.jsx("img",{className:Qe.userImage,src:e.authorImage}),w.jsxs("p",{className:Qe.p,children:[" ",e.authorName," "]})]}),w.jsx("img",{className:Qe.imageModal,src:e.urlImage}),w.jsxs("p",{className:Qe.pContant,children:[" ",e.content," "]})]})}):null;return w.jsxs("div",{onClick:()=>{a(!0)},className:s?Qe.minCardNews:Qe.maxCardNews,children:[w.jsx("img",{className:`${s?Qe.smallImage:Qe.bigImage}`,src:e.urlImage}),w.jsxs("div",{className:Qe.infoCard,children:[w.jsxs("p",{className:Qe.darkishText,children:[" ",e.dataLastChange," "]}),w.jsxs("h1",{className:Qe.lightishText,children:[" ",e.title," "]}),w.jsxs("p",{className:Qe.darkishText,children:[" ",e.content," "]}),w.jsxs("div",{className:Qe.infoAuthor,children:[w.jsx("img",{className:Qe.userImage,src:e.authorImage}),w.jsxs("p",{className:Qe.lightishText,children:[" ",e.authorName," "]})]})]}),w.jsx(o,{})]})}const WC=()=>{};var D_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ny={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j=function(s,e){if(!s)throw Rr(e)},Rr=function(s){return new Error("Firebase Database ("+ny.SDK_VERSION+") INTERNAL ASSERT FAILED: "+s)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iy=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},XC=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const o=s[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[i++];e[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[i++],h=s[i++],d=s[i++],p=((o&7)<<18|(c&63)<<12|(h&63)<<6|d&63)-65536;e[a++]=String.fromCharCode(55296+(p>>10)),e[a++]=String.fromCharCode(56320+(p&1023))}else{const c=s[i++],h=s[i++];e[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|h&63)}}return e.join("")},Hh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const c=s[o],h=o+1<s.length,d=h?s[o+1]:0,p=o+2<s.length,m=p?s[o+2]:0,v=c>>2,y=(c&3)<<4|d>>4;let S=(d&15)<<2|m>>6,N=m&63;p||(N=64,h||(S=64)),a.push(i[v],i[y],i[S],i[N])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(iy(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):XC(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const c=i[s.charAt(o++)],d=o<s.length?i[s.charAt(o)]:0;++o;const m=o<s.length?i[s.charAt(o)]:64;++o;const y=o<s.length?i[s.charAt(o)]:64;if(++o,c==null||d==null||m==null||y==null)throw new $C;const S=c<<2|d>>4;if(a.push(S),m!==64){const N=d<<4&240|m>>2;if(a.push(N),y!==64){const R=m<<6&192|y;a.push(R)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class $C extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sy=function(s){const e=iy(s);return Hh.encodeByteArray(e,!0)},Yo=function(s){return sy(s).replace(/\./g,"")},Ko=function(s){try{return Hh.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZC(s){return ry(void 0,s)}function ry(s,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const i=e;return new Date(i.getTime());case Object:s===void 0&&(s={});break;case Array:s=[];break;default:return e}for(const i in e)!e.hasOwnProperty(i)||!JC(i)||(s[i]=ry(s[i],e[i]));return s}function JC(s){return s!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ew(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tw=()=>ew().__FIREBASE_DEFAULTS__,nw=()=>{if(typeof process>"u"||typeof D_>"u")return;const s=D_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},iw=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Ko(s[1]);return e&&JSON.parse(e)},jh=()=>{try{return WC()||tw()||nw()||iw()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},ay=s=>{var e,i;return(i=(e=jh())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[s]},sw=s=>{const e=ay(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},ly=()=>{var s;return(s=jh())===null||s===void 0?void 0:s.config},oy=s=>{var e;return(e=jh())===null||e===void 0?void 0:e[`_${s}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rw(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},s);return[Yo(JSON.stringify(i)),Yo(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Bh(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(St())}function aw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function lw(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function uy(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ow(){const s=St();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function uw(){return ny.NODE_ADMIN===!0}function cw(){try{return typeof indexedDB=="object"}catch{return!1}}function fw(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var c;e(((c=o.error)===null||c===void 0?void 0:c.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw="FirebaseError";class Bi extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=hw,Object.setPrototypeOf(this,Bi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ll.prototype.create)}}class ll{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],h=c?dw(c,a):"Error",d=`${this.serviceName}: ${h} (${o}).`;return new Bi(o,d,a)}}function dw(s,e){return s.replace(pw,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const pw=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ka(s){return JSON.parse(s)}function $e(s){return JSON.stringify(s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cy=function(s){let e={},i={},a={},o="";try{const c=s.split(".");e=Ka(Ko(c[0])||""),i=Ka(Ko(c[1])||""),o=c[2],a=i.d||{},delete i.d}catch{}return{header:e,claims:i,data:a,signature:o}},mw=function(s){const e=cy(s),i=e.claims;return!!i&&typeof i=="object"&&i.hasOwnProperty("iat")},gw=function(s){const e=cy(s).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(s,e){return Object.prototype.hasOwnProperty.call(s,e)}function _r(s,e){if(Object.prototype.hasOwnProperty.call(s,e))return s[e]}function dh(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Qo(s,e,i){const a={};for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&(a[o]=e.call(i,s[o],o,s));return a}function gs(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const c=s[o],h=e[o];if(I_(c)&&I_(h)){if(!gs(c,h))return!1}else if(c!==h)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function I_(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(s){const e=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function Pa(s){const e={};return s.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[o,c]=a.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function Ha(s){const e=s.indexOf("?");if(!e)return"";const i=s.indexOf("#",e);return s.substring(e,i>0?i:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,i){i||(i=0);const a=this.W_;if(typeof e=="string")for(let y=0;y<16;y++)a[y]=e.charCodeAt(i)<<24|e.charCodeAt(i+1)<<16|e.charCodeAt(i+2)<<8|e.charCodeAt(i+3),i+=4;else for(let y=0;y<16;y++)a[y]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i+=4;for(let y=16;y<80;y++){const S=a[y-3]^a[y-8]^a[y-14]^a[y-16];a[y]=(S<<1|S>>>31)&4294967295}let o=this.chain_[0],c=this.chain_[1],h=this.chain_[2],d=this.chain_[3],p=this.chain_[4],m,v;for(let y=0;y<80;y++){y<40?y<20?(m=d^c&(h^d),v=1518500249):(m=c^h^d,v=1859775393):y<60?(m=c&h|d&(c|h),v=2400959708):(m=c^h^d,v=3395469782);const S=(o<<5|o>>>27)+m+p+v+a[y]&4294967295;p=d,d=h,h=(c<<30|c>>>2)&4294967295,c=o,o=S}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+h&4294967295,this.chain_[3]=this.chain_[3]+d&4294967295,this.chain_[4]=this.chain_[4]+p&4294967295}update(e,i){if(e==null)return;i===void 0&&(i=e.length);const a=i-this.blockSize;let o=0;const c=this.buf_;let h=this.inbuf_;for(;o<i;){if(h===0)for(;o<=a;)this.compress_(e,o),o+=this.blockSize;if(typeof e=="string"){for(;o<i;)if(c[h]=e.charCodeAt(o),++h,++o,h===this.blockSize){this.compress_(c),h=0;break}}else for(;o<i;)if(c[h]=e[o],++h,++o,h===this.blockSize){this.compress_(c),h=0;break}}this.inbuf_=h,this.total_+=i}digest(){const e=[];let i=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=i&255,i/=256;this.compress_(this.buf_);let a=0;for(let o=0;o<5;o++)for(let c=24;c>=0;c-=8)e[a]=this.chain_[o]>>c&255,++a;return e}}function vw(s,e){const i=new yw(s,e);return i.subscribe.bind(i)}class yw{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let o;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");Ew(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:a},o.next===void 0&&(o.next=Xf),o.error===void 0&&(o.error=Xf),o.complete===void 0&&(o.complete=Xf);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ew(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Xf(){}function qh(s,e){return`${s} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);if(o>=55296&&o<=56319){const c=o-55296;a++,j(a<s.length,"Surrogate pair missing trail surrogate.");const h=s.charCodeAt(a)-56320;o=65536+(c<<10)+h}o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):o<65536?(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},gu=function(s){let e=0;for(let i=0;i<s.length;i++){const a=s.charCodeAt(i);a<128?e++:a<2048?e+=2:a>=55296&&a<=56319?(e+=4,i++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(s){return s&&s._delegate?s._delegate:s}class _s{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new mu;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(c){if(o)return null;throw c}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Cw(e))try{this.getOrInitializeService({instanceIdentifier:hs})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(e=hs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=hs){return this.instances.has(e)}getOptions(e=hs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(c);a===d&&h.resolve(o)}return o}onInit(e,i){var a;const o=this.normalizeInstanceIdentifier(i),c=(a=this.onInitCallbacks.get(o))!==null&&a!==void 0?a:new Set;c.add(e),this.onInitCallbacks.set(o,c);const h=this.instances.get(o);return h&&e(h,o),()=>{c.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:Tw(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=hs){return this.component?this.component.multipleInstances?e:hs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Tw(s){return s===hs?void 0:s}function Cw(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new bw(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ce||(Ce={}));const Rw={debug:Ce.DEBUG,verbose:Ce.VERBOSE,info:Ce.INFO,warn:Ce.WARN,error:Ce.ERROR,silent:Ce.SILENT},Aw=Ce.INFO,Nw={[Ce.DEBUG]:"log",[Ce.VERBOSE]:"log",[Ce.INFO]:"info",[Ce.WARN]:"warn",[Ce.ERROR]:"error"},Ow=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),o=Nw[e];if(o)console[o](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Vh{constructor(e){this.name=e,this._logLevel=Aw,this._logHandler=Ow,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Rw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ce.DEBUG,...e),this._logHandler(this,Ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ce.VERBOSE,...e),this._logHandler(this,Ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ce.INFO,...e),this._logHandler(this,Ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ce.WARN,...e),this._logHandler(this,Ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ce.ERROR,...e),this._logHandler(this,Ce.ERROR,...e)}}const Dw=(s,e)=>e.some(i=>s instanceof i);let x_,M_;function Iw(){return x_||(x_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xw(){return M_||(M_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const fy=new WeakMap,ph=new WeakMap,hy=new WeakMap,$f=new WeakMap,Fh=new WeakMap;function Mw(s){const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",h)},c=()=>{i(xi(s.result)),o()},h=()=>{a(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",h)});return e.then(i=>{i instanceof IDBCursor&&fy.set(i,s)}).catch(()=>{}),Fh.set(e,s),e}function kw(s){if(ph.has(s))return;const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",h),s.removeEventListener("abort",h)},c=()=>{i(),o()},h=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",h),s.addEventListener("abort",h)});ph.set(s,e)}let mh={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return ph.get(s);if(e==="objectStoreNames")return s.objectStoreNames||hy.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return xi(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function Lw(s){mh=s(mh)}function Uw(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(Zf(this),e,...i);return hy.set(a,e.sort?e.sort():[e]),xi(a)}:xw().includes(s)?function(...e){return s.apply(Zf(this),e),xi(fy.get(this))}:function(...e){return xi(s.apply(Zf(this),e))}}function zw(s){return typeof s=="function"?Uw(s):(s instanceof IDBTransaction&&kw(s),Dw(s,Iw())?new Proxy(s,mh):s)}function xi(s){if(s instanceof IDBRequest)return Mw(s);if($f.has(s))return $f.get(s);const e=zw(s);return e!==s&&($f.set(s,e),Fh.set(e,s)),e}const Zf=s=>Fh.get(s);function Pw(s,e,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const h=indexedDB.open(s,e),d=xi(h);return a&&h.addEventListener("upgradeneeded",p=>{a(xi(h.result),p.oldVersion,p.newVersion,xi(h.transaction),p)}),i&&h.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),d.then(p=>{c&&p.addEventListener("close",()=>c()),o&&p.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const Hw=["get","getKey","getAll","getAllKeys","count"],jw=["put","add","delete","clear"],Jf=new Map;function k_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Jf.get(e))return Jf.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=jw.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||Hw.includes(i)))return;const c=async function(h,...d){const p=this.transaction(h,o?"readwrite":"readonly");let m=p.store;return a&&(m=m.index(d.shift())),(await Promise.all([m[i](...d),o&&p.done]))[0]};return Jf.set(e,c),c}Lw(s=>({...s,get:(e,i,a)=>k_(e,i)||s.get(e,i,a),has:(e,i)=>!!k_(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(qw(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function qw(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const gh="@firebase/app",L_="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qn=new Vh("@firebase/app"),Vw="@firebase/app-compat",Fw="@firebase/analytics-compat",Gw="@firebase/analytics",Yw="@firebase/app-check-compat",Kw="@firebase/app-check",Qw="@firebase/auth",Ww="@firebase/auth-compat",Xw="@firebase/database",$w="@firebase/data-connect",Zw="@firebase/database-compat",Jw="@firebase/functions",eR="@firebase/functions-compat",tR="@firebase/installations",nR="@firebase/installations-compat",iR="@firebase/messaging",sR="@firebase/messaging-compat",rR="@firebase/performance",aR="@firebase/performance-compat",lR="@firebase/remote-config",oR="@firebase/remote-config-compat",uR="@firebase/storage",cR="@firebase/storage-compat",fR="@firebase/firestore",hR="@firebase/vertexai",dR="@firebase/firestore-compat",pR="firebase",mR="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _h="[DEFAULT]",gR={[gh]:"fire-core",[Vw]:"fire-core-compat",[Gw]:"fire-analytics",[Fw]:"fire-analytics-compat",[Kw]:"fire-app-check",[Yw]:"fire-app-check-compat",[Qw]:"fire-auth",[Ww]:"fire-auth-compat",[Xw]:"fire-rtdb",[$w]:"fire-data-connect",[Zw]:"fire-rtdb-compat",[Jw]:"fire-fn",[eR]:"fire-fn-compat",[tR]:"fire-iid",[nR]:"fire-iid-compat",[iR]:"fire-fcm",[sR]:"fire-fcm-compat",[rR]:"fire-perf",[aR]:"fire-perf-compat",[lR]:"fire-rc",[oR]:"fire-rc-compat",[uR]:"fire-gcs",[cR]:"fire-gcs-compat",[fR]:"fire-fst",[dR]:"fire-fst-compat",[hR]:"fire-vertex","fire-js":"fire-js",[pR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wo=new Map,_R=new Map,vh=new Map;function U_(s,e){try{s.container.addComponent(e)}catch(i){Qn.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function vr(s){const e=s.name;if(vh.has(e))return Qn.debug(`There were multiple attempts to register component ${e}.`),!1;vh.set(e,s);for(const i of Wo.values())U_(i,s);for(const i of _R.values())U_(i,s);return!0}function Gh(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function Xt(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Mi=new ll("app","Firebase",vR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e,i,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new _s("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Mi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nr=mR;function dy(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a=Object.assign({name:_h,automaticDataCollectionEnabled:!1},e),o=a.name;if(typeof o!="string"||!o)throw Mi.create("bad-app-name",{appName:String(o)});if(i||(i=ly()),!i)throw Mi.create("no-options");const c=Wo.get(o);if(c){if(gs(i,c.options)&&gs(a,c.config))return c;throw Mi.create("duplicate-app",{appName:o})}const h=new ww(o);for(const p of vh.values())h.addComponent(p);const d=new yR(i,a,h);return Wo.set(o,d),d}function py(s=_h){const e=Wo.get(s);if(!e&&s===_h&&ly())return dy();if(!e)throw Mi.create("no-app",{appName:s});return e}function ki(s,e,i){var a;let o=(a=gR[s])!==null&&a!==void 0?a:s;i&&(o+=`-${i}`);const c=o.match(/\s|\//),h=e.match(/\s|\//);if(c||h){const d=[`Unable to register library "${o}" with version "${e}":`];c&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),c&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qn.warn(d.join(" "));return}vr(new _s(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER="firebase-heartbeat-database",SR=1,Qa="firebase-heartbeat-store";let eh=null;function my(){return eh||(eh=Pw(ER,SR,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Qa)}catch(i){console.warn(i)}}}}).catch(s=>{throw Mi.create("idb-open",{originalErrorMessage:s.message})})),eh}async function bR(s){try{const i=(await my()).transaction(Qa),a=await i.objectStore(Qa).get(gy(s));return await i.done,a}catch(e){if(e instanceof Bi)Qn.warn(e.message);else{const i=Mi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Qn.warn(i.message)}}}async function z_(s,e){try{const a=(await my()).transaction(Qa,"readwrite");await a.objectStore(Qa).put(e,gy(s)),await a.done}catch(i){if(i instanceof Bi)Qn.warn(i.message);else{const a=Mi.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Qn.warn(a.message)}}}function gy(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR=1024,CR=30;class wR{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new AR(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=P_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(h=>h.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>CR){const h=NR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Qn.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=P_(),{heartbeatsToSend:a,unsentEntries:o}=RR(this._heartbeatsCache.heartbeats),c=Yo(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(i){return Qn.warn(i),""}}}function P_(){return new Date().toISOString().substring(0,10)}function RR(s,e=TR){const i=[];let a=s.slice();for(const o of s){const c=i.find(h=>h.agent===o.agent);if(c){if(c.dates.push(o.date),H_(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),H_(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class AR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return cw()?fw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await bR(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return z_(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return z_(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function H_(s){return Yo(JSON.stringify({version:2,heartbeats:s})).length}function NR(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OR(s){vr(new _s("platform-logger",e=>new Bw(e),"PRIVATE")),vr(new _s("heartbeat",e=>new wR(e),"PRIVATE")),ki(gh,L_,s),ki(gh,L_,"esm2017"),ki("fire-js","")}OR("");var DR="firebase",IR="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ki(DR,IR,"app");function Yh(s,e){var i={};for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&e.indexOf(a)<0&&(i[a]=s[a]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(s);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(s,a[o])&&(i[a[o]]=s[a[o]]);return i}function _y(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const xR=_y,vy=new ll("auth","Firebase",_y());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xo=new Vh("@firebase/auth");function MR(s,...e){Xo.logLevel<=Ce.WARN&&Xo.warn(`Auth (${Nr}): ${s}`,...e)}function Ho(s,...e){Xo.logLevel<=Ce.ERROR&&Xo.error(`Auth (${Nr}): ${s}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(s,...e){throw Kh(s,...e)}function vn(s,...e){return Kh(s,...e)}function yy(s,e,i){const a=Object.assign(Object.assign({},xR()),{[e]:i});return new ll("auth","Firebase",a).create(e,{appName:s.name})}function Yn(s){return yy(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Kh(s,...e){if(typeof s!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return vy.create(s,...e)}function J(s,e,...i){if(!s)throw Kh(e,...i)}function Bn(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Ho(e),new Error(e)}function Wn(s,e){s||Bn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yh(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.href)||""}function kR(){return j_()==="http:"||j_()==="https:"}function j_(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(kR()||lw()||"connection"in navigator)?navigator.onLine:!0}function UR(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e,i){this.shortDelay=e,this.longDelay=i,Wn(i>e,"Short delay should be less than long delay!"),this.isMobile=Bh()||uy()}get(){return LR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qh(s,e){Wn(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Bn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Bn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Bn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR=new ol(3e4,6e4);function qi(s,e){return s.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:s.tenantId}):e}async function ei(s,e,i,a,o={}){return Sy(s,o,async()=>{let c={},h={};a&&(e==="GET"?h=a:c={body:JSON.stringify(a)});const d=Ar(Object.assign({key:s.config.apiKey},h)).slice(1),p=await s._getAdditionalHeaders();p["Content-Type"]="application/json",s.languageCode&&(p["X-Firebase-Locale"]=s.languageCode);const m=Object.assign({method:e,headers:p},c);return aw()||(m.referrerPolicy="no-referrer"),Ey.fetch()(by(s,s.config.apiHost,i,d),m)})}async function Sy(s,e,i){s._canInitEmulator=!1;const a=Object.assign(Object.assign({},zR),e);try{const o=new jR(s),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const h=await c.json();if("needConfirmation"in h)throw ko(s,"account-exists-with-different-credential",h);if(c.ok&&!("errorMessage"in h))return h;{const d=c.ok?h.errorMessage:h.error.message,[p,m]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw ko(s,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw ko(s,"email-already-in-use",h);if(p==="USER_DISABLED")throw ko(s,"user-disabled",h);const v=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw yy(s,v,m);un(s,v)}}catch(o){if(o instanceof Bi)throw o;un(s,"network-request-failed",{message:String(o)})}}async function ul(s,e,i,a,o={}){const c=await ei(s,e,i,a,o);return"mfaPendingCredential"in c&&un(s,"multi-factor-auth-required",{_serverResponse:c}),c}function by(s,e,i,a){const o=`${e}${i}?${a}`;return s.config.emulator?Qh(s.config,o):`${s.config.apiScheme}://${o}`}function HR(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class jR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(vn(this.auth,"network-request-failed")),PR.get())})}}function ko(s,e,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=vn(s,e,a);return o.customData._tokenResponse=i,o}function B_(s){return s!==void 0&&s.enterprise!==void 0}class BR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return HR(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function qR(s,e){return ei(s,"GET","/v2/recaptchaConfig",qi(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VR(s,e){return ei(s,"POST","/v1/accounts:delete",e)}async function Ty(s,e){return ei(s,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ja(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function FR(s,e=!1){const i=mt(s),a=await i.getIdToken(e),o=Wh(a);J(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,h=c==null?void 0:c.sign_in_provider;return{claims:o,token:a,authTime:ja(th(o.auth_time)),issuedAtTime:ja(th(o.iat)),expirationTime:ja(th(o.exp)),signInProvider:h||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function th(s){return Number(s)*1e3}function Wh(s){const[e,i,a]=s.split(".");if(e===void 0||i===void 0||a===void 0)return Ho("JWT malformed, contained fewer than 3 sections"),null;try{const o=Ko(i);return o?JSON.parse(o):(Ho("Failed to decode base64 JWT payload"),null)}catch(o){return Ho("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function q_(s){const e=Wh(s);return J(e,"internal-error"),J(typeof e.exp<"u","internal-error"),J(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yr(s,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof Bi&&GR(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function GR({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var i;if(e){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const o=((i=this.user.stsTokenManager.expirationTime)!==null&&i!==void 0?i:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=ja(this.lastLoginAt),this.creationTime=ja(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $o(s){var e;const i=s.auth,a=await s.getIdToken(),o=await yr(s,Ty(i,{idToken:a}));J(o==null?void 0:o.users.length,i,"internal-error");const c=o.users[0];s._notifyReloadListener(c);const h=!((e=c.providerUserInfo)===null||e===void 0)&&e.length?Cy(c.providerUserInfo):[],d=QR(s.providerData,h),p=s.isAnonymous,m=!(s.email&&c.passwordHash)&&!(d!=null&&d.length),v=p?m:!1,y={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:d,metadata:new Eh(c.createdAt,c.lastLoginAt),isAnonymous:v};Object.assign(s,y)}async function KR(s){const e=mt(s);await $o(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function QR(s,e){return[...s.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function Cy(s){return s.map(e=>{var{providerId:i}=e,a=Yh(e,["providerId"]);return{providerId:i,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WR(s,e){const i=await Sy(s,{},async()=>{const a=Ar({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,h=by(s,o,"/v1/token",`key=${c}`),d=await s._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",Ey.fetch()(h,{method:"POST",headers:d,body:a})});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function XR(s,e){return ei(s,"POST","/v2/accounts:revokeToken",qi(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){J(e.idToken,"internal-error"),J(typeof e.idToken<"u","internal-error"),J(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):q_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){J(e.length!==0,"internal-error");const i=q_(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(J(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await WR(e,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,h=new hr;return a&&(J(typeof a=="string","internal-error",{appName:e}),h.refreshToken=a),o&&(J(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),c&&(J(typeof c=="number","internal-error",{appName:e}),h.expirationTime=c),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new hr,this.toJSON())}_performRefresh(){return Bn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ri(s,e){J(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class qn{constructor(e){var{uid:i,auth:a,stsTokenManager:o}=e,c=Yh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new YR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=i,this.auth=a,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new Eh(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(e){const i=await yr(this,this.stsTokenManager.getToken(this.auth,e));return J(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return FR(this,e)}reload(){return KR(this)}_assign(e){this!==e&&(J(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>Object.assign({},i)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new qn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return i.metadata._copy(this.metadata),i}_onReload(e){J(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await $o(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xt(this.auth.app))return Promise.reject(Yn(this.auth));const e=await this.getIdToken();return await yr(this,VR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){var a,o,c,h,d,p,m,v;const y=(a=i.displayName)!==null&&a!==void 0?a:void 0,S=(o=i.email)!==null&&o!==void 0?o:void 0,N=(c=i.phoneNumber)!==null&&c!==void 0?c:void 0,R=(h=i.photoURL)!==null&&h!==void 0?h:void 0,L=(d=i.tenantId)!==null&&d!==void 0?d:void 0,z=(p=i._redirectEventId)!==null&&p!==void 0?p:void 0,P=(m=i.createdAt)!==null&&m!==void 0?m:void 0,q=(v=i.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:B,emailVerified:de,isAnonymous:$,providerData:Ie,stsTokenManager:Ve}=i;J(B&&Ve,e,"internal-error");const Je=hr.fromJSON(this.name,Ve);J(typeof B=="string",e,"internal-error"),Ri(y,e.name),Ri(S,e.name),J(typeof de=="boolean",e,"internal-error"),J(typeof $=="boolean",e,"internal-error"),Ri(N,e.name),Ri(R,e.name),Ri(L,e.name),Ri(z,e.name),Ri(P,e.name),Ri(q,e.name);const F=new qn({uid:B,auth:e,email:S,emailVerified:de,displayName:y,isAnonymous:$,photoURL:R,phoneNumber:N,tenantId:L,stsTokenManager:Je,createdAt:P,lastLoginAt:q});return Ie&&Array.isArray(Ie)&&(F.providerData=Ie.map(ie=>Object.assign({},ie))),z&&(F._redirectEventId=z),F}static async _fromIdTokenResponse(e,i,a=!1){const o=new hr;o.updateFromServerResponse(i);const c=new qn({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await $o(c),c}static async _fromGetAccountInfoResponse(e,i,a){const o=i.users[0];J(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?Cy(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(c!=null&&c.length),d=new hr;d.updateFromIdToken(a);const p=new qn({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:h}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Eh(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(c!=null&&c.length)};return Object.assign(p,m),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_=new Map;function Vn(s){Wn(s instanceof Function,"Expected a class definition");let e=V_.get(s);return e?(Wn(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,V_.set(s,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}wy.type="NONE";const F_=wy;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jo(s,e,i){return`firebase:${s}:${e}:${i}`}class dr{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=jo(this.userKey,o.apiKey,c),this.fullPersistenceKey=jo("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?qn._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new dr(Vn(F_),e,a);const o=(await Promise.all(i.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let c=o[0]||Vn(F_);const h=jo(a,e.config.apiKey,e.name);let d=null;for(const m of i)try{const v=await m._get(h);if(v){const y=qn._fromJSON(e,v);m!==c&&(d=y),c=m;break}}catch{}const p=o.filter(m=>m._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new dr(c,e,a):(c=p[0],d&&await c._set(h,d.toJSON()),await Promise.all(i.map(async m=>{if(m!==c)try{await m._remove(h)}catch{}})),new dr(c,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G_(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Oy(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Ry(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Iy(e))return"Blackberry";if(xy(e))return"Webos";if(Ay(e))return"Safari";if((e.includes("chrome/")||Ny(e))&&!e.includes("edge/"))return"Chrome";if(Dy(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function Ry(s=St()){return/firefox\//i.test(s)}function Ay(s=St()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ny(s=St()){return/crios\//i.test(s)}function Oy(s=St()){return/iemobile/i.test(s)}function Dy(s=St()){return/android/i.test(s)}function Iy(s=St()){return/blackberry/i.test(s)}function xy(s=St()){return/webos/i.test(s)}function Xh(s=St()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function $R(s=St()){var e;return Xh(s)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function ZR(){return ow()&&document.documentMode===10}function My(s=St()){return Xh(s)||Dy(s)||xy(s)||Iy(s)||/windows phone/i.test(s)||Oy(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ky(s,e=[]){let i;switch(s){case"Browser":i=G_(St());break;case"Worker":i=`${G_(St())}-${s}`;break;default:i=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Nr}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((h,d)=>{try{const p=e(c);h(p)}catch(p){d(p)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eA(s,e={}){return ei(s,"GET","/v2/passwordPolicy",qi(s,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA=6;class nA{constructor(e){var i,a,o,c;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(i=h.minPasswordLength)!==null&&i!==void 0?i:tA,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(a=e.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(c=e.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var i,a,o,c,h,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(i=p.meetsMinPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(a=p.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(c=p.containsUppercaseLetter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(e,i,a,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Y_(this),this.idTokenSubscription=new Y_(this),this.beforeStateQueue=new JR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vy,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=Vn(i)),this._initializationPromise=this.queue(async()=>{var a,o;if(!this._deleted&&(this.persistenceManager=await dr.create(this,e),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Ty(this,{idToken:e}),a=await qn._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(Xt(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let o=a,c=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId,d=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===d)&&(p!=null&&p.user)&&(o=p.user,c=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return J(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await $o(e)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=UR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Xt(this.app))return Promise.reject(Yn(this));const i=e?mt(e):null;return i&&J(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&J(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Xt(this.app)?Promise.reject(Yn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Xt(this.app)?Promise.reject(Yn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Vn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await eA(this),i=new nA(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ll("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await XR(this,a)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&Vn(e)||this._popupRedirectResolver;J(i,this,"argument-error"),this.redirectPersistenceManager=await dr.create(this,[Vn(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var i,a;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)===null||i===void 0?void 0:i._redirectEventId)===e?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(i=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&i!==void 0?i:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let h=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(J(d,this,"internal-error"),d.then(()=>{h||c(this.currentUser)}),typeof i=="function"){const p=e.addObserver(i,a,o);return()=>{h=!0,p()}}else{const p=e.addObserver(i);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return J(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ky(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const i={"X-Client-Version":this.clientVersion};this.app.options.appId&&(i["X-Firebase-gmpid"]=this.app.options.appId);const a=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());a&&(i["X-Firebase-Client"]=a);const o=await this._getAppCheckToken();return o&&(i["X-Firebase-AppCheck"]=o),i}async _getAppCheckToken(){var e;if(Xt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const i=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return i!=null&&i.error&&MR(`Error while retrieving App Check token: ${i.error}`),i==null?void 0:i.token}}function ws(s){return mt(s)}class Y_{constructor(e){this.auth=e,this.observer=null,this.addObserver=vw(i=>this.observer=i)}get next(){return J(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _u={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function sA(s){_u=s}function Ly(s){return _u.loadJS(s)}function rA(){return _u.recaptchaEnterpriseScript}function aA(){return _u.gapiScript}function lA(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class oA{constructor(){this.enterprise=new uA}ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}class uA{ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}const cA="recaptcha-enterprise",Uy="NO_RECAPTCHA";class fA{constructor(e){this.type=cA,this.auth=ws(e)}async verify(e="verify",i=!1){async function a(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(h,d)=>{qR(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const m=new BR(p);return c.tenantId==null?c._agentRecaptchaConfig=m:c._tenantRecaptchaConfigs[c.tenantId]=m,h(m.siteKey)}}).catch(p=>{d(p)})})}function o(c,h,d){const p=window.grecaptcha;B_(p)?p.enterprise.ready(()=>{p.enterprise.execute(c,{action:e}).then(m=>{h(m)}).catch(()=>{h(Uy)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new oA().execute("siteKey",{action:"verify"}):new Promise((c,h)=>{a(this.auth).then(d=>{if(!i&&B_(window.grecaptcha))o(d,c,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=rA();p.length!==0&&(p+=d),Ly(p).then(()=>{o(d,c,h)}).catch(m=>{h(m)})}}).catch(d=>{h(d)})})}}async function K_(s,e,i,a=!1,o=!1){const c=new fA(s);let h;if(o)h=Uy;else try{h=await c.verify(i)}catch{h=await c.verify(i,!0)}const d=Object.assign({},e);if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,m=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:m,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return a?Object.assign(d,{captchaResp:h}):Object.assign(d,{captchaResponse:h}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Sh(s,e,i,a,o){var c;if(!((c=s._getRecaptchaConfig())===null||c===void 0)&&c.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await K_(s,e,i,i==="getOobCode");return a(s,h)}else return a(s,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await K_(s,e,i,i==="getOobCode");return a(s,d)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hA(s,e){const i=Gh(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(gs(c,e??{}))return o;un(o,"already-initialized")}return i.initialize({options:e})}function dA(s,e){const i=(e==null?void 0:e.persistence)||[],a=(Array.isArray(i)?i:[i]).map(Vn);e!=null&&e.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e==null?void 0:e.popupRedirectResolver)}function pA(s,e,i){const a=ws(s);J(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,c=zy(e),{host:h,port:d}=mA(e),p=d===null?"":`:${d}`,m={url:`${c}//${h}${p}/`},v=Object.freeze({host:h,port:d,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){J(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),J(gs(m,a.config.emulator)&&gs(v,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=m,a.emulatorConfig=v,a.settings.appVerificationDisabledForTesting=!0,gA()}function zy(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function mA(s){const e=zy(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:Q_(a.substr(c.length+1))}}else{const[c,h]=a.split(":");return{host:c,port:Q_(h)}}}function Q_(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function gA(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return Bn("not implemented")}_getIdTokenResponse(e){return Bn("not implemented")}_linkToIdToken(e,i){return Bn("not implemented")}_getReauthenticationResolver(e){return Bn("not implemented")}}async function _A(s,e){return ei(s,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vA(s,e){return ul(s,"POST","/v1/accounts:signInWithPassword",qi(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yA(s,e){return ul(s,"POST","/v1/accounts:signInWithEmailLink",qi(s,e))}async function EA(s,e){return ul(s,"POST","/v1/accounts:signInWithEmailLink",qi(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa extends $h{constructor(e,i,a,o=null){super("password",a),this._email=e,this._password=i,this._tenantId=o}static _fromEmailAndPassword(e,i){return new Wa(e,i,"password")}static _fromEmailAndCode(e,i,a=null){return new Wa(e,i,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i!=null&&i.email&&(i!=null&&i.password)){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sh(e,i,"signInWithPassword",vA);case"emailLink":return yA(e,{email:this._email,oobCode:this._password});default:un(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":const a={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sh(e,a,"signUpPassword",_A);case"emailLink":return EA(e,{idToken:i,email:this._email,oobCode:this._password});default:un(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pr(s,e){return ul(s,"POST","/v1/accounts:signInWithIdp",qi(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA="http://localhost";class vs extends $h{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new vs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):un("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o}=i,c=Yh(i,["providerId","signInMethod"]);if(!a||!o)return null;const h=new vs(a,o);return h.idToken=c.idToken||void 0,h.accessToken=c.accessToken||void 0,h.secret=c.secret,h.nonce=c.nonce,h.pendingToken=c.pendingToken||null,h}_getIdTokenResponse(e){const i=this.buildRequest();return pr(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,pr(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,pr(e,i)}buildRequest(){const e={requestUri:SA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Ar(i)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bA(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function TA(s){const e=Pa(Ha(s)).link,i=e?Pa(Ha(e)).deep_link_id:null,a=Pa(Ha(s)).deep_link_id;return(a?Pa(Ha(a)).link:null)||a||i||e||s}class Zh{constructor(e){var i,a,o,c,h,d;const p=Pa(Ha(e)),m=(i=p.apiKey)!==null&&i!==void 0?i:null,v=(a=p.oobCode)!==null&&a!==void 0?a:null,y=bA((o=p.mode)!==null&&o!==void 0?o:null);J(m&&v&&y,"argument-error"),this.apiKey=m,this.operation=y,this.code=v,this.continueUrl=(c=p.continueUrl)!==null&&c!==void 0?c:null,this.languageCode=(h=p.languageCode)!==null&&h!==void 0?h:null,this.tenantId=(d=p.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const i=TA(e);try{return new Zh(i)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(){this.providerId=Or.PROVIDER_ID}static credential(e,i){return Wa._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const a=Zh.parseLink(i);return J(a,"argument-error"),Wa._fromEmailAndCode(e,a.code,a.tenantId)}}Or.PROVIDER_ID="password";Or.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Or.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl extends Py{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni extends cl{constructor(){super("facebook.com")}static credential(e){return vs._fromParams({providerId:Ni.PROVIDER_ID,signInMethod:Ni.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ni.credentialFromTaggedObject(e)}static credentialFromError(e){return Ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ni.credential(e.oauthAccessToken)}catch{return null}}}Ni.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ni.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi extends cl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return vs._fromParams({providerId:Oi.PROVIDER_ID,signInMethod:Oi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return Oi.credentialFromTaggedObject(e)}static credentialFromError(e){return Oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return Oi.credential(i,a)}catch{return null}}}Oi.GOOGLE_SIGN_IN_METHOD="google.com";Oi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di extends cl{constructor(){super("github.com")}static credential(e){return vs._fromParams({providerId:Di.PROVIDER_ID,signInMethod:Di.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Di.credentialFromTaggedObject(e)}static credentialFromError(e){return Di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Di.credential(e.oauthAccessToken)}catch{return null}}}Di.GITHUB_SIGN_IN_METHOD="github.com";Di.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii extends cl{constructor(){super("twitter.com")}static credential(e,i){return vs._fromParams({providerId:Ii.PROVIDER_ID,signInMethod:Ii.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return Ii.credentialFromTaggedObject(e)}static credentialFromError(e){return Ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return Ii.credential(i,a)}catch{return null}}}Ii.TWITTER_SIGN_IN_METHOD="twitter.com";Ii.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CA(s,e){return ul(s,"POST","/v1/accounts:signUp",qi(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,o=!1){const c=await qn._fromIdTokenResponse(e,a,o),h=W_(a);return new ys({user:c,providerId:h,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const o=W_(a);return new ys({user:e,providerId:o,_tokenResponse:a,operationType:i})}}function W_(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo extends Bi{constructor(e,i,a,o){var c;super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Zo.prototype),this.customData={appName:e.name,tenantId:(c=e.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,o){return new Zo(e,i,a,o)}}function Hy(s,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Zo._fromErrorAndOperation(s,c,e,a):c})}async function wA(s,e,i=!1){const a=await yr(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return ys._forOperation(s,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RA(s,e,i=!1){const{auth:a}=s;if(Xt(a.app))return Promise.reject(Yn(a));const o="reauthenticate";try{const c=await yr(s,Hy(a,o,e,s),i);J(c.idToken,a,"internal-error");const h=Wh(c.idToken);J(h,a,"internal-error");const{sub:d}=h;return J(s.uid===d,a,"user-mismatch"),ys._forOperation(s,o,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&un(a,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jy(s,e,i=!1){if(Xt(s.app))return Promise.reject(Yn(s));const a="signIn",o=await Hy(s,a,e),c=await ys._fromIdTokenResponse(s,a,o);return i||await s._updateCurrentUser(c.user),c}async function AA(s,e){return jy(ws(s),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function By(s){const e=ws(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function NA(s,e,i){if(Xt(s.app))return Promise.reject(Yn(s));const a=ws(s),h=await Sh(a,{returnSecureToken:!0,email:e,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",CA).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&By(s),p}),d=await ys._fromIdTokenResponse(a,"signIn",h);return await a._updateCurrentUser(d.user),d}function OA(s,e,i){return Xt(s.app)?Promise.reject(Yn(s)):AA(mt(s),Or.credential(e,i)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&By(s),a})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DA(s,e){return ei(s,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IA(s,{displayName:e,photoURL:i}){if(e===void 0&&i===void 0)return;const a=mt(s),c={idToken:await a.getIdToken(),displayName:e,photoUrl:i,returnSecureToken:!0},h=await yr(a,DA(a.auth,c));a.displayName=h.displayName||null,a.photoURL=h.photoUrl||null;const d=a.providerData.find(({providerId:p})=>p==="password");d&&(d.displayName=a.displayName,d.photoURL=a.photoURL),await a._updateTokensIfNecessary(h)}function xA(s,e,i,a){return mt(s).onIdTokenChanged(e,i,a)}function MA(s,e,i){return mt(s).beforeAuthStateChanged(e,i)}function kA(s){return mt(s).signOut()}async function LA(s){return mt(s).delete()}const Jo="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Jo,"1"),this.storage.removeItem(Jo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA=1e3,zA=10;class Vy extends qy{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=My(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&e(i,o,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((h,d,p)=>{this.notifyListeners(h,p)});return}const a=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(a);!i&&this.localCache[a]===h||this.notifyListeners(a,h)},c=this.storage.getItem(a);ZR()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,zA):o()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},UA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}Vy.type="LOCAL";const PA=Vy;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy extends qy{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}Fy.type="SESSION";const Gy=Fy;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HA(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const a=new vu(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:o,data:c}=i.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const d=Array.from(h).map(async m=>m(i.origin,c)),p=await HA(d);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:p})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}vu.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jh(s="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return s+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,h;return new Promise((d,p)=>{const m=Jh("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},a);h={messageChannel:o,onMessage(y){const S=y;if(S.data.eventId===m)switch(S.data.status){case"ack":clearTimeout(v),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),d(S.data.response);break;default:clearTimeout(v),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:m,data:i},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(){return window}function BA(s){yn().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yy(){return typeof yn().WorkerGlobalScope<"u"&&typeof yn().importScripts=="function"}async function qA(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function VA(){var s;return((s=navigator==null?void 0:navigator.serviceWorker)===null||s===void 0?void 0:s.controller)||null}function FA(){return Yy()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky="firebaseLocalStorageDb",GA=1,eu="firebaseLocalStorage",Qy="fbase_key";class fl{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function yu(s,e){return s.transaction([eu],e?"readwrite":"readonly").objectStore(eu)}function YA(){const s=indexedDB.deleteDatabase(Ky);return new fl(s).toPromise()}function bh(){const s=indexedDB.open(Ky,GA);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(eu,{keyPath:Qy})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(eu)?e(a):(a.close(),await YA(),e(await bh()))})})}async function X_(s,e,i){const a=yu(s,!0).put({[Qy]:e,value:i});return new fl(a).toPromise()}async function KA(s,e){const i=yu(s,!1).get(e),a=await new fl(i).toPromise();return a===void 0?null:a.value}function $_(s,e){const i=yu(s,!0).delete(e);return new fl(i).toPromise()}const QA=800,WA=3;class Wy{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await bh(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>WA)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Yy()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vu._getInstance(FA()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){var e,i;if(this.activeServiceWorker=await qA(),!this.activeServiceWorker)return;this.sender=new jA(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((e=a[0])===null||e===void 0)&&e.fulfilled&&!((i=a[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||VA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await bh();return await X_(e,Jo,"1"),await $_(e,Jo),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>X_(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>KA(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>$_(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=yu(o,!1).getAll();return new fl(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),QA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Wy.type="LOCAL";const XA=Wy;new ol(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $A(s,e){return e?Vn(e):(J(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed extends $h{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return pr(e,this._buildIdpRequest())}_linkToIdToken(e,i){return pr(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return pr(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function ZA(s){return jy(s.auth,new ed(s),s.bypassAuthState)}function JA(s){const{auth:e,user:i}=s;return J(i,e,"internal-error"),RA(i,new ed(s),s.bypassAuthState)}async function eN(s){const{auth:e,user:i}=s;return J(i,e,"internal-error"),wA(i,new ed(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(e,i,a,o,c=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:h,type:d}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ZA;case"linkViaPopup":case"linkViaRedirect":return eN;case"reauthViaPopup":case"reauthViaRedirect":return JA;default:un(this.auth,"internal-error")}}resolve(e){Wn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Wn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN=new ol(2e3,1e4);class cr extends Xy{constructor(e,i,a,o,c){super(e,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,cr.currentPopupAction&&cr.currentPopupAction.cancel(),cr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return J(e,this.auth,"internal-error"),e}async onExecution(){Wn(this.filter.length===1,"Popup operations only handle one event");const e=Jh();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(vn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(vn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,cr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var i,a;if(!((a=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,tN.get())};e()}}cr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN="pendingRedirect",Bo=new Map;class iN extends Xy{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=Bo.get(this.auth._key());if(!e){try{const a=await sN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}Bo.set(this.auth._key(),e)}return this.bypassAuthState||Bo.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function sN(s,e){const i=lN(e),a=aN(s);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function rN(s,e){Bo.set(s._key(),e)}function aN(s){return Vn(s._redirectPersistence)}function lN(s){return jo(nN,s.config.apiKey,s.name)}async function oN(s,e,i=!1){if(Xt(s.app))return Promise.reject(Yn(s));const a=ws(s),o=$A(a,e),h=await new iN(a,o,i).execute();return h&&!i&&(delete h.user._redirectEventId,await a._persistUserIfCurrent(h.user),await a._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN=10*60*1e3;class cN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!fN(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){var a;if(e.error&&!$y(e)){const o=((a=e.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";i.onError(vn(this.auth,o))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=uN&&this.cachedEventUids.clear(),this.cachedEventUids.has(Z_(e))}saveEventToCache(e){this.cachedEventUids.add(Z_(e)),this.lastProcessedEventTime=Date.now()}}function Z_(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function $y({type:s,error:e}){return s==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function fN(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $y(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hN(s,e={}){return ei(s,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pN=/^https?/;async function mN(s){if(s.config.emulator)return;const{authorizedDomains:e}=await hN(s);for(const i of e)try{if(gN(i))return}catch{}un(s,"unauthorized-domain")}function gN(s){const e=yh(),{protocol:i,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const h=new URL(s);return h.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&h.hostname===a}if(!pN.test(i))return!1;if(dN.test(s))return a===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N=new ol(3e4,6e4);function J_(){const s=yn().___jsl;if(s!=null&&s.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function vN(s){return new Promise((e,i)=>{var a,o,c;function h(){J_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{J_(),i(vn(s,"network-request-failed"))},timeout:_N.get()})}if(!((o=(a=yn().gapi)===null||a===void 0?void 0:a.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((c=yn().gapi)===null||c===void 0)&&c.load)h();else{const d=lA("iframefcb");return yn()[d]=()=>{gapi.load?h():i(vn(s,"network-request-failed"))},Ly(`${aA()}?onload=${d}`).catch(p=>i(p))}}).catch(e=>{throw qo=null,e})}let qo=null;function yN(s){return qo=qo||vN(s),qo}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN=new ol(5e3,15e3),SN="__/auth/iframe",bN="emulator/auth/iframe",TN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},CN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wN(s){const e=s.config;J(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?Qh(e,bN):`https://${s.config.authDomain}/${SN}`,a={apiKey:e.apiKey,appName:s.name,v:Nr},o=CN.get(s.config.apiHost);o&&(a.eid=o);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Ar(a).slice(1)}`}async function RN(s){const e=await yN(s),i=yn().gapi;return J(i,s,"internal-error"),e.open({where:document.body,url:wN(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:TN,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const h=vn(s,"network-request-failed"),d=yn().setTimeout(()=>{c(h)},EN.get());function p(){yn().clearTimeout(d),o(a)}a.ping(p).then(p,()=>{c(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},NN=500,ON=600,DN="_blank",IN="http://localhost";class ev{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xN(s,e,i,a=NN,o=ON){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-a)/2,0).toString();let d="";const p=Object.assign(Object.assign({},AN),{width:a.toString(),height:o.toString(),top:c,left:h}),m=St().toLowerCase();i&&(d=Ny(m)?DN:i),Ry(m)&&(e=e||IN,p.scrollbars="yes");const v=Object.entries(p).reduce((S,[N,R])=>`${S}${N}=${R},`,"");if($R(m)&&d!=="_self")return MN(e||"",d),new ev(null);const y=window.open(e||"",d,v);J(y,s,"popup-blocked");try{y.focus()}catch{}return new ev(y)}function MN(s,e){const i=document.createElement("a");i.href=s,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN="__/auth/handler",LN="emulator/auth/handler",UN=encodeURIComponent("fac");async function tv(s,e,i,a,o,c){J(s.config.authDomain,s,"auth-domain-config-required"),J(s.config.apiKey,s,"invalid-api-key");const h={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:Nr,eventId:o};if(e instanceof Py){e.setDefaultLanguage(s.languageCode),h.providerId=e.providerId||"",dh(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,y]of Object.entries({}))h[v]=y}if(e instanceof cl){const v=e.getScopes().filter(y=>y!=="");v.length>0&&(h.scopes=v.join(","))}s.tenantId&&(h.tid=s.tenantId);const d=h;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const p=await s._getAppCheckToken(),m=p?`#${UN}=${encodeURIComponent(p)}`:"";return`${zN(s)}?${Ar(d).slice(1)}${m}`}function zN({config:s}){return s.emulator?Qh(s,LN):`https://${s.authDomain}/${kN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nh="webStorageSupport";class PN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Gy,this._completeRedirectFn=oN,this._overrideRedirectResult=rN}async _openPopup(e,i,a,o){var c;Wn((c=this.eventManagers[e._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const h=await tv(e,i,a,yh(),o);return xN(e,h,Jh())}async _openRedirect(e,i,a,o){await this._originValidation(e);const c=await tv(e,i,a,yh(),o);return BA(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(Wn(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await RN(e),a=new cN(e);return i.register("authEvent",o=>(J(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(nh,{type:nh},o=>{var c;const h=(c=o==null?void 0:o[0])===null||c===void 0?void 0:c[nh];h!==void 0&&i(!!h),un(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=mN(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return My()||Ay()||Xh()}}const HN=PN;var nv="@firebase/auth",iv="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){J(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BN(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function qN(s){vr(new _s("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:h,authDomain:d}=a.options;J(h&&!h.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:h,authDomain:d,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ky(s)},m=new iA(a,o,c,p);return dA(m,i),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),vr(new _s("auth-internal",e=>{const i=ws(e.getProvider("auth").getImmediate());return(a=>new jN(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),ki(nv,iv,BN(s)),ki(nv,iv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN=5*60,FN=oy("authIdTokenMaxAge")||VN;let sv=null;const GN=s=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>FN)return;const o=i==null?void 0:i.token;sv!==o&&(sv=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function YN(s=py()){const e=Gh(s,"auth");if(e.isInitialized())return e.getImmediate();const i=hA(s,{popupRedirectResolver:HN,persistence:[XA,PA,Gy]}),a=oy("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const h=GN(c.toString());MA(i,h,()=>h(i.currentUser)),xA(i,d=>h(d))}}const o=ay("auth");return o&&pA(i,`http://${o}`),i}function KN(){var s,e;return(e=(s=document.getElementsByTagName("head"))===null||s===void 0?void 0:s[0])!==null&&e!==void 0?e:document}sA({loadJS(s){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=o=>{const c=vn("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",KN().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});qN("Browser");var rv={};const av="@firebase/database",lv="1.0.14";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zy="";function QN(s){Zy=s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,i){i==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),$e(i))}get(e){const i=this.domStorage_.getItem(this.prefixedName_(e));return i==null?null:Ka(i)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,i){i==null?delete this.cache_[e]:this.cache_[e]=i}get(e){return Jn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jy=function(s){try{if(typeof window<"u"&&typeof window[s]<"u"){const e=window[s];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new WN(e)}}catch{}return new XN},ps=Jy("localStorage"),$N=Jy("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr=new Vh("@firebase/database"),ZN=function(){let s=1;return function(){return s++}}(),eE=function(s){const e=Sw(s),i=new _w;i.update(e);const a=i.digest();return Hh.encodeByteArray(a)},hl=function(...s){let e="";for(let i=0;i<s.length;i++){const a=s[i];Array.isArray(a)||a&&typeof a=="object"&&typeof a.length=="number"?e+=hl.apply(null,a):typeof a=="object"?e+=$e(a):e+=a,e+=" "}return e};let Ba=null,ov=!0;const JN=function(s,e){j(!0,"Can't turn on custom loggers persistently."),mr.logLevel=Ce.VERBOSE,Ba=mr.log.bind(mr)},pt=function(...s){if(ov===!0&&(ov=!1,Ba===null&&$N.get("logging_enabled")===!0&&JN()),Ba){const e=hl.apply(null,s);Ba(e)}},dl=function(s){return function(...e){pt(s,...e)}},Th=function(...s){const e="FIREBASE INTERNAL ERROR: "+hl(...s);mr.error(e)},Xn=function(...s){const e=`FIREBASE FATAL ERROR: ${hl(...s)}`;throw mr.error(e),new Error(e)},Ot=function(...s){const e="FIREBASE WARNING: "+hl(...s);mr.warn(e)},e1=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ot("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},tE=function(s){return typeof s=="number"&&(s!==s||s===Number.POSITIVE_INFINITY||s===Number.NEGATIVE_INFINITY)},t1=function(s){if(document.readyState==="complete")s();else{let e=!1;const i=function(){if(!document.body){setTimeout(i,Math.floor(10));return}e||(e=!0,s())};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&i()}),window.attachEvent("onload",i))}},Er="[MIN_NAME]",Es="[MAX_NAME]",Dr=function(s,e){if(s===e)return 0;if(s===Er||e===Es)return-1;if(e===Er||s===Es)return 1;{const i=uv(s),a=uv(e);return i!==null?a!==null?i-a===0?s.length-e.length:i-a:-1:a!==null?1:s<e?-1:1}},n1=function(s,e){return s===e?0:s<e?-1:1},ka=function(s,e){if(e&&s in e)return e[s];throw new Error("Missing required key ("+s+") in object: "+$e(e))},td=function(s){if(typeof s!="object"||s===null)return $e(s);const e=[];for(const a in s)e.push(a);e.sort();let i="{";for(let a=0;a<e.length;a++)a!==0&&(i+=","),i+=$e(e[a]),i+=":",i+=td(s[e[a]]);return i+="}",i},nE=function(s,e){const i=s.length;if(i<=e)return[s];const a=[];for(let o=0;o<i;o+=e)o+e>i?a.push(s.substring(o,i)):a.push(s.substring(o,o+e));return a};function Dt(s,e){for(const i in s)s.hasOwnProperty(i)&&e(i,s[i])}const iE=function(s){j(!tE(s),"Invalid JSON number");const e=11,i=52,a=(1<<e-1)-1;let o,c,h,d,p;s===0?(c=0,h=0,o=1/s===-1/0?1:0):(o=s<0,s=Math.abs(s),s>=Math.pow(2,1-a)?(d=Math.min(Math.floor(Math.log(s)/Math.LN2),a),c=d+a,h=Math.round(s*Math.pow(2,i-d)-Math.pow(2,i))):(c=0,h=Math.round(s/Math.pow(2,1-a-i))));const m=[];for(p=i;p;p-=1)m.push(h%2?1:0),h=Math.floor(h/2);for(p=e;p;p-=1)m.push(c%2?1:0),c=Math.floor(c/2);m.push(o?1:0),m.reverse();const v=m.join("");let y="";for(p=0;p<64;p+=8){let S=parseInt(v.substr(p,8),2).toString(16);S.length===1&&(S="0"+S),y=y+S}return y.toLowerCase()},i1=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},s1=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function r1(s,e){let i="Unknown Error";s==="too_big"?i="The data requested exceeds the maximum size that can be accessed with a single request.":s==="permission_denied"?i="Client doesn't have permission to access the desired data.":s==="unavailable"&&(i="The service is unavailable");const a=new Error(s+" at "+e._path.toString()+": "+i);return a.code=s.toUpperCase(),a}const a1=new RegExp("^-?(0*)\\d{1,10}$"),l1=-2147483648,o1=2147483647,uv=function(s){if(a1.test(s)){const e=Number(s);if(e>=l1&&e<=o1)return e}return null},Ir=function(s){try{s()}catch(e){setTimeout(()=>{const i=e.stack||"";throw Ot("Exception was thrown by user callback.",i),e},Math.floor(0))}},u1=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},qa=function(s,e){const i=setTimeout(s,e);return typeof i=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(i):typeof i=="object"&&i.unref&&i.unref(),i};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e,i){this.appCheckProvider=i,this.appName=e.name,Xt(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=i==null?void 0:i.getImmediate({optional:!0}),this.appCheck||i==null||i.get().then(a=>this.appCheck=a)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((i,a)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(i,a):i(null)},0)})}addTokenChangeListener(e){var i;(i=this.appCheckProvider)===null||i===void 0||i.get().then(a=>a.addTokenListener(e))}notifyForInvalidToken(){Ot(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(e,i,a){this.appName_=e,this.firebaseOptions_=i,this.authProvider_=a,this.auth_=null,this.auth_=a.getImmediate({optional:!0}),this.auth_||a.onInit(o=>this.auth_=o)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(i=>i&&i.code==="auth/token-not-initialized"?(pt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,a)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(i,a):i(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(i=>i.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(i=>i.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ot(e)}}class Vo{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Vo.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nd="5",sE="v",rE="s",aE="r",lE="f",oE=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,uE="ls",cE="p",Ch="ac",fE="websocket",hE="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(e,i,a,o,c=!1,h="",d=!1,p=!1,m=null){this.secure=i,this.namespace=a,this.webSocketOnly=o,this.nodeAdmin=c,this.persistenceKey=h,this.includeNamespaceInQueryParams=d,this.isUsingEmulator=p,this.emulatorOptions=m,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ps.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ps.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",i=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${i}`}}function h1(s){return s.host!==s.internalHost||s.isCustomHost()||s.includeNamespaceInQueryParams}function pE(s,e,i){j(typeof e=="string","typeof type must == string"),j(typeof i=="object","typeof params must == object");let a;if(e===fE)a=(s.secure?"wss://":"ws://")+s.internalHost+"/.ws?";else if(e===hE)a=(s.secure?"https://":"http://")+s.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);h1(s)&&(i.ns=s.namespace);const o=[];return Dt(i,(c,h)=>{o.push(c+"="+h)}),a+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(){this.counters_={}}incrementCounter(e,i=1){Jn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=i}get(){return ZC(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ih={},sh={};function id(s){const e=s.toString();return ih[e]||(ih[e]=new d1),ih[e]}function p1(s,e){const i=s.toString();return sh[i]||(sh[i]=e()),sh[i]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,i){this.closeAfterResponse=e,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,i){for(this.pendingResponses[e]=i;this.pendingResponses[this.currentResponseNum];){const a=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<a.length;++o)a[o]&&Ir(()=>{this.onMessage_(a[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cv="start",g1="close",_1="pLPCommand",v1="pRTLPCB",mE="id",gE="pw",_E="ser",y1="cb",E1="seg",S1="ts",b1="d",T1="dframe",vE=1870,yE=30,C1=vE-yE,w1=25e3,R1=3e4;class fr{constructor(e,i,a,o,c,h,d){this.connId=e,this.repoInfo=i,this.applicationId=a,this.appCheckToken=o,this.authToken=c,this.transportSessionId=h,this.lastSessionId=d,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=dl(e),this.stats_=id(i),this.urlFn=p=>(this.appCheckToken&&(p[Ch]=this.appCheckToken),pE(i,hE,p))}open(e,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new m1(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(R1)),t1(()=>{if(this.isClosed_)return;this.scriptTagHolder=new sd((...c)=>{const[h,d,p,m,v]=c;if(this.incrementIncomingBytes_(c),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,h===cv)this.id=d,this.password=p;else if(h===g1)d?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(d,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+h)},(...c)=>{const[h,d]=c;this.incrementIncomingBytes_(c),this.myPacketOrderer.handleResponse(h,d)},()=>{this.onClosed_()},this.urlFn);const a={};a[cv]="t",a[_E]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(a[y1]=this.scriptTagHolder.uniqueCallbackIdentifier),a[sE]=nd,this.transportSessionId&&(a[rE]=this.transportSessionId),this.lastSessionId&&(a[uE]=this.lastSessionId),this.applicationId&&(a[cE]=this.applicationId),this.appCheckToken&&(a[Ch]=this.appCheckToken),typeof location<"u"&&location.hostname&&oE.test(location.hostname)&&(a[aE]=lE);const o=this.urlFn(a);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){fr.forceAllow_=!0}static forceDisallow(){fr.forceDisallow_=!0}static isAvailable(){return fr.forceAllow_?!0:!fr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!i1()&&!s1()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const i=$e(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const a=sy(i),o=nE(a,C1);for(let c=0;c<o.length;c++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[c]),this.curSegmentNum++}addDisconnectPingFrame(e,i){this.myDisconnFrame=document.createElement("iframe");const a={};a[T1]="t",a[mE]=e,a[gE]=i,this.myDisconnFrame.src=this.urlFn(a),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const i=$e(e).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}}class sd{constructor(e,i,a,o){this.onDisconnect=a,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=ZN(),window[_1+this.uniqueCallbackIdentifier]=e,window[v1+this.uniqueCallbackIdentifier]=i,this.myIFrame=sd.createIFrame_();let c="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(c='<script>document.domain="'+document.domain+'";<\/script>');const h="<html><body>"+c+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(h),this.myIFrame.doc.close()}catch(d){pt("frame writing exception"),d.stack&&pt(d.stack),pt(d)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||pt("No IE domain setting required")}catch{const a=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+a+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,i){for(this.myID=e,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[mE]=this.myID,e[gE]=this.myPW,e[_E]=this.currentSerial;let i=this.urlFn(e),a="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+yE+a.length<=vE;){const h=this.pendingSegs.shift();a=a+"&"+E1+o+"="+h.seg+"&"+S1+o+"="+h.ts+"&"+b1+o+"="+h.d,o++}return i=i+a,this.addLongPollTag_(i,this.currentSerial),!0}else return!1}enqueueSegment(e,i,a){this.pendingSegs.push({seg:e,ts:i,d:a}),this.alive&&this.newRequest_()}addLongPollTag_(e,i){this.outstandingRequests.add(i);const a=()=>{this.outstandingRequests.delete(i),this.newRequest_()},o=setTimeout(a,Math.floor(w1)),c=()=>{clearTimeout(o),a()};this.addTag(e,c)}addTag(e,i){setTimeout(()=>{try{if(!this.sendNewPolls)return;const a=this.myIFrame.doc.createElement("script");a.type="text/javascript",a.async=!0,a.src=e,a.onload=a.onreadystatechange=function(){const o=a.readyState;(!o||o==="loaded"||o==="complete")&&(a.onload=a.onreadystatechange=null,a.parentNode&&a.parentNode.removeChild(a),i())},a.onerror=()=>{pt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(a)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1=16384,N1=45e3;let tu=null;typeof MozWebSocket<"u"?tu=MozWebSocket:typeof WebSocket<"u"&&(tu=WebSocket);class sn{constructor(e,i,a,o,c,h,d){this.connId=e,this.applicationId=a,this.appCheckToken=o,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=dl(this.connId),this.stats_=id(i),this.connURL=sn.connectionURL_(i,h,d,o,a),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,a,o,c){const h={};return h[sE]=nd,typeof location<"u"&&location.hostname&&oE.test(location.hostname)&&(h[aE]=lE),i&&(h[rE]=i),a&&(h[uE]=a),o&&(h[Ch]=o),c&&(h[cE]=c),pE(e,fE,h)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ps.set("previous_websocket_failure",!0);try{let a;uw(),this.mySock=new tu(this.connURL,[],a)}catch(a){this.log_("Error instantiating WebSocket.");const o=a.message||a.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=a=>{this.handleIncomingFrame(a)},this.mySock.onerror=a=>{this.log_("WebSocket error.  Closing connection.");const o=a.message||a.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){sn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=/Android ([0-9]{0,}\.[0-9]{0,})/,a=navigator.userAgent.match(i);a&&a.length>1&&parseFloat(a[1])<4.4&&(e=!0)}return!e&&tu!==null&&!sn.forceDisallow_}static previouslyFailed(){return ps.isInMemoryStorage||ps.get("previous_websocket_failure")===!0}markConnectionHealthy(){ps.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const a=Ka(i);this.onMessage(a)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(j(this.frames===null,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{const a=this.extractFrameCount_(i);a!==null&&this.appendFrame_(a)}}send(e){this.resetKeepAlive();const i=$e(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const a=nE(i,A1);a.length>1&&this.sendString_(String(a.length));for(let o=0;o<a.length;o++)this.sendString_(a[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(N1))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}sn.responsesRequiredToBeHealthy=2;sn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{static get ALL_TRANSPORTS(){return[fr,sn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const i=sn&&sn.isAvailable();let a=i&&!sn.previouslyFailed();if(e.webSocketOnly&&(i||Ot("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),a=!0),a)this.transports_=[sn];else{const o=this.transports_=[];for(const c of Xa.ALL_TRANSPORTS)c&&c.isAvailable()&&o.push(c);Xa.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Xa.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1=6e4,D1=5e3,I1=10*1024,x1=100*1024,rh="t",fv="d",M1="s",hv="r",k1="e",dv="o",pv="a",mv="n",gv="p",L1="h";class U1{constructor(e,i,a,o,c,h,d,p,m,v){this.id=e,this.repoInfo_=i,this.applicationId_=a,this.appCheckToken_=o,this.authToken_=c,this.onMessage_=h,this.onReady_=d,this.onDisconnect_=p,this.onKill_=m,this.lastSessionId=v,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=dl("c:"+this.id+":"),this.transportManager_=new Xa(i),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.conn_),a=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,a)},Math.floor(0));const o=e.healthyTimeout||0;o>0&&(this.healthyTimeout_=qa(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>x1?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>I1?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return i=>{e===this.conn_?this.onConnectionLost_(i):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return i=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(i):e===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(e){const i={t:"d",d:e};this.sendData_(i)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(rh in e){const i=e[rh];i===pv?this.upgradeIfSecondaryHealthy_():i===hv?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):i===dv&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const i=ka("t",e),a=ka("d",e);if(i==="c")this.onSecondaryControl_(a);else if(i==="d")this.pendingDataMessages.push(a);else throw new Error("Unknown protocol layer: "+i)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:gv,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:pv,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:mv,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const i=ka("t",e),a=ka("d",e);i==="c"?this.onControl_(a):i==="d"&&this.onDataMessage_(a)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const i=ka(rh,e);if(fv in e){const a=e[fv];if(i===L1){const o=Object.assign({},a);this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(i===mv){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else i===M1?this.onConnectionShutdown_(a):i===hv?this.onReset_(a):i===k1?Th("Server Error: "+a):i===dv?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Th("Unknown control packet command: "+i)}}onHandshake_(e){const i=e.ts,a=e.v,o=e.h;this.sessionId=e.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),nd!==a&&Ot("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.secondaryConn_),a=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,a),qa(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(O1))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,i){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):qa(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(D1))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:gv,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ps.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{put(e,i,a,o){}merge(e,i,a,o){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,i,a){}onDisconnectMerge(e,i,a){}onDisconnectCancel(e,i){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(e){this.allowedEvents_=e,this.listeners_={},j(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...i){if(Array.isArray(this.listeners_[e])){const a=[...this.listeners_[e]];for(let o=0;o<a.length;o++)a[o].callback.apply(a[o].context,i)}}on(e,i,a){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:i,context:a});const o=this.getInitialEvent(e);o&&i.apply(a,o)}off(e,i,a){this.validateEventType_(e);const o=this.listeners_[e]||[];for(let c=0;c<o.length;c++)if(o[c].callback===i&&(!a||a===o[c].context)){o.splice(c,1);return}}validateEventType_(e){j(this.allowedEvents_.find(i=>i===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu extends SE{static getInstance(){return new nu}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Bh()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return j(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v=32,vv=768;class Re{constructor(e,i){if(i===void 0){this.pieces_=e.split("/");let a=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[a]=this.pieces_[o],a++);this.pieces_.length=a,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=i}toString(){let e="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)this.pieces_[i]!==""&&(e+="/"+this.pieces_[i]);return e||"/"}}function ye(){return new Re("")}function he(s){return s.pieceNum_>=s.pieces_.length?null:s.pieces_[s.pieceNum_]}function Pi(s){return s.pieces_.length-s.pieceNum_}function De(s){let e=s.pieceNum_;return e<s.pieces_.length&&e++,new Re(s.pieces_,e)}function bE(s){return s.pieceNum_<s.pieces_.length?s.pieces_[s.pieces_.length-1]:null}function z1(s){let e="";for(let i=s.pieceNum_;i<s.pieces_.length;i++)s.pieces_[i]!==""&&(e+="/"+encodeURIComponent(String(s.pieces_[i])));return e||"/"}function TE(s,e=0){return s.pieces_.slice(s.pieceNum_+e)}function CE(s){if(s.pieceNum_>=s.pieces_.length)return null;const e=[];for(let i=s.pieceNum_;i<s.pieces_.length-1;i++)e.push(s.pieces_[i]);return new Re(e,0)}function Ze(s,e){const i=[];for(let a=s.pieceNum_;a<s.pieces_.length;a++)i.push(s.pieces_[a]);if(e instanceof Re)for(let a=e.pieceNum_;a<e.pieces_.length;a++)i.push(e.pieces_[a]);else{const a=e.split("/");for(let o=0;o<a.length;o++)a[o].length>0&&i.push(a[o])}return new Re(i,0)}function fe(s){return s.pieceNum_>=s.pieces_.length}function Et(s,e){const i=he(s),a=he(e);if(i===null)return e;if(i===a)return Et(De(s),De(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+s+")")}function wE(s,e){if(Pi(s)!==Pi(e))return!1;for(let i=s.pieceNum_,a=e.pieceNum_;i<=s.pieces_.length;i++,a++)if(s.pieces_[i]!==e.pieces_[a])return!1;return!0}function rn(s,e){let i=s.pieceNum_,a=e.pieceNum_;if(Pi(s)>Pi(e))return!1;for(;i<s.pieces_.length;){if(s.pieces_[i]!==e.pieces_[a])return!1;++i,++a}return!0}class P1{constructor(e,i){this.errorPrefix_=i,this.parts_=TE(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let a=0;a<this.parts_.length;a++)this.byteLength_+=gu(this.parts_[a]);RE(this)}}function H1(s,e){s.parts_.length>0&&(s.byteLength_+=1),s.parts_.push(e),s.byteLength_+=gu(e),RE(s)}function j1(s){const e=s.parts_.pop();s.byteLength_-=gu(e),s.parts_.length>0&&(s.byteLength_-=1)}function RE(s){if(s.byteLength_>vv)throw new Error(s.errorPrefix_+"has a key path longer than "+vv+" bytes ("+s.byteLength_+").");if(s.parts_.length>_v)throw new Error(s.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+_v+") or object contains a cycle "+ds(s))}function ds(s){return s.parts_.length===0?"":"in property '"+s.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd extends SE{static getInstance(){return new rd}constructor(){super(["visible"]);let e,i;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const a=!document[e];a!==this.visible_&&(this.visible_=a,this.trigger("visible",a))},!1)}getInitialEvent(e){return j(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La=1e3,B1=60*5*1e3,yv=30*1e3,q1=1.3,V1=3e4,F1="server_kill",Ev=3;class Kn extends EE{constructor(e,i,a,o,c,h,d,p){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=a,this.onConnectStatus_=o,this.onServerInfoUpdate_=c,this.authTokenProvider_=h,this.appCheckTokenProvider_=d,this.authOverride_=p,this.id=Kn.nextPersistentConnectionId_++,this.log_=dl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=La,this.maxReconnectDelay_=B1,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,p)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");rd.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&nu.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,a){const o=++this.requestNumber_,c={r:o,a:e,b:i};this.log_($e(c)),j(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),a&&(this.requestCBHash_[o]=a)}get(e){this.initConnection_();const i=new mu,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:h=>{const d=h.d;h.s==="ok"?i.resolve(d):i.reject(d)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const c=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(c),i.promise}listen(e,i,a,o){this.initConnection_();const c=e._queryIdentifier,h=e._path.toString();this.log_("Listen called for "+h+" "+c),this.listens.has(h)||this.listens.set(h,new Map),j(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),j(!this.listens.get(h).has(c),"listen() called twice for same path/queryId.");const d={onComplete:o,hashFn:i,query:e,tag:a};this.listens.get(h).set(c,d),this.connected_&&this.sendListen_(d)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,a=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(a)})}sendListen_(e){const i=e.query,a=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+a+" for "+o);const c={p:a},h="q";e.tag&&(c.q=i._queryObject,c.t=e.tag),c.h=e.hashFn(),this.sendRequest(h,c,d=>{const p=d.d,m=d.s;Kn.warnOnListenWarnings_(p,i),(this.listens.get(a)&&this.listens.get(a).get(o))===e&&(this.log_("listen response",d),m!=="ok"&&this.removeListen_(a,o),e.onComplete&&e.onComplete(m,p))})}static warnOnListenWarnings_(e,i){if(e&&typeof e=="object"&&Jn(e,"w")){const a=_r(e,"w");if(Array.isArray(a)&&~a.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',c=i._path.toString();Ot(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||gw(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=yv)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=mw(e)?"auth":"gauth",a={cred:e};this.authOverride_===null?a.noauth=!0:typeof this.authOverride_=="object"&&(a.authvar=this.authOverride_),this.sendRequest(i,a,o=>{const c=o.s,h=o.d||"error";this.authToken_===e&&(c==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,a=e.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,a)})}unlisten(e,i){const a=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+a+" "+o),j(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(a,o)&&this.connected_&&this.sendUnlisten_(a,o,e._queryObject,i)}sendUnlisten_(e,i,a,o){this.log_("Unlisten on "+e+" for "+i);const c={p:e},h="n";o&&(c.q=a,c.t=o),this.sendRequest(h,c)}onDisconnectPut(e,i,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:a})}onDisconnectMerge(e,i,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:a})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,a,o){const c={p:i,d:a};this.log_("onDisconnect "+e,c),this.sendRequest(e,c,h=>{o&&setTimeout(()=>{o(h.s,h.d)},Math.floor(0))})}put(e,i,a,o){this.putInternal("p",e,i,a,o)}merge(e,i,a,o){this.putInternal("m",e,i,a,o)}putInternal(e,i,a,o,c){this.initConnection_();const h={p:i,d:a};c!==void 0&&(h.h=c),this.outstandingPuts_.push({action:e,request:h,onComplete:o}),this.outstandingPutCount_++;const d=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(d):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,a=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,a,c=>{this.log_(i+" response",c),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(c.s,c.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,a=>{if(a.s!=="ok"){const c=a.d;this.log_("reportStats","Error sending stats: "+c)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+$e(e));const i=e.r,a=this.requestCBHash_[i];a&&(delete this.requestCBHash_[i],a(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),e==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):e==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):e==="c"?this.onListenRevoked_(i.p,i.q):e==="ac"?this.onAuthRevoked_(i.s,i.d):e==="apc"?this.onAppCheckRevoked_(i.s,i.d):e==="sd"?this.onSecurityDebugPacket_(i):Th("Unrecognized action received from server: "+$e(e)+`
Are you using the latest client?`)}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){j(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=La,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=La,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>V1&&(this.reconnectDelay_=La),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*q1)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),a=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+Kn.nextConnectionId_++,c=this.lastSessionId;let h=!1,d=null;const p=function(){d?d.close():(h=!0,a())},m=function(y){j(d,"sendRequest call when we're not connected not allowed."),d.sendRequest(y)};this.realtime_={close:p,sendRequest:m};const v=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[y,S]=await Promise.all([this.authTokenProvider_.getToken(v),this.appCheckTokenProvider_.getToken(v)]);h?pt("getToken() completed but was canceled"):(pt("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=S&&S.token,d=new U1(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,i,a,N=>{Ot(N+" ("+this.repoInfo_.toString()+")"),this.interrupt(F1)},c))}catch(y){this.log_("Failed to get token: "+y),h||(this.repoInfo_.nodeAdmin&&Ot(y),p())}}}interrupt(e){pt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){pt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],dh(this.interruptReasons_)&&(this.reconnectDelay_=La,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let a;i?a=i.map(c=>td(c)).join("$"):a="default";const o=this.removeListen_(e,a);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,i){const a=new Re(e).toString();let o;if(this.listens.has(a)){const c=this.listens.get(a);o=c.get(i),c.delete(i),c.size===0&&this.listens.delete(a)}else o=void 0;return o}onAuthRevoked_(e,i){pt("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Ev&&(this.reconnectDelay_=yv,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){pt("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Ev&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";e["sdk."+i+"."+Zy.replace(/\./g,"-")]=1,Bh()?e["framework.cordova"]=1:uy()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=nu.getInstance().currentlyOnline();return dh(this.interruptReasons_)&&e}}Kn.nextPersistentConnectionId_=0;Kn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e,i){this.name=e,this.node=i}static Wrap(e,i){return new ue(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,i){const a=new ue(Er,e),o=new ue(Er,i);return this.compare(a,o)!==0}minPost(){return ue.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lo;class AE extends Eu{static get __EMPTY_NODE(){return Lo}static set __EMPTY_NODE(e){Lo=e}compare(e,i){return Dr(e.name,i.name)}isDefinedOn(e){throw Rr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,i){return!1}minPost(){return ue.MIN}maxPost(){return new ue(Es,Lo)}makePost(e,i){return j(typeof e=="string","KeyIndex indexValue must always be a string."),new ue(e,Lo)}toString(){return".key"}}const gr=new AE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e,i,a,o,c=null){this.isReverse_=o,this.resultGenerator_=c,this.nodeStack_=[];let h=1;for(;!e.isEmpty();)if(e=e,h=i?a(e.key,i):1,o&&(h*=-1),h<0)this.isReverse_?e=e.left:e=e.right;else if(h===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),i;if(this.resultGenerator_?i=this.resultGenerator_(e.key,e.value):i={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class at{constructor(e,i,a,o,c){this.key=e,this.value=i,this.color=a??at.RED,this.left=o??Nt.EMPTY_NODE,this.right=c??Nt.EMPTY_NODE}copy(e,i,a,o,c){return new at(e??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const c=a(e,o.key);return c<0?o=o.copy(null,null,null,o.left.insert(e,i,a),null):c===0?o=o.copy(null,i,null,null,null):o=o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Nt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let a,o;if(a=this,i(e,a.key)<0)!a.left.isEmpty()&&!a.left.isRed_()&&!a.left.left.isRed_()&&(a=a.moveRedLeft_()),a=a.copy(null,null,null,a.left.remove(e,i),null);else{if(a.left.isRed_()&&(a=a.rotateRight_()),!a.right.isEmpty()&&!a.right.isRed_()&&!a.right.left.isRed_()&&(a=a.moveRedRight_()),i(e,a.key)===0){if(a.right.isEmpty())return Nt.EMPTY_NODE;o=a.right.min_(),a=a.copy(o.key,o.value,null,null,a.right.removeMin_())}a=a.copy(null,null,null,null,a.right.remove(e,i))}return a.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,at.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,at.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}at.RED=!0;at.BLACK=!1;class G1{copy(e,i,a,o,c){return this}insert(e,i,a){return new at(e,i,null)}remove(e,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Nt{constructor(e,i=Nt.EMPTY_NODE){this.comparator_=e,this.root_=i}insert(e,i){return new Nt(this.comparator_,this.root_.insert(e,i,this.comparator_).copy(null,null,at.BLACK,null,null))}remove(e){return new Nt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,at.BLACK,null,null))}get(e){let i,a=this.root_;for(;!a.isEmpty();){if(i=this.comparator_(e,a.key),i===0)return a.value;i<0?a=a.left:i>0&&(a=a.right)}return null}getPredecessorKey(e){let i,a=this.root_,o=null;for(;!a.isEmpty();)if(i=this.comparator_(e,a.key),i===0){if(a.left.isEmpty())return o?o.key:null;for(a=a.left;!a.right.isEmpty();)a=a.right;return a.key}else i<0?a=a.left:i>0&&(o=a,a=a.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Uo(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,i){return new Uo(this.root_,e,this.comparator_,!1,i)}getReverseIteratorFrom(e,i){return new Uo(this.root_,e,this.comparator_,!0,i)}getReverseIterator(e){return new Uo(this.root_,null,this.comparator_,!0,e)}}Nt.EMPTY_NODE=new G1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y1(s,e){return Dr(s.name,e.name)}function ad(s,e){return Dr(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wh;function K1(s){wh=s}const NE=function(s){return typeof s=="number"?"number:"+iE(s):"string:"+s},OE=function(s){if(s.isLeafNode()){const e=s.val();j(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Jn(e,".sv"),"Priority must be a string or number.")}else j(s===wh||s.isEmpty(),"priority of unexpected type.");j(s===wh||s.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sv;class rt{static set __childrenNodeConstructor(e){Sv=e}static get __childrenNodeConstructor(){return Sv}constructor(e,i=rt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,j(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),OE(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new rt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:rt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return fe(e)?this:he(e)===".priority"?this.priorityNode_:rt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return e===".priority"?this.updatePriority(i):i.isEmpty()&&e!==".priority"?this:rt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const a=he(e);return a===null?i:i.isEmpty()&&a!==".priority"?this:(j(a!==".priority"||Pi(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(a,rt.__childrenNodeConstructor.EMPTY_NODE.updateChild(De(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+NE(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",i==="number"?e+=iE(this.value_):e+=this.value_,this.lazyHash_=eE(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===rt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof rt.__childrenNodeConstructor?-1:(j(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,a=typeof this.value_,o=rt.VALUE_TYPE_ORDER.indexOf(i),c=rt.VALUE_TYPE_ORDER.indexOf(a);return j(o>=0,"Unknown leaf type: "+i),j(c>=0,"Unknown leaf type: "+a),o===c?a==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:c-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}rt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let DE,IE;function Q1(s){DE=s}function W1(s){IE=s}class X1 extends Eu{compare(e,i){const a=e.node.getPriority(),o=i.node.getPriority(),c=a.compareTo(o);return c===0?Dr(e.name,i.name):c}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,i){return!e.getPriority().equals(i.getPriority())}minPost(){return ue.MIN}maxPost(){return new ue(Es,new rt("[PRIORITY-POST]",IE))}makePost(e,i){const a=DE(e);return new ue(i,new rt("[PRIORITY-POST]",a))}toString(){return".priority"}}const Be=new X1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1=Math.log(2);class Z1{constructor(e){const i=c=>parseInt(Math.log(c)/$1,10),a=c=>parseInt(Array(c+1).join("1"),2);this.count=i(e+1),this.current_=this.count-1;const o=a(this.count);this.bits_=e+1&o}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const iu=function(s,e,i,a){s.sort(e);const o=function(p,m){const v=m-p;let y,S;if(v===0)return null;if(v===1)return y=s[p],S=i?i(y):y,new at(S,y.node,at.BLACK,null,null);{const N=parseInt(v/2,10)+p,R=o(p,N),L=o(N+1,m);return y=s[N],S=i?i(y):y,new at(S,y.node,at.BLACK,R,L)}},c=function(p){let m=null,v=null,y=s.length;const S=function(R,L){const z=y-R,P=y;y-=R;const q=o(z+1,P),B=s[z],de=i?i(B):B;N(new at(de,B.node,L,null,q))},N=function(R){m?(m.left=R,m=R):(v=R,m=R)};for(let R=0;R<p.count;++R){const L=p.nextBitIsOne(),z=Math.pow(2,p.count-(R+1));L?S(z,at.BLACK):(S(z,at.BLACK),S(z,at.RED))}return v},h=new Z1(s.length),d=c(h);return new Nt(a||e,d)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ah;const ur={};class Fn{static get Default(){return j(ur&&Be,"ChildrenNode.ts has not been loaded"),ah=ah||new Fn({".priority":ur},{".priority":Be}),ah}constructor(e,i){this.indexes_=e,this.indexSet_=i}get(e){const i=_r(this.indexes_,e);if(!i)throw new Error("No index defined for "+e);return i instanceof Nt?i:null}hasIndex(e){return Jn(this.indexSet_,e.toString())}addIndex(e,i){j(e!==gr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const a=[];let o=!1;const c=i.getIterator(ue.Wrap);let h=c.getNext();for(;h;)o=o||e.isDefinedOn(h.node),a.push(h),h=c.getNext();let d;o?d=iu(a,e.getCompare()):d=ur;const p=e.toString(),m=Object.assign({},this.indexSet_);m[p]=e;const v=Object.assign({},this.indexes_);return v[p]=d,new Fn(v,m)}addToIndexes(e,i){const a=Qo(this.indexes_,(o,c)=>{const h=_r(this.indexSet_,c);if(j(h,"Missing index implementation for "+c),o===ur)if(h.isDefinedOn(e.node)){const d=[],p=i.getIterator(ue.Wrap);let m=p.getNext();for(;m;)m.name!==e.name&&d.push(m),m=p.getNext();return d.push(e),iu(d,h.getCompare())}else return ur;else{const d=i.get(e.name);let p=o;return d&&(p=p.remove(new ue(e.name,d))),p.insert(e,e.node)}});return new Fn(a,this.indexSet_)}removeFromIndexes(e,i){const a=Qo(this.indexes_,o=>{if(o===ur)return o;{const c=i.get(e.name);return c?o.remove(new ue(e.name,c)):o}});return new Fn(a,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ua;class ee{static get EMPTY_NODE(){return Ua||(Ua=new ee(new Nt(ad),null,Fn.Default))}constructor(e,i,a){this.children_=e,this.priorityNode_=i,this.indexMap_=a,this.lazyHash_=null,this.priorityNode_&&OE(this.priorityNode_),this.children_.isEmpty()&&j(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ua}updatePriority(e){return this.children_.isEmpty()?this:new ee(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const i=this.children_.get(e);return i===null?Ua:i}}getChild(e){const i=he(e);return i===null?this:this.getImmediateChild(i).getChild(De(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,i){if(j(i,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(i);{const a=new ue(e,i);let o,c;i.isEmpty()?(o=this.children_.remove(e),c=this.indexMap_.removeFromIndexes(a,this.children_)):(o=this.children_.insert(e,i),c=this.indexMap_.addToIndexes(a,this.children_));const h=o.isEmpty()?Ua:this.priorityNode_;return new ee(o,h,c)}}updateChild(e,i){const a=he(e);if(a===null)return i;{j(he(e)!==".priority"||Pi(e)===1,".priority must be the last token in a path");const o=this.getImmediateChild(a).updateChild(De(e),i);return this.updateImmediateChild(a,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let a=0,o=0,c=!0;if(this.forEachChild(Be,(h,d)=>{i[h]=d.val(e),a++,c&&ee.INTEGER_REGEXP_.test(h)?o=Math.max(o,Number(h)):c=!1}),!e&&c&&o<2*a){const h=[];for(const d in i)h[d]=i[d];return h}else return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+NE(this.getPriority().val())+":"),this.forEachChild(Be,(i,a)=>{const o=a.hash();o!==""&&(e+=":"+i+":"+o)}),this.lazyHash_=e===""?"":eE(e)}return this.lazyHash_}getPredecessorChildName(e,i,a){const o=this.resolveIndex_(a);if(o){const c=o.getPredecessorKey(new ue(e,i));return c?c.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const a=i.minKey();return a&&a.name}else return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new ue(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const a=i.maxKey();return a&&a.name}else return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new ue(i,this.children_.get(i)):null}forEachChild(e,i){const a=this.resolveIndex_(e);return a?a.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const a=this.resolveIndex_(i);if(a)return a.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,ue.Wrap);let c=o.peek();for(;c!=null&&i.compare(c,e)<0;)o.getNext(),c=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const a=this.resolveIndex_(i);if(a)return a.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,ue.Wrap);let c=o.peek();for(;c!=null&&i.compare(c,e)>0;)o.getNext(),c=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===pl?-1:0}withIndex(e){if(e===gr||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new ee(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===gr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){const a=this.getIterator(Be),o=i.getIterator(Be);let c=a.getNext(),h=o.getNext();for(;c&&h;){if(c.name!==h.name||!c.node.equals(h.node))return!1;c=a.getNext(),h=o.getNext()}return c===null&&h===null}else return!1;else return!1}}resolveIndex_(e){return e===gr?null:this.indexMap_.get(e.toString())}}ee.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class J1 extends ee{constructor(){super(new Nt(ad),ee.EMPTY_NODE,Fn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ee.EMPTY_NODE}isEmpty(){return!1}}const pl=new J1;Object.defineProperties(ue,{MIN:{value:new ue(Er,ee.EMPTY_NODE)},MAX:{value:new ue(Es,pl)}});AE.__EMPTY_NODE=ee.EMPTY_NODE;rt.__childrenNodeConstructor=ee;K1(pl);W1(pl);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eO=!0;function lt(s,e=null){if(s===null)return ee.EMPTY_NODE;if(typeof s=="object"&&".priority"in s&&(e=s[".priority"]),j(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof s=="object"&&".value"in s&&s[".value"]!==null&&(s=s[".value"]),typeof s!="object"||".sv"in s){const i=s;return new rt(i,lt(e))}if(!(s instanceof Array)&&eO){const i=[];let a=!1;if(Dt(s,(h,d)=>{if(h.substring(0,1)!=="."){const p=lt(d);p.isEmpty()||(a=a||!p.getPriority().isEmpty(),i.push(new ue(h,p)))}}),i.length===0)return ee.EMPTY_NODE;const c=iu(i,Y1,h=>h.name,ad);if(a){const h=iu(i,Be.getCompare());return new ee(c,lt(e),new Fn({".priority":h},{".priority":Be}))}else return new ee(c,lt(e),Fn.Default)}else{let i=ee.EMPTY_NODE;return Dt(s,(a,o)=>{if(Jn(s,a)&&a.substring(0,1)!=="."){const c=lt(o);(c.isLeafNode()||!c.isEmpty())&&(i=i.updateImmediateChild(a,c))}}),i.updatePriority(lt(e))}}Q1(lt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO extends Eu{constructor(e){super(),this.indexPath_=e,j(!fe(e)&&he(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,i){const a=this.extractChild(e.node),o=this.extractChild(i.node),c=a.compareTo(o);return c===0?Dr(e.name,i.name):c}makePost(e,i){const a=lt(e),o=ee.EMPTY_NODE.updateChild(this.indexPath_,a);return new ue(i,o)}maxPost(){const e=ee.EMPTY_NODE.updateChild(this.indexPath_,pl);return new ue(Es,e)}toString(){return TE(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO extends Eu{compare(e,i){const a=e.node.compareTo(i.node);return a===0?Dr(e.name,i.name):a}isDefinedOn(e){return!0}indexedValueChanged(e,i){return!e.equals(i)}minPost(){return ue.MIN}maxPost(){return ue.MAX}makePost(e,i){const a=lt(e);return new ue(i,a)}toString(){return".value"}}const iO=new nO;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xE(s){return{type:"value",snapshotNode:s}}function Sr(s,e){return{type:"child_added",snapshotNode:e,childName:s}}function $a(s,e){return{type:"child_removed",snapshotNode:e,childName:s}}function Za(s,e,i){return{type:"child_changed",snapshotNode:e,childName:s,oldSnap:i}}function sO(s,e){return{type:"child_moved",snapshotNode:e,childName:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e){this.index_=e}updateChild(e,i,a,o,c,h){j(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const d=e.getImmediateChild(i);return d.getChild(o).equals(a.getChild(o))&&d.isEmpty()===a.isEmpty()||(h!=null&&(a.isEmpty()?e.hasChild(i)?h.trackChildChange($a(i,d)):j(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):d.isEmpty()?h.trackChildChange(Sr(i,a)):h.trackChildChange(Za(i,a,d))),e.isLeafNode()&&a.isEmpty())?e:e.updateImmediateChild(i,a).withIndex(this.index_)}updateFullNode(e,i,a){return a!=null&&(e.isLeafNode()||e.forEachChild(Be,(o,c)=>{i.hasChild(o)||a.trackChildChange($a(o,c))}),i.isLeafNode()||i.forEachChild(Be,(o,c)=>{if(e.hasChild(o)){const h=e.getImmediateChild(o);h.equals(c)||a.trackChildChange(Za(o,c,h))}else a.trackChildChange(Sr(o,c))})),i.withIndex(this.index_)}updatePriority(e,i){return e.isEmpty()?ee.EMPTY_NODE:e.updatePriority(i)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e){this.indexedFilter_=new ld(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Ja.getStartPost_(e),this.endPost_=Ja.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const i=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,a=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return i&&a}updateChild(e,i,a,o,c,h){return this.matches(new ue(i,a))||(a=ee.EMPTY_NODE),this.indexedFilter_.updateChild(e,i,a,o,c,h)}updateFullNode(e,i,a){i.isLeafNode()&&(i=ee.EMPTY_NODE);let o=i.withIndex(this.index_);o=o.updatePriority(ee.EMPTY_NODE);const c=this;return i.forEachChild(Be,(h,d)=>{c.matches(new ue(h,d))||(o=o.updateImmediateChild(h,ee.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,o,a)}updatePriority(e,i){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const i=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),i)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const i=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),i)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(e){this.withinDirectionalStart=i=>this.reverse_?this.withinEndPost(i):this.withinStartPost(i),this.withinDirectionalEnd=i=>this.reverse_?this.withinStartPost(i):this.withinEndPost(i),this.withinStartPost=i=>{const a=this.index_.compare(this.rangedFilter_.getStartPost(),i);return this.startIsInclusive_?a<=0:a<0},this.withinEndPost=i=>{const a=this.index_.compare(i,this.rangedFilter_.getEndPost());return this.endIsInclusive_?a<=0:a<0},this.rangedFilter_=new Ja(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,i,a,o,c,h){return this.rangedFilter_.matches(new ue(i,a))||(a=ee.EMPTY_NODE),e.getImmediateChild(i).equals(a)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,i,a,o,c,h):this.fullLimitUpdateChild_(e,i,a,c,h)}updateFullNode(e,i,a){let o;if(i.isLeafNode()||i.isEmpty())o=ee.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<i.numChildren()&&i.isIndexed(this.index_)){o=ee.EMPTY_NODE.withIndex(this.index_);let c;this.reverse_?c=i.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):c=i.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let h=0;for(;c.hasNext()&&h<this.limit_;){const d=c.getNext();if(this.withinDirectionalStart(d))if(this.withinDirectionalEnd(d))o=o.updateImmediateChild(d.name,d.node),h++;else break;else continue}}else{o=i.withIndex(this.index_),o=o.updatePriority(ee.EMPTY_NODE);let c;this.reverse_?c=o.getReverseIterator(this.index_):c=o.getIterator(this.index_);let h=0;for(;c.hasNext();){const d=c.getNext();h<this.limit_&&this.withinDirectionalStart(d)&&this.withinDirectionalEnd(d)?h++:o=o.updateImmediateChild(d.name,ee.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,o,a)}updatePriority(e,i){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,i,a,o,c){let h;if(this.reverse_){const y=this.index_.getCompare();h=(S,N)=>y(N,S)}else h=this.index_.getCompare();const d=e;j(d.numChildren()===this.limit_,"");const p=new ue(i,a),m=this.reverse_?d.getFirstChild(this.index_):d.getLastChild(this.index_),v=this.rangedFilter_.matches(p);if(d.hasChild(i)){const y=d.getImmediateChild(i);let S=o.getChildAfterChild(this.index_,m,this.reverse_);for(;S!=null&&(S.name===i||d.hasChild(S.name));)S=o.getChildAfterChild(this.index_,S,this.reverse_);const N=S==null?1:h(S,p);if(v&&!a.isEmpty()&&N>=0)return c!=null&&c.trackChildChange(Za(i,a,y)),d.updateImmediateChild(i,a);{c!=null&&c.trackChildChange($a(i,y));const L=d.updateImmediateChild(i,ee.EMPTY_NODE);return S!=null&&this.rangedFilter_.matches(S)?(c!=null&&c.trackChildChange(Sr(S.name,S.node)),L.updateImmediateChild(S.name,S.node)):L}}else return a.isEmpty()?e:v&&h(m,p)>=0?(c!=null&&(c.trackChildChange($a(m.name,m.node)),c.trackChildChange(Sr(i,a))),d.updateImmediateChild(i,a).updateImmediateChild(m.name,ee.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Be}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return j(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return j(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Er}hasEnd(){return this.endSet_}getIndexEndValue(){return j(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return j(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Es}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return j(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Be}copy(){const e=new od;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function aO(s){return s.loadsAllData()?new ld(s.getIndex()):s.hasLimit()?new rO(s):new Ja(s)}function bv(s){const e={};if(s.isDefault())return e;let i;if(s.index_===Be?i="$priority":s.index_===iO?i="$value":s.index_===gr?i="$key":(j(s.index_ instanceof tO,"Unrecognized index type!"),i=s.index_.toString()),e.orderBy=$e(i),s.startSet_){const a=s.startAfterSet_?"startAfter":"startAt";e[a]=$e(s.indexStartValue_),s.startNameSet_&&(e[a]+=","+$e(s.indexStartName_))}if(s.endSet_){const a=s.endBeforeSet_?"endBefore":"endAt";e[a]=$e(s.indexEndValue_),s.endNameSet_&&(e[a]+=","+$e(s.indexEndName_))}return s.limitSet_&&(s.isViewFromLeft()?e.limitToFirst=s.limit_:e.limitToLast=s.limit_),e}function Tv(s){const e={};if(s.startSet_&&(e.sp=s.indexStartValue_,s.startNameSet_&&(e.sn=s.indexStartName_),e.sin=!s.startAfterSet_),s.endSet_&&(e.ep=s.indexEndValue_,s.endNameSet_&&(e.en=s.indexEndName_),e.ein=!s.endBeforeSet_),s.limitSet_){e.l=s.limit_;let i=s.viewFrom_;i===""&&(s.isViewFromLeft()?i="l":i="r"),e.vf=i}return s.index_!==Be&&(e.i=s.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su extends EE{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,i){return i!==void 0?"tag$"+i:(j(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,i,a,o){super(),this.repoInfo_=e,this.onDataUpdate_=i,this.authTokenProvider_=a,this.appCheckTokenProvider_=o,this.log_=dl("p:rest:"),this.listens_={}}listen(e,i,a,o){const c=e._path.toString();this.log_("Listen called for "+c+" "+e._queryIdentifier);const h=su.getListenId_(e,a),d={};this.listens_[h]=d;const p=bv(e._queryParams);this.restRequest_(c+".json",p,(m,v)=>{let y=v;if(m===404&&(y=null,m=null),m===null&&this.onDataUpdate_(c,y,!1,a),_r(this.listens_,h)===d){let S;m?m===401?S="permission_denied":S="rest_error:"+m:S="ok",o(S,null)}})}unlisten(e,i){const a=su.getListenId_(e,i);delete this.listens_[a]}get(e){const i=bv(e._queryParams),a=e._path.toString(),o=new mu;return this.restRequest_(a+".json",i,(c,h)=>{let d=h;c===404&&(d=null,c=null),c===null?(this.onDataUpdate_(a,d,!1,null),o.resolve(d)):o.reject(new Error(d))}),o.promise}refreshAuthToken(e){}restRequest_(e,i={},a){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,c])=>{o&&o.accessToken&&(i.auth=o.accessToken),c&&c.token&&(i.ac=c.token);const h=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Ar(i);this.log_("Sending REST request for "+h);const d=new XMLHttpRequest;d.onreadystatechange=()=>{if(a&&d.readyState===4){this.log_("REST Response for "+h+" received. status:",d.status,"response:",d.responseText);let p=null;if(d.status>=200&&d.status<300){try{p=Ka(d.responseText)}catch{Ot("Failed to parse JSON response for "+h+": "+d.responseText)}a(null,p)}else d.status!==401&&d.status!==404&&Ot("Got unsuccessful REST response for "+h+" Status: "+d.status),a(d.status);a=null}},d.open("GET",h,!0),d.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(){this.rootNode_=ee.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,i){this.rootNode_=this.rootNode_.updateChild(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ru(){return{value:null,children:new Map}}function ME(s,e,i){if(fe(e))s.value=i,s.children.clear();else if(s.value!==null)s.value=s.value.updateChild(e,i);else{const a=he(e);s.children.has(a)||s.children.set(a,ru());const o=s.children.get(a);e=De(e),ME(o,e,i)}}function Rh(s,e,i){s.value!==null?i(e,s.value):oO(s,(a,o)=>{const c=new Re(e.toString()+"/"+a);Rh(o,c,i)})}function oO(s,e){s.children.forEach((i,a)=>{e(a,i)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),i=Object.assign({},e);return this.last_&&Dt(this.last_,(a,o)=>{i[a]=i[a]-o}),this.last_=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv=10*1e3,cO=30*1e3,fO=5*60*1e3;class hO{constructor(e,i){this.server_=i,this.statsToReport_={},this.statsListener_=new uO(e);const a=Cv+(cO-Cv)*Math.random();qa(this.reportStats_.bind(this),Math.floor(a))}reportStats_(){const e=this.statsListener_.get(),i={};let a=!1;Dt(e,(o,c)=>{c>0&&Jn(this.statsToReport_,o)&&(i[o]=c,a=!0)}),a&&this.server_.reportStats(i),qa(this.reportStats_.bind(this),Math.floor(Math.random()*2*fO))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var an;(function(s){s[s.OVERWRITE=0]="OVERWRITE",s[s.MERGE=1]="MERGE",s[s.ACK_USER_WRITE=2]="ACK_USER_WRITE",s[s.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(an||(an={}));function kE(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function ud(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function cd(s){return{fromUser:!1,fromServer:!0,queryId:s,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(e,i,a){this.path=e,this.affectedTree=i,this.revert=a,this.type=an.ACK_USER_WRITE,this.source=kE()}operationForChild(e){if(fe(this.path)){if(this.affectedTree.value!=null)return j(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const i=this.affectedTree.subtree(new Re(e));return new au(ye(),i,this.revert)}}else return j(he(this.path)===e,"operationForChild called for unrelated child."),new au(De(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e,i){this.source=e,this.path=i,this.type=an.LISTEN_COMPLETE}operationForChild(e){return fe(this.path)?new el(this.source,ye()):new el(this.source,De(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e,i,a){this.source=e,this.path=i,this.snap=a,this.type=an.OVERWRITE}operationForChild(e){return fe(this.path)?new Ss(this.source,ye(),this.snap.getImmediateChild(e)):new Ss(this.source,De(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e,i,a){this.source=e,this.path=i,this.children=a,this.type=an.MERGE}operationForChild(e){if(fe(this.path)){const i=this.children.subtree(new Re(e));return i.isEmpty()?null:i.value?new Ss(this.source,ye(),i.value):new tl(this.source,ye(),i)}else return j(he(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new tl(this.source,De(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e,i,a){this.node_=e,this.fullyInitialized_=i,this.filtered_=a}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(fe(e))return this.isFullyInitialized()&&!this.filtered_;const i=he(e);return this.isCompleteForChild(i)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function pO(s,e,i,a){const o=[],c=[];return e.forEach(h=>{h.type==="child_changed"&&s.index_.indexedValueChanged(h.oldSnap,h.snapshotNode)&&c.push(sO(h.childName,h.snapshotNode))}),za(s,o,"child_removed",e,a,i),za(s,o,"child_added",e,a,i),za(s,o,"child_moved",c,a,i),za(s,o,"child_changed",e,a,i),za(s,o,"value",e,a,i),o}function za(s,e,i,a,o,c){const h=a.filter(d=>d.type===i);h.sort((d,p)=>gO(s,d,p)),h.forEach(d=>{const p=mO(s,d,c);o.forEach(m=>{m.respondsTo(d.type)&&e.push(m.createEvent(p,s.query_))})})}function mO(s,e,i){return e.type==="value"||e.type==="child_removed"||(e.prevName=i.getPredecessorChildName(e.childName,e.snapshotNode,s.index_)),e}function gO(s,e,i){if(e.childName==null||i.childName==null)throw Rr("Should only compare child_ events.");const a=new ue(e.childName,e.snapshotNode),o=new ue(i.childName,i.snapshotNode);return s.index_.compare(a,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Su(s,e){return{eventCache:s,serverCache:e}}function Va(s,e,i,a){return Su(new Hi(e,i,a),s.serverCache)}function LE(s,e,i,a){return Su(s.eventCache,new Hi(e,i,a))}function lu(s){return s.eventCache.isFullyInitialized()?s.eventCache.getNode():null}function bs(s){return s.serverCache.isFullyInitialized()?s.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lh;const _O=()=>(lh||(lh=new Nt(n1)),lh);class xe{static fromObject(e){let i=new xe(null);return Dt(e,(a,o)=>{i=i.set(new Re(a),o)}),i}constructor(e,i=_O()){this.value=e,this.children=i}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,i){if(this.value!=null&&i(this.value))return{path:ye(),value:this.value};if(fe(e))return null;{const a=he(e),o=this.children.get(a);if(o!==null){const c=o.findRootMostMatchingPathAndValue(De(e),i);return c!=null?{path:Ze(new Re(a),c.path),value:c.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(fe(e))return this;{const i=he(e),a=this.children.get(i);return a!==null?a.subtree(De(e)):new xe(null)}}set(e,i){if(fe(e))return new xe(i,this.children);{const a=he(e),c=(this.children.get(a)||new xe(null)).set(De(e),i),h=this.children.insert(a,c);return new xe(this.value,h)}}remove(e){if(fe(e))return this.children.isEmpty()?new xe(null):new xe(null,this.children);{const i=he(e),a=this.children.get(i);if(a){const o=a.remove(De(e));let c;return o.isEmpty()?c=this.children.remove(i):c=this.children.insert(i,o),this.value===null&&c.isEmpty()?new xe(null):new xe(this.value,c)}else return this}}get(e){if(fe(e))return this.value;{const i=he(e),a=this.children.get(i);return a?a.get(De(e)):null}}setTree(e,i){if(fe(e))return i;{const a=he(e),c=(this.children.get(a)||new xe(null)).setTree(De(e),i);let h;return c.isEmpty()?h=this.children.remove(a):h=this.children.insert(a,c),new xe(this.value,h)}}fold(e){return this.fold_(ye(),e)}fold_(e,i){const a={};return this.children.inorderTraversal((o,c)=>{a[o]=c.fold_(Ze(e,o),i)}),i(e,this.value,a)}findOnPath(e,i){return this.findOnPath_(e,ye(),i)}findOnPath_(e,i,a){const o=this.value?a(i,this.value):!1;if(o)return o;if(fe(e))return null;{const c=he(e),h=this.children.get(c);return h?h.findOnPath_(De(e),Ze(i,c),a):null}}foreachOnPath(e,i){return this.foreachOnPath_(e,ye(),i)}foreachOnPath_(e,i,a){if(fe(e))return this;{this.value&&a(i,this.value);const o=he(e),c=this.children.get(o);return c?c.foreachOnPath_(De(e),Ze(i,o),a):new xe(null)}}foreach(e){this.foreach_(ye(),e)}foreach_(e,i){this.children.inorderTraversal((a,o)=>{o.foreach_(Ze(e,a),i)}),this.value&&i(e,this.value)}foreachChild(e){this.children.inorderTraversal((i,a)=>{a.value&&e(i,a.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.writeTree_=e}static empty(){return new ln(new xe(null))}}function Fa(s,e,i){if(fe(e))return new ln(new xe(i));{const a=s.writeTree_.findRootMostValueAndPath(e);if(a!=null){const o=a.path;let c=a.value;const h=Et(o,e);return c=c.updateChild(h,i),new ln(s.writeTree_.set(o,c))}else{const o=new xe(i),c=s.writeTree_.setTree(e,o);return new ln(c)}}}function wv(s,e,i){let a=s;return Dt(i,(o,c)=>{a=Fa(a,Ze(e,o),c)}),a}function Rv(s,e){if(fe(e))return ln.empty();{const i=s.writeTree_.setTree(e,new xe(null));return new ln(i)}}function Ah(s,e){return Rs(s,e)!=null}function Rs(s,e){const i=s.writeTree_.findRootMostValueAndPath(e);return i!=null?s.writeTree_.get(i.path).getChild(Et(i.path,e)):null}function Av(s){const e=[],i=s.writeTree_.value;return i!=null?i.isLeafNode()||i.forEachChild(Be,(a,o)=>{e.push(new ue(a,o))}):s.writeTree_.children.inorderTraversal((a,o)=>{o.value!=null&&e.push(new ue(a,o.value))}),e}function Li(s,e){if(fe(e))return s;{const i=Rs(s,e);return i!=null?new ln(new xe(i)):new ln(s.writeTree_.subtree(e))}}function Nh(s){return s.writeTree_.isEmpty()}function br(s,e){return UE(ye(),s.writeTree_,e)}function UE(s,e,i){if(e.value!=null)return i.updateChild(s,e.value);{let a=null;return e.children.inorderTraversal((o,c)=>{o===".priority"?(j(c.value!==null,"Priority writes must always be leaf nodes"),a=c.value):i=UE(Ze(s,o),c,i)}),!i.getChild(s).isEmpty()&&a!==null&&(i=i.updateChild(Ze(s,".priority"),a)),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bu(s,e){return jE(e,s)}function vO(s,e,i,a,o){j(a>s.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),s.allWrites.push({path:e,snap:i,writeId:a,visible:o}),o&&(s.visibleWrites=Fa(s.visibleWrites,e,i)),s.lastWriteId=a}function yO(s,e){for(let i=0;i<s.allWrites.length;i++){const a=s.allWrites[i];if(a.writeId===e)return a}return null}function EO(s,e){const i=s.allWrites.findIndex(d=>d.writeId===e);j(i>=0,"removeWrite called with nonexistent writeId.");const a=s.allWrites[i];s.allWrites.splice(i,1);let o=a.visible,c=!1,h=s.allWrites.length-1;for(;o&&h>=0;){const d=s.allWrites[h];d.visible&&(h>=i&&SO(d,a.path)?o=!1:rn(a.path,d.path)&&(c=!0)),h--}if(o){if(c)return bO(s),!0;if(a.snap)s.visibleWrites=Rv(s.visibleWrites,a.path);else{const d=a.children;Dt(d,p=>{s.visibleWrites=Rv(s.visibleWrites,Ze(a.path,p))})}return!0}else return!1}function SO(s,e){if(s.snap)return rn(s.path,e);for(const i in s.children)if(s.children.hasOwnProperty(i)&&rn(Ze(s.path,i),e))return!0;return!1}function bO(s){s.visibleWrites=zE(s.allWrites,TO,ye()),s.allWrites.length>0?s.lastWriteId=s.allWrites[s.allWrites.length-1].writeId:s.lastWriteId=-1}function TO(s){return s.visible}function zE(s,e,i){let a=ln.empty();for(let o=0;o<s.length;++o){const c=s[o];if(e(c)){const h=c.path;let d;if(c.snap)rn(i,h)?(d=Et(i,h),a=Fa(a,d,c.snap)):rn(h,i)&&(d=Et(h,i),a=Fa(a,ye(),c.snap.getChild(d)));else if(c.children){if(rn(i,h))d=Et(i,h),a=wv(a,d,c.children);else if(rn(h,i))if(d=Et(h,i),fe(d))a=wv(a,ye(),c.children);else{const p=_r(c.children,he(d));if(p){const m=p.getChild(De(d));a=Fa(a,ye(),m)}}}else throw Rr("WriteRecord should have .snap or .children")}}return a}function PE(s,e,i,a,o){if(!a&&!o){const c=Rs(s.visibleWrites,e);if(c!=null)return c;{const h=Li(s.visibleWrites,e);if(Nh(h))return i;if(i==null&&!Ah(h,ye()))return null;{const d=i||ee.EMPTY_NODE;return br(h,d)}}}else{const c=Li(s.visibleWrites,e);if(!o&&Nh(c))return i;if(!o&&i==null&&!Ah(c,ye()))return null;{const h=function(m){return(m.visible||o)&&(!a||!~a.indexOf(m.writeId))&&(rn(m.path,e)||rn(e,m.path))},d=zE(s.allWrites,h,e),p=i||ee.EMPTY_NODE;return br(d,p)}}}function CO(s,e,i){let a=ee.EMPTY_NODE;const o=Rs(s.visibleWrites,e);if(o)return o.isLeafNode()||o.forEachChild(Be,(c,h)=>{a=a.updateImmediateChild(c,h)}),a;if(i){const c=Li(s.visibleWrites,e);return i.forEachChild(Be,(h,d)=>{const p=br(Li(c,new Re(h)),d);a=a.updateImmediateChild(h,p)}),Av(c).forEach(h=>{a=a.updateImmediateChild(h.name,h.node)}),a}else{const c=Li(s.visibleWrites,e);return Av(c).forEach(h=>{a=a.updateImmediateChild(h.name,h.node)}),a}}function wO(s,e,i,a,o){j(a||o,"Either existingEventSnap or existingServerSnap must exist");const c=Ze(e,i);if(Ah(s.visibleWrites,c))return null;{const h=Li(s.visibleWrites,c);return Nh(h)?o.getChild(i):br(h,o.getChild(i))}}function RO(s,e,i,a){const o=Ze(e,i),c=Rs(s.visibleWrites,o);if(c!=null)return c;if(a.isCompleteForChild(i)){const h=Li(s.visibleWrites,o);return br(h,a.getNode().getImmediateChild(i))}else return null}function AO(s,e){return Rs(s.visibleWrites,e)}function NO(s,e,i,a,o,c,h){let d;const p=Li(s.visibleWrites,e),m=Rs(p,ye());if(m!=null)d=m;else if(i!=null)d=br(p,i);else return[];if(d=d.withIndex(h),!d.isEmpty()&&!d.isLeafNode()){const v=[],y=h.getCompare(),S=c?d.getReverseIteratorFrom(a,h):d.getIteratorFrom(a,h);let N=S.getNext();for(;N&&v.length<o;)y(N,a)!==0&&v.push(N),N=S.getNext();return v}else return[]}function OO(){return{visibleWrites:ln.empty(),allWrites:[],lastWriteId:-1}}function ou(s,e,i,a){return PE(s.writeTree,s.treePath,e,i,a)}function fd(s,e){return CO(s.writeTree,s.treePath,e)}function Nv(s,e,i,a){return wO(s.writeTree,s.treePath,e,i,a)}function uu(s,e){return AO(s.writeTree,Ze(s.treePath,e))}function DO(s,e,i,a,o,c){return NO(s.writeTree,s.treePath,e,i,a,o,c)}function hd(s,e,i){return RO(s.writeTree,s.treePath,e,i)}function HE(s,e){return jE(Ze(s.treePath,e),s.writeTree)}function jE(s,e){return{treePath:s,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(){this.changeMap=new Map}trackChildChange(e){const i=e.type,a=e.childName;j(i==="child_added"||i==="child_changed"||i==="child_removed","Only child changes supported for tracking"),j(a!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(a);if(o){const c=o.type;if(i==="child_added"&&c==="child_removed")this.changeMap.set(a,Za(a,e.snapshotNode,o.snapshotNode));else if(i==="child_removed"&&c==="child_added")this.changeMap.delete(a);else if(i==="child_removed"&&c==="child_changed")this.changeMap.set(a,$a(a,o.oldSnap));else if(i==="child_changed"&&c==="child_added")this.changeMap.set(a,Sr(a,e.snapshotNode));else if(i==="child_changed"&&c==="child_changed")this.changeMap.set(a,Za(a,e.snapshotNode,o.oldSnap));else throw Rr("Illegal combination of changes: "+e+" occurred after "+o)}else this.changeMap.set(a,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{getCompleteChild(e){return null}getChildAfterChild(e,i,a){return null}}const BE=new xO;class dd{constructor(e,i,a=null){this.writes_=e,this.viewCache_=i,this.optCompleteServerCache_=a}getCompleteChild(e){const i=this.viewCache_.eventCache;if(i.isCompleteForChild(e))return i.getNode().getImmediateChild(e);{const a=this.optCompleteServerCache_!=null?new Hi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return hd(this.writes_,e,a)}}getChildAfterChild(e,i,a){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:bs(this.viewCache_),c=DO(this.writes_,o,i,1,a,e);return c.length===0?null:c[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MO(s){return{filter:s}}function kO(s,e){j(e.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),j(e.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed")}function LO(s,e,i,a,o){const c=new IO;let h,d;if(i.type===an.OVERWRITE){const m=i;m.source.fromUser?h=Oh(s,e,m.path,m.snap,a,o,c):(j(m.source.fromServer,"Unknown source."),d=m.source.tagged||e.serverCache.isFiltered()&&!fe(m.path),h=cu(s,e,m.path,m.snap,a,o,d,c))}else if(i.type===an.MERGE){const m=i;m.source.fromUser?h=zO(s,e,m.path,m.children,a,o,c):(j(m.source.fromServer,"Unknown source."),d=m.source.tagged||e.serverCache.isFiltered(),h=Dh(s,e,m.path,m.children,a,o,d,c))}else if(i.type===an.ACK_USER_WRITE){const m=i;m.revert?h=jO(s,e,m.path,a,o,c):h=PO(s,e,m.path,m.affectedTree,a,o,c)}else if(i.type===an.LISTEN_COMPLETE)h=HO(s,e,i.path,a,c);else throw Rr("Unknown operation type: "+i.type);const p=c.getChanges();return UO(e,h,p),{viewCache:h,changes:p}}function UO(s,e,i){const a=e.eventCache;if(a.isFullyInitialized()){const o=a.getNode().isLeafNode()||a.getNode().isEmpty(),c=lu(s);(i.length>0||!s.eventCache.isFullyInitialized()||o&&!a.getNode().equals(c)||!a.getNode().getPriority().equals(c.getPriority()))&&i.push(xE(lu(e)))}}function qE(s,e,i,a,o,c){const h=e.eventCache;if(uu(a,i)!=null)return e;{let d,p;if(fe(i))if(j(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const m=bs(e),v=m instanceof ee?m:ee.EMPTY_NODE,y=fd(a,v);d=s.filter.updateFullNode(e.eventCache.getNode(),y,c)}else{const m=ou(a,bs(e));d=s.filter.updateFullNode(e.eventCache.getNode(),m,c)}else{const m=he(i);if(m===".priority"){j(Pi(i)===1,"Can't have a priority with additional path components");const v=h.getNode();p=e.serverCache.getNode();const y=Nv(a,i,v,p);y!=null?d=s.filter.updatePriority(v,y):d=h.getNode()}else{const v=De(i);let y;if(h.isCompleteForChild(m)){p=e.serverCache.getNode();const S=Nv(a,i,h.getNode(),p);S!=null?y=h.getNode().getImmediateChild(m).updateChild(v,S):y=h.getNode().getImmediateChild(m)}else y=hd(a,m,e.serverCache);y!=null?d=s.filter.updateChild(h.getNode(),m,y,v,o,c):d=h.getNode()}}return Va(e,d,h.isFullyInitialized()||fe(i),s.filter.filtersNodes())}}function cu(s,e,i,a,o,c,h,d){const p=e.serverCache;let m;const v=h?s.filter:s.filter.getIndexedFilter();if(fe(i))m=v.updateFullNode(p.getNode(),a,null);else if(v.filtersNodes()&&!p.isFiltered()){const N=p.getNode().updateChild(i,a);m=v.updateFullNode(p.getNode(),N,null)}else{const N=he(i);if(!p.isCompleteForPath(i)&&Pi(i)>1)return e;const R=De(i),z=p.getNode().getImmediateChild(N).updateChild(R,a);N===".priority"?m=v.updatePriority(p.getNode(),z):m=v.updateChild(p.getNode(),N,z,R,BE,null)}const y=LE(e,m,p.isFullyInitialized()||fe(i),v.filtersNodes()),S=new dd(o,y,c);return qE(s,y,i,o,S,d)}function Oh(s,e,i,a,o,c,h){const d=e.eventCache;let p,m;const v=new dd(o,e,c);if(fe(i))m=s.filter.updateFullNode(e.eventCache.getNode(),a,h),p=Va(e,m,!0,s.filter.filtersNodes());else{const y=he(i);if(y===".priority")m=s.filter.updatePriority(e.eventCache.getNode(),a),p=Va(e,m,d.isFullyInitialized(),d.isFiltered());else{const S=De(i),N=d.getNode().getImmediateChild(y);let R;if(fe(S))R=a;else{const L=v.getCompleteChild(y);L!=null?bE(S)===".priority"&&L.getChild(CE(S)).isEmpty()?R=L:R=L.updateChild(S,a):R=ee.EMPTY_NODE}if(N.equals(R))p=e;else{const L=s.filter.updateChild(d.getNode(),y,R,S,v,h);p=Va(e,L,d.isFullyInitialized(),s.filter.filtersNodes())}}}return p}function Ov(s,e){return s.eventCache.isCompleteForChild(e)}function zO(s,e,i,a,o,c,h){let d=e;return a.foreach((p,m)=>{const v=Ze(i,p);Ov(e,he(v))&&(d=Oh(s,d,v,m,o,c,h))}),a.foreach((p,m)=>{const v=Ze(i,p);Ov(e,he(v))||(d=Oh(s,d,v,m,o,c,h))}),d}function Dv(s,e,i){return i.foreach((a,o)=>{e=e.updateChild(a,o)}),e}function Dh(s,e,i,a,o,c,h,d){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let p=e,m;fe(i)?m=a:m=new xe(null).setTree(i,a);const v=e.serverCache.getNode();return m.children.inorderTraversal((y,S)=>{if(v.hasChild(y)){const N=e.serverCache.getNode().getImmediateChild(y),R=Dv(s,N,S);p=cu(s,p,new Re(y),R,o,c,h,d)}}),m.children.inorderTraversal((y,S)=>{const N=!e.serverCache.isCompleteForChild(y)&&S.value===null;if(!v.hasChild(y)&&!N){const R=e.serverCache.getNode().getImmediateChild(y),L=Dv(s,R,S);p=cu(s,p,new Re(y),L,o,c,h,d)}}),p}function PO(s,e,i,a,o,c,h){if(uu(o,i)!=null)return e;const d=e.serverCache.isFiltered(),p=e.serverCache;if(a.value!=null){if(fe(i)&&p.isFullyInitialized()||p.isCompleteForPath(i))return cu(s,e,i,p.getNode().getChild(i),o,c,d,h);if(fe(i)){let m=new xe(null);return p.getNode().forEachChild(gr,(v,y)=>{m=m.set(new Re(v),y)}),Dh(s,e,i,m,o,c,d,h)}else return e}else{let m=new xe(null);return a.foreach((v,y)=>{const S=Ze(i,v);p.isCompleteForPath(S)&&(m=m.set(v,p.getNode().getChild(S)))}),Dh(s,e,i,m,o,c,d,h)}}function HO(s,e,i,a,o){const c=e.serverCache,h=LE(e,c.getNode(),c.isFullyInitialized()||fe(i),c.isFiltered());return qE(s,h,i,a,BE,o)}function jO(s,e,i,a,o,c){let h;if(uu(a,i)!=null)return e;{const d=new dd(a,e,o),p=e.eventCache.getNode();let m;if(fe(i)||he(i)===".priority"){let v;if(e.serverCache.isFullyInitialized())v=ou(a,bs(e));else{const y=e.serverCache.getNode();j(y instanceof ee,"serverChildren would be complete if leaf node"),v=fd(a,y)}v=v,m=s.filter.updateFullNode(p,v,c)}else{const v=he(i);let y=hd(a,v,e.serverCache);y==null&&e.serverCache.isCompleteForChild(v)&&(y=p.getImmediateChild(v)),y!=null?m=s.filter.updateChild(p,v,y,De(i),d,c):e.eventCache.getNode().hasChild(v)?m=s.filter.updateChild(p,v,ee.EMPTY_NODE,De(i),d,c):m=p,m.isEmpty()&&e.serverCache.isFullyInitialized()&&(h=ou(a,bs(e)),h.isLeafNode()&&(m=s.filter.updateFullNode(m,h,c)))}return h=e.serverCache.isFullyInitialized()||uu(a,ye())!=null,Va(e,m,h,s.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(e,i){this.query_=e,this.eventRegistrations_=[];const a=this.query_._queryParams,o=new ld(a.getIndex()),c=aO(a);this.processor_=MO(c);const h=i.serverCache,d=i.eventCache,p=o.updateFullNode(ee.EMPTY_NODE,h.getNode(),null),m=c.updateFullNode(ee.EMPTY_NODE,d.getNode(),null),v=new Hi(p,h.isFullyInitialized(),o.filtersNodes()),y=new Hi(m,d.isFullyInitialized(),c.filtersNodes());this.viewCache_=Su(y,v),this.eventGenerator_=new dO(this.query_)}get query(){return this.query_}}function qO(s){return s.viewCache_.serverCache.getNode()}function VO(s){return lu(s.viewCache_)}function FO(s,e){const i=bs(s.viewCache_);return i&&(s.query._queryParams.loadsAllData()||!fe(e)&&!i.getImmediateChild(he(e)).isEmpty())?i.getChild(e):null}function Iv(s){return s.eventRegistrations_.length===0}function GO(s,e){s.eventRegistrations_.push(e)}function xv(s,e,i){const a=[];if(i){j(e==null,"A cancel should cancel all event registrations.");const o=s.query._path;s.eventRegistrations_.forEach(c=>{const h=c.createCancelEvent(i,o);h&&a.push(h)})}if(e){let o=[];for(let c=0;c<s.eventRegistrations_.length;++c){const h=s.eventRegistrations_[c];if(!h.matches(e))o.push(h);else if(e.hasAnyCallback()){o=o.concat(s.eventRegistrations_.slice(c+1));break}}s.eventRegistrations_=o}else s.eventRegistrations_=[];return a}function Mv(s,e,i,a){e.type===an.MERGE&&e.source.queryId!==null&&(j(bs(s.viewCache_),"We should always have a full cache before handling merges"),j(lu(s.viewCache_),"Missing event cache, even though we have a server cache"));const o=s.viewCache_,c=LO(s.processor_,o,e,i,a);return kO(s.processor_,c.viewCache),j(c.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),s.viewCache_=c.viewCache,VE(s,c.changes,c.viewCache.eventCache.getNode(),null)}function YO(s,e){const i=s.viewCache_.eventCache,a=[];return i.getNode().isLeafNode()||i.getNode().forEachChild(Be,(c,h)=>{a.push(Sr(c,h))}),i.isFullyInitialized()&&a.push(xE(i.getNode())),VE(s,a,i.getNode(),e)}function VE(s,e,i,a){const o=a?[a]:s.eventRegistrations_;return pO(s.eventGenerator_,e,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fu;class FE{constructor(){this.views=new Map}}function KO(s){j(!fu,"__referenceConstructor has already been defined"),fu=s}function QO(){return j(fu,"Reference.ts has not been loaded"),fu}function WO(s){return s.views.size===0}function pd(s,e,i,a){const o=e.source.queryId;if(o!==null){const c=s.views.get(o);return j(c!=null,"SyncTree gave us an op for an invalid query."),Mv(c,e,i,a)}else{let c=[];for(const h of s.views.values())c=c.concat(Mv(h,e,i,a));return c}}function GE(s,e,i,a,o){const c=e._queryIdentifier,h=s.views.get(c);if(!h){let d=ou(i,o?a:null),p=!1;d?p=!0:a instanceof ee?(d=fd(i,a),p=!1):(d=ee.EMPTY_NODE,p=!1);const m=Su(new Hi(d,p,!1),new Hi(a,o,!1));return new BO(e,m)}return h}function XO(s,e,i,a,o,c){const h=GE(s,e,a,o,c);return s.views.has(e._queryIdentifier)||s.views.set(e._queryIdentifier,h),GO(h,i),YO(h,i)}function $O(s,e,i,a){const o=e._queryIdentifier,c=[];let h=[];const d=ji(s);if(o==="default")for(const[p,m]of s.views.entries())h=h.concat(xv(m,i,a)),Iv(m)&&(s.views.delete(p),m.query._queryParams.loadsAllData()||c.push(m.query));else{const p=s.views.get(o);p&&(h=h.concat(xv(p,i,a)),Iv(p)&&(s.views.delete(o),p.query._queryParams.loadsAllData()||c.push(p.query)))}return d&&!ji(s)&&c.push(new(QO())(e._repo,e._path)),{removed:c,events:h}}function YE(s){const e=[];for(const i of s.views.values())i.query._queryParams.loadsAllData()||e.push(i);return e}function Ui(s,e){let i=null;for(const a of s.views.values())i=i||FO(a,e);return i}function KE(s,e){if(e._queryParams.loadsAllData())return Tu(s);{const a=e._queryIdentifier;return s.views.get(a)}}function QE(s,e){return KE(s,e)!=null}function ji(s){return Tu(s)!=null}function Tu(s){for(const e of s.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hu;function ZO(s){j(!hu,"__referenceConstructor has already been defined"),hu=s}function JO(){return j(hu,"Reference.ts has not been loaded"),hu}let eD=1;class kv{constructor(e){this.listenProvider_=e,this.syncPointTree_=new xe(null),this.pendingWriteTree_=OO(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function WE(s,e,i,a,o){return vO(s.pendingWriteTree_,e,i,a,o),o?gl(s,new Ss(kE(),e,i)):[]}function ms(s,e,i=!1){const a=yO(s.pendingWriteTree_,e);if(EO(s.pendingWriteTree_,e)){let c=new xe(null);return a.snap!=null?c=c.set(ye(),!0):Dt(a.children,h=>{c=c.set(new Re(h),!0)}),gl(s,new au(a.path,c,i))}else return[]}function ml(s,e,i){return gl(s,new Ss(ud(),e,i))}function tD(s,e,i){const a=xe.fromObject(i);return gl(s,new tl(ud(),e,a))}function nD(s,e){return gl(s,new el(ud(),e))}function iD(s,e,i){const a=gd(s,i);if(a){const o=_d(a),c=o.path,h=o.queryId,d=Et(c,e),p=new el(cd(h),d);return vd(s,c,p)}else return[]}function XE(s,e,i,a,o=!1){const c=e._path,h=s.syncPointTree_.get(c);let d=[];if(h&&(e._queryIdentifier==="default"||QE(h,e))){const p=$O(h,e,i,a);WO(h)&&(s.syncPointTree_=s.syncPointTree_.remove(c));const m=p.removed;if(d=p.events,!o){const v=m.findIndex(S=>S._queryParams.loadsAllData())!==-1,y=s.syncPointTree_.findOnPath(c,(S,N)=>ji(N));if(v&&!y){const S=s.syncPointTree_.subtree(c);if(!S.isEmpty()){const N=lD(S);for(let R=0;R<N.length;++R){const L=N[R],z=L.query,P=e0(s,L);s.listenProvider_.startListening(Ga(z),nl(s,z),P.hashFn,P.onComplete)}}}!y&&m.length>0&&!a&&(v?s.listenProvider_.stopListening(Ga(e),null):m.forEach(S=>{const N=s.queryToTagMap.get(Cu(S));s.listenProvider_.stopListening(Ga(S),N)}))}oD(s,m)}return d}function $E(s,e,i,a){const o=gd(s,a);if(o!=null){const c=_d(o),h=c.path,d=c.queryId,p=Et(h,e),m=new Ss(cd(d),p,i);return vd(s,h,m)}else return[]}function sD(s,e,i,a){const o=gd(s,a);if(o){const c=_d(o),h=c.path,d=c.queryId,p=Et(h,e),m=xe.fromObject(i),v=new tl(cd(d),p,m);return vd(s,h,v)}else return[]}function rD(s,e,i,a=!1){const o=e._path;let c=null,h=!1;s.syncPointTree_.foreachOnPath(o,(S,N)=>{const R=Et(S,o);c=c||Ui(N,R),h=h||ji(N)});let d=s.syncPointTree_.get(o);d?(h=h||ji(d),c=c||Ui(d,ye())):(d=new FE,s.syncPointTree_=s.syncPointTree_.set(o,d));let p;c!=null?p=!0:(p=!1,c=ee.EMPTY_NODE,s.syncPointTree_.subtree(o).foreachChild((N,R)=>{const L=Ui(R,ye());L&&(c=c.updateImmediateChild(N,L))}));const m=QE(d,e);if(!m&&!e._queryParams.loadsAllData()){const S=Cu(e);j(!s.queryToTagMap.has(S),"View does not exist, but we have a tag");const N=uD();s.queryToTagMap.set(S,N),s.tagToQueryMap.set(N,S)}const v=bu(s.pendingWriteTree_,o);let y=XO(d,e,i,v,c,p);if(!m&&!h&&!a){const S=KE(d,e);y=y.concat(cD(s,e,S))}return y}function md(s,e,i){const o=s.pendingWriteTree_,c=s.syncPointTree_.findOnPath(e,(h,d)=>{const p=Et(h,e),m=Ui(d,p);if(m)return m});return PE(o,e,c,i,!0)}function aD(s,e){const i=e._path;let a=null;s.syncPointTree_.foreachOnPath(i,(m,v)=>{const y=Et(m,i);a=a||Ui(v,y)});let o=s.syncPointTree_.get(i);o?a=a||Ui(o,ye()):(o=new FE,s.syncPointTree_=s.syncPointTree_.set(i,o));const c=a!=null,h=c?new Hi(a,!0,!1):null,d=bu(s.pendingWriteTree_,e._path),p=GE(o,e,d,c?h.getNode():ee.EMPTY_NODE,c);return VO(p)}function gl(s,e){return ZE(e,s.syncPointTree_,null,bu(s.pendingWriteTree_,ye()))}function ZE(s,e,i,a){if(fe(s.path))return JE(s,e,i,a);{const o=e.get(ye());i==null&&o!=null&&(i=Ui(o,ye()));let c=[];const h=he(s.path),d=s.operationForChild(h),p=e.children.get(h);if(p&&d){const m=i?i.getImmediateChild(h):null,v=HE(a,h);c=c.concat(ZE(d,p,m,v))}return o&&(c=c.concat(pd(o,s,a,i))),c}}function JE(s,e,i,a){const o=e.get(ye());i==null&&o!=null&&(i=Ui(o,ye()));let c=[];return e.children.inorderTraversal((h,d)=>{const p=i?i.getImmediateChild(h):null,m=HE(a,h),v=s.operationForChild(h);v&&(c=c.concat(JE(v,d,p,m)))}),o&&(c=c.concat(pd(o,s,a,i))),c}function e0(s,e){const i=e.query,a=nl(s,i);return{hashFn:()=>(qO(e)||ee.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return a?iD(s,i._path,a):nD(s,i._path);{const c=r1(o,i);return XE(s,i,null,c)}}}}function nl(s,e){const i=Cu(e);return s.queryToTagMap.get(i)}function Cu(s){return s._path.toString()+"$"+s._queryIdentifier}function gd(s,e){return s.tagToQueryMap.get(e)}function _d(s){const e=s.indexOf("$");return j(e!==-1&&e<s.length-1,"Bad queryKey."),{queryId:s.substr(e+1),path:new Re(s.substr(0,e))}}function vd(s,e,i){const a=s.syncPointTree_.get(e);j(a,"Missing sync point for query tag that we're tracking");const o=bu(s.pendingWriteTree_,e);return pd(a,i,o,null)}function lD(s){return s.fold((e,i,a)=>{if(i&&ji(i))return[Tu(i)];{let o=[];return i&&(o=YE(i)),Dt(a,(c,h)=>{o=o.concat(h)}),o}})}function Ga(s){return s._queryParams.loadsAllData()&&!s._queryParams.isDefault()?new(JO())(s._repo,s._path):s}function oD(s,e){for(let i=0;i<e.length;++i){const a=e[i];if(!a._queryParams.loadsAllData()){const o=Cu(a),c=s.queryToTagMap.get(o);s.queryToTagMap.delete(o),s.tagToQueryMap.delete(c)}}}function uD(){return eD++}function cD(s,e,i){const a=e._path,o=nl(s,e),c=e0(s,i),h=s.listenProvider_.startListening(Ga(e),o,c.hashFn,c.onComplete),d=s.syncPointTree_.subtree(a);if(o)j(!ji(d.value),"If we're adding a query, it shouldn't be shadowed");else{const p=d.fold((m,v,y)=>{if(!fe(m)&&v&&ji(v))return[Tu(v).query];{let S=[];return v&&(S=S.concat(YE(v).map(N=>N.query))),Dt(y,(N,R)=>{S=S.concat(R)}),S}});for(let m=0;m<p.length;++m){const v=p[m];s.listenProvider_.stopListening(Ga(v),nl(s,v))}}return h}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e){this.node_=e}getImmediateChild(e){const i=this.node_.getImmediateChild(e);return new yd(i)}node(){return this.node_}}class Ed{constructor(e,i){this.syncTree_=e,this.path_=i}getImmediateChild(e){const i=Ze(this.path_,e);return new Ed(this.syncTree_,i)}node(){return md(this.syncTree_,this.path_)}}const fD=function(s){return s=s||{},s.timestamp=s.timestamp||new Date().getTime(),s},Lv=function(s,e,i){if(!s||typeof s!="object")return s;if(j(".sv"in s,"Unexpected leaf node or priority contents"),typeof s[".sv"]=="string")return hD(s[".sv"],e,i);if(typeof s[".sv"]=="object")return dD(s[".sv"],e);j(!1,"Unexpected server value: "+JSON.stringify(s,null,2))},hD=function(s,e,i){switch(s){case"timestamp":return i.timestamp;default:j(!1,"Unexpected server value: "+s)}},dD=function(s,e,i){s.hasOwnProperty("increment")||j(!1,"Unexpected server value: "+JSON.stringify(s,null,2));const a=s.increment;typeof a!="number"&&j(!1,"Unexpected increment value: "+a);const o=e.node();if(j(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return a;const h=o.getValue();return typeof h!="number"?a:h+a},pD=function(s,e,i,a){return Sd(e,new Ed(i,s),a)},t0=function(s,e,i){return Sd(s,new yd(e),i)};function Sd(s,e,i){const a=s.getPriority().val(),o=Lv(a,e.getImmediateChild(".priority"),i);let c;if(s.isLeafNode()){const h=s,d=Lv(h.getValue(),e,i);return d!==h.getValue()||o!==h.getPriority().val()?new rt(d,lt(o)):s}else{const h=s;return c=h,o!==h.getPriority().val()&&(c=c.updatePriority(new rt(o))),h.forEachChild(Be,(d,p)=>{const m=Sd(p,e.getImmediateChild(d),i);m!==p&&(c=c.updateImmediateChild(d,m))}),c}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e="",i=null,a={children:{},childCount:0}){this.name=e,this.parent=i,this.node=a}}function Td(s,e){let i=e instanceof Re?e:new Re(e),a=s,o=he(i);for(;o!==null;){const c=_r(a.node.children,o)||{children:{},childCount:0};a=new bd(o,a,c),i=De(i),o=he(i)}return a}function xr(s){return s.node.value}function n0(s,e){s.node.value=e,Ih(s)}function i0(s){return s.node.childCount>0}function mD(s){return xr(s)===void 0&&!i0(s)}function wu(s,e){Dt(s.node.children,(i,a)=>{e(new bd(i,s,a))})}function s0(s,e,i,a){i&&e(s),wu(s,o=>{s0(o,e,!0)})}function gD(s,e,i){let a=s.parent;for(;a!==null;){if(e(a))return!0;a=a.parent}return!1}function _l(s){return new Re(s.parent===null?s.name:_l(s.parent)+"/"+s.name)}function Ih(s){s.parent!==null&&_D(s.parent,s.name,s)}function _D(s,e,i){const a=mD(i),o=Jn(s.node.children,e);a&&o?(delete s.node.children[e],s.node.childCount--,Ih(s)):!a&&!o&&(s.node.children[e]=i.node,s.node.childCount++,Ih(s))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD=/[\[\].#$\/\u0000-\u001F\u007F]/,yD=/[\[\].#$\u0000-\u001F\u007F]/,oh=10*1024*1024,r0=function(s){return typeof s=="string"&&s.length!==0&&!vD.test(s)},a0=function(s){return typeof s=="string"&&s.length!==0&&!yD.test(s)},ED=function(s){return s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),a0(s)},SD=function(s,e,i,a){Cd(qh(s,"value"),e,i)},Cd=function(s,e,i){const a=i instanceof Re?new P1(i,s):i;if(e===void 0)throw new Error(s+"contains undefined "+ds(a));if(typeof e=="function")throw new Error(s+"contains a function "+ds(a)+" with contents = "+e.toString());if(tE(e))throw new Error(s+"contains "+e.toString()+" "+ds(a));if(typeof e=="string"&&e.length>oh/3&&gu(e)>oh)throw new Error(s+"contains a string greater than "+oh+" utf8 bytes "+ds(a)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let o=!1,c=!1;if(Dt(e,(h,d)=>{if(h===".value")o=!0;else if(h!==".priority"&&h!==".sv"&&(c=!0,!r0(h)))throw new Error(s+" contains an invalid key ("+h+") "+ds(a)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);H1(a,h),Cd(s,d,a),j1(a)}),o&&c)throw new Error(s+' contains ".value" child '+ds(a)+" in addition to actual children.")}},l0=function(s,e,i,a){if(!a0(i))throw new Error(qh(s,e)+'was an invalid path = "'+i+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},bD=function(s,e,i,a){i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),l0(s,e,i)},TD=function(s,e){if(he(e)===".info")throw new Error(s+" failed = Can't modify data under /.info/")},CD=function(s,e){const i=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!r0(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||i.length!==0&&!ED(i))throw new Error(qh(s,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function o0(s,e){let i=null;for(let a=0;a<e.length;a++){const o=e[a],c=o.getPath();i!==null&&!wE(c,i.path)&&(s.eventLists_.push(i),i=null),i===null&&(i={events:[],path:c}),i.events.push(o)}i&&s.eventLists_.push(i)}function En(s,e,i){o0(s,i),RD(s,a=>rn(a,e)||rn(e,a))}function RD(s,e){s.recursionDepth_++;let i=!0;for(let a=0;a<s.eventLists_.length;a++){const o=s.eventLists_[a];if(o){const c=o.path;e(c)?(AD(s.eventLists_[a]),s.eventLists_[a]=null):i=!1}}i&&(s.eventLists_=[]),s.recursionDepth_--}function AD(s){for(let e=0;e<s.events.length;e++){const i=s.events[e];if(i!==null){s.events[e]=null;const a=i.getEventRunner();Ba&&pt("event: "+i.toString()),Ir(a)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND="repo_interrupt",OD=25;class DD{constructor(e,i,a,o){this.repoInfo_=e,this.forceRestClient_=i,this.authTokenProvider_=a,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new wD,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ru(),this.transactionQueueTree_=new bd,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function ID(s,e,i){if(s.stats_=id(s.repoInfo_),s.forceRestClient_||u1())s.server_=new su(s.repoInfo_,(a,o,c,h)=>{Uv(s,a,o,c,h)},s.authTokenProvider_,s.appCheckProvider_),setTimeout(()=>zv(s,!0),0);else{if(typeof i<"u"&&i!==null){if(typeof i!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{$e(i)}catch(a){throw new Error("Invalid authOverride provided: "+a)}}s.persistentConnection_=new Kn(s.repoInfo_,e,(a,o,c,h)=>{Uv(s,a,o,c,h)},a=>{zv(s,a)},a=>{MD(s,a)},s.authTokenProvider_,s.appCheckProvider_,i),s.server_=s.persistentConnection_}s.authTokenProvider_.addTokenChangeListener(a=>{s.server_.refreshAuthToken(a)}),s.appCheckProvider_.addTokenChangeListener(a=>{s.server_.refreshAppCheckToken(a.token)}),s.statsReporter_=p1(s.repoInfo_,()=>new hO(s.stats_,s.server_)),s.infoData_=new lO,s.infoSyncTree_=new kv({startListening:(a,o,c,h)=>{let d=[];const p=s.infoData_.getNode(a._path);return p.isEmpty()||(d=ml(s.infoSyncTree_,a._path,p),setTimeout(()=>{h("ok")},0)),d},stopListening:()=>{}}),Rd(s,"connected",!1),s.serverSyncTree_=new kv({startListening:(a,o,c,h)=>(s.server_.listen(a,c,o,(d,p)=>{const m=h(d,p);En(s.eventQueue_,a._path,m)}),[]),stopListening:(a,o)=>{s.server_.unlisten(a,o)}})}function xD(s){const i=s.infoData_.getNode(new Re(".info/serverTimeOffset")).val()||0;return new Date().getTime()+i}function wd(s){return fD({timestamp:xD(s)})}function Uv(s,e,i,a,o){s.dataUpdateCount++;const c=new Re(e);i=s.interceptServerDataCallback_?s.interceptServerDataCallback_(e,i):i;let h=[];if(o)if(a){const p=Qo(i,m=>lt(m));h=sD(s.serverSyncTree_,c,p,o)}else{const p=lt(i);h=$E(s.serverSyncTree_,c,p,o)}else if(a){const p=Qo(i,m=>lt(m));h=tD(s.serverSyncTree_,c,p)}else{const p=lt(i);h=ml(s.serverSyncTree_,c,p)}let d=c;h.length>0&&(d=Au(s,c)),En(s.eventQueue_,d,h)}function zv(s,e){Rd(s,"connected",e),e===!1&&UD(s)}function MD(s,e){Dt(e,(i,a)=>{Rd(s,i,a)})}function Rd(s,e,i){const a=new Re("/.info/"+e),o=lt(i);s.infoData_.updateSnapshot(a,o);const c=ml(s.infoSyncTree_,a,o);En(s.eventQueue_,a,c)}function u0(s){return s.nextWriteId_++}function kD(s,e,i){const a=aD(s.serverSyncTree_,e);return a!=null?Promise.resolve(a):s.server_.get(e).then(o=>{const c=lt(o).withIndex(e._queryParams.getIndex());rD(s.serverSyncTree_,e,i,!0);let h;if(e._queryParams.loadsAllData())h=ml(s.serverSyncTree_,e._path,c);else{const d=nl(s.serverSyncTree_,e);h=$E(s.serverSyncTree_,e._path,c,d)}return En(s.eventQueue_,e._path,h),XE(s.serverSyncTree_,e,i,null,!0),c},o=>(Ru(s,"get for query "+$e(e)+" failed: "+o),Promise.reject(new Error(o))))}function LD(s,e,i,a,o){Ru(s,"set",{path:e.toString(),value:i,priority:a});const c=wd(s),h=lt(i,a),d=md(s.serverSyncTree_,e),p=t0(h,d,c),m=u0(s),v=WE(s.serverSyncTree_,e,p,m,!0);o0(s.eventQueue_,v),s.server_.put(e.toString(),h.val(!0),(S,N)=>{const R=S==="ok";R||Ot("set at "+e+" failed: "+S);const L=ms(s.serverSyncTree_,m,!R);En(s.eventQueue_,e,L),PD(s,o,S,N)});const y=p0(s,e);Au(s,y),En(s.eventQueue_,y,[])}function UD(s){Ru(s,"onDisconnectEvents");const e=wd(s),i=ru();Rh(s.onDisconnect_,ye(),(o,c)=>{const h=pD(o,c,s.serverSyncTree_,e);ME(i,o,h)});let a=[];Rh(i,ye(),(o,c)=>{a=a.concat(ml(s.serverSyncTree_,o,c));const h=p0(s,o);Au(s,h)}),s.onDisconnect_=ru(),En(s.eventQueue_,ye(),a)}function zD(s){s.persistentConnection_&&s.persistentConnection_.interrupt(ND)}function Ru(s,...e){let i="";s.persistentConnection_&&(i=s.persistentConnection_.id+":"),pt(i,...e)}function PD(s,e,i,a){e&&Ir(()=>{if(i==="ok")e(null);else{const o=(i||"error").toUpperCase();let c=o;a&&(c+=": "+a);const h=new Error(c);h.code=o,e(h)}})}function c0(s,e,i){return md(s.serverSyncTree_,e,i)||ee.EMPTY_NODE}function Ad(s,e=s.transactionQueueTree_){if(e||Nu(s,e),xr(e)){const i=h0(s,e);j(i.length>0,"Sending zero length transaction queue"),i.every(o=>o.status===0)&&HD(s,_l(e),i)}else i0(e)&&wu(e,i=>{Ad(s,i)})}function HD(s,e,i){const a=i.map(m=>m.currentWriteId),o=c0(s,e,a);let c=o;const h=o.hash();for(let m=0;m<i.length;m++){const v=i[m];j(v.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),v.status=1,v.retryCount++;const y=Et(e,v.path);c=c.updateChild(y,v.currentOutputSnapshotRaw)}const d=c.val(!0),p=e;s.server_.put(p.toString(),d,m=>{Ru(s,"transaction put response",{path:p.toString(),status:m});let v=[];if(m==="ok"){const y=[];for(let S=0;S<i.length;S++)i[S].status=2,v=v.concat(ms(s.serverSyncTree_,i[S].currentWriteId)),i[S].onComplete&&y.push(()=>i[S].onComplete(null,!0,i[S].currentOutputSnapshotResolved)),i[S].unwatcher();Nu(s,Td(s.transactionQueueTree_,e)),Ad(s,s.transactionQueueTree_),En(s.eventQueue_,e,v);for(let S=0;S<y.length;S++)Ir(y[S])}else{if(m==="datastale")for(let y=0;y<i.length;y++)i[y].status===3?i[y].status=4:i[y].status=0;else{Ot("transaction at "+p.toString()+" failed: "+m);for(let y=0;y<i.length;y++)i[y].status=4,i[y].abortReason=m}Au(s,e)}},h)}function Au(s,e){const i=f0(s,e),a=_l(i),o=h0(s,i);return jD(s,o,a),a}function jD(s,e,i){if(e.length===0)return;const a=[];let o=[];const h=e.filter(d=>d.status===0).map(d=>d.currentWriteId);for(let d=0;d<e.length;d++){const p=e[d],m=Et(i,p.path);let v=!1,y;if(j(m!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),p.status===4)v=!0,y=p.abortReason,o=o.concat(ms(s.serverSyncTree_,p.currentWriteId,!0));else if(p.status===0)if(p.retryCount>=OD)v=!0,y="maxretry",o=o.concat(ms(s.serverSyncTree_,p.currentWriteId,!0));else{const S=c0(s,p.path,h);p.currentInputSnapshot=S;const N=e[d].update(S.val());if(N!==void 0){Cd("transaction failed: Data returned ",N,p.path);let R=lt(N);typeof N=="object"&&N!=null&&Jn(N,".priority")||(R=R.updatePriority(S.getPriority()));const z=p.currentWriteId,P=wd(s),q=t0(R,S,P);p.currentOutputSnapshotRaw=R,p.currentOutputSnapshotResolved=q,p.currentWriteId=u0(s),h.splice(h.indexOf(z),1),o=o.concat(WE(s.serverSyncTree_,p.path,q,p.currentWriteId,p.applyLocally)),o=o.concat(ms(s.serverSyncTree_,z,!0))}else v=!0,y="nodata",o=o.concat(ms(s.serverSyncTree_,p.currentWriteId,!0))}En(s.eventQueue_,i,o),o=[],v&&(e[d].status=2,function(S){setTimeout(S,Math.floor(0))}(e[d].unwatcher),e[d].onComplete&&(y==="nodata"?a.push(()=>e[d].onComplete(null,!1,e[d].currentInputSnapshot)):a.push(()=>e[d].onComplete(new Error(y),!1,null))))}Nu(s,s.transactionQueueTree_);for(let d=0;d<a.length;d++)Ir(a[d]);Ad(s,s.transactionQueueTree_)}function f0(s,e){let i,a=s.transactionQueueTree_;for(i=he(e);i!==null&&xr(a)===void 0;)a=Td(a,i),e=De(e),i=he(e);return a}function h0(s,e){const i=[];return d0(s,e,i),i.sort((a,o)=>a.order-o.order),i}function d0(s,e,i){const a=xr(e);if(a)for(let o=0;o<a.length;o++)i.push(a[o]);wu(e,o=>{d0(s,o,i)})}function Nu(s,e){const i=xr(e);if(i){let a=0;for(let o=0;o<i.length;o++)i[o].status!==2&&(i[a]=i[o],a++);i.length=a,n0(e,i.length>0?i:void 0)}wu(e,a=>{Nu(s,a)})}function p0(s,e){const i=_l(f0(s,e)),a=Td(s.transactionQueueTree_,e);return gD(a,o=>{uh(s,o)}),uh(s,a),s0(a,o=>{uh(s,o)}),i}function uh(s,e){const i=xr(e);if(i){const a=[];let o=[],c=-1;for(let h=0;h<i.length;h++)i[h].status===3||(i[h].status===1?(j(c===h-1,"All SENT items should be at beginning of queue."),c=h,i[h].status=3,i[h].abortReason="set"):(j(i[h].status===0,"Unexpected transaction status in abort"),i[h].unwatcher(),o=o.concat(ms(s.serverSyncTree_,i[h].currentWriteId,!0)),i[h].onComplete&&a.push(i[h].onComplete.bind(null,new Error("set"),!1,null))));c===-1?n0(e,void 0):i.length=c+1,En(s.eventQueue_,_l(e),o);for(let h=0;h<a.length;h++)Ir(a[h])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BD(s){let e="";const i=s.split("/");for(let a=0;a<i.length;a++)if(i[a].length>0){let o=i[a];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}e+="/"+o}return e}function qD(s){const e={};s.charAt(0)==="?"&&(s=s.substring(1));for(const i of s.split("&")){if(i.length===0)continue;const a=i.split("=");a.length===2?e[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):Ot(`Invalid query segment '${i}' in query '${s}'`)}return e}const Pv=function(s,e){const i=VD(s),a=i.namespace;i.domain==="firebase.com"&&Xn(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!a||a==="undefined")&&i.domain!=="localhost"&&Xn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||e1();const o=i.scheme==="ws"||i.scheme==="wss";return{repoInfo:new dE(i.host,i.secure,a,o,e,"",a!==i.subdomain),path:new Re(i.pathString)}},VD=function(s){let e="",i="",a="",o="",c="",h=!0,d="https",p=443;if(typeof s=="string"){let m=s.indexOf("//");m>=0&&(d=s.substring(0,m-1),s=s.substring(m+2));let v=s.indexOf("/");v===-1&&(v=s.length);let y=s.indexOf("?");y===-1&&(y=s.length),e=s.substring(0,Math.min(v,y)),v<y&&(o=BD(s.substring(v,y)));const S=qD(s.substring(Math.min(s.length,y)));m=e.indexOf(":"),m>=0?(h=d==="https"||d==="wss",p=parseInt(e.substring(m+1),10)):m=e.length;const N=e.slice(0,m);if(N.toLowerCase()==="localhost")i="localhost";else if(N.split(".").length<=2)i=N;else{const R=e.indexOf(".");a=e.substring(0,R).toLowerCase(),i=e.substring(R+1),c=a}"ns"in S&&(c=S.ns)}return{host:e,port:p,domain:i,subdomain:a,secure:h,scheme:d,pathString:o,namespace:c}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e,i,a,o){this.eventType=e,this.eventRegistration=i,this.snapshot=a,this.prevName=o}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+$e(this.snapshot.exportVal())}}class GD{constructor(e,i,a){this.eventRegistration=e,this.error=i,this.path=a}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e,i){this.snapshotCallback=e,this.cancelCallback=i}onValue(e,i){this.snapshotCallback.call(null,e,i)}onCancel(e){return j(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,i,a,o){this._repo=e,this._path=i,this._queryParams=a,this._orderByCalled=o}get key(){return fe(this._path)?null:bE(this._path)}get ref(){return new ti(this._repo,this._path)}get _queryIdentifier(){const e=Tv(this._queryParams),i=td(e);return i==="{}"?"default":i}get _queryObject(){return Tv(this._queryParams)}isEqual(e){if(e=mt(e),!(e instanceof Nd))return!1;const i=this._repo===e._repo,a=wE(this._path,e._path),o=this._queryIdentifier===e._queryIdentifier;return i&&a&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+z1(this._path)}}class ti extends Nd{constructor(e,i){super(e,i,new od,!1)}get parent(){const e=CE(this._path);return e===null?null:new ti(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class il{constructor(e,i,a){this._node=e,this.ref=i,this._index=a}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const i=new Re(e),a=$n(this.ref,e);return new il(this._node.getChild(i),a,Be)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(a,o)=>e(new il(o,$n(this.ref,a),Be)))}hasChild(e){const i=new Re(e);return!this._node.getChild(i).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function $t(s,e){return s=mt(s),s._checkNotDeleted("ref"),e!==void 0?$n(s._root,e):s._root}function $n(s,e){return s=mt(s),he(s._path)===null?bD("child","path",e):l0("child","path",e),new ti(s._repo,Ze(s._path,e))}function Tr(s,e){s=mt(s),TD("set",s._path),SD("set",e,s._path);const i=new mu;return LD(s._repo,s._path,e,null,i.wrapCallback(()=>{})),i.promise}function Cr(s){s=mt(s);const e=new YD(()=>{}),i=new Od(e);return kD(s._repo,s,i).then(a=>new il(a,new ti(s._repo,s._path),s._queryParams.getIndex()))}class Od{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,i){const a=i._queryParams.getIndex();return new FD("value",this,new il(e.snapshotNode,new ti(i._repo,i._path),a))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,i){return this.callbackContext.hasCancelCallback?new GD(this,e,i):null}matches(e){return e instanceof Od?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}KO(ti);ZO(ti);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD="FIREBASE_DATABASE_EMULATOR_HOST",xh={};let QD=!1;function WD(s,e,i,a){s.repoInfo_=new dE(e,!1,s.repoInfo_.namespace,s.repoInfo_.webSocketOnly,s.repoInfo_.nodeAdmin,s.repoInfo_.persistenceKey,s.repoInfo_.includeNamespaceInQueryParams,!0,i),a&&(s.authTokenProvider_=a)}function XD(s,e,i,a,o){let c=a||s.options.databaseURL;c===void 0&&(s.options.projectId||Xn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),pt("Using default host for project ",s.options.projectId),c=`${s.options.projectId}-default-rtdb.firebaseio.com`);let h=Pv(c,o),d=h.repoInfo,p;typeof process<"u"&&rv&&(p=rv[KD]),p?(c=`http://${p}?ns=${d.namespace}`,h=Pv(c,o),d=h.repoInfo):h.repoInfo.secure;const m=new f1(s.name,s.options,e);CD("Invalid Firebase Database URL",h),fe(h.path)||Xn("Database URL must point to the root of a Firebase Database (not including a child path).");const v=ZD(d,s,m,new c1(s,i));return new JD(v,s)}function $D(s,e){const i=xh[e];(!i||i[s.key]!==s)&&Xn(`Database ${e}(${s.repoInfo_}) has already been deleted.`),zD(s),delete i[s.key]}function ZD(s,e,i,a){let o=xh[e.name];o||(o={},xh[e.name]=o);let c=o[s.toURLString()];return c&&Xn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),c=new DD(s,QD,i,a),o[s.toURLString()]=c,c}class JD{constructor(e,i){this._repoInternal=e,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(ID(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ti(this._repo,ye())),this._rootInternal}_delete(){return this._rootInternal!==null&&($D(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Xn("Cannot call "+e+" on a deleted database.")}}function eI(s=py(),e){const i=Gh(s,"database").getImmediate({identifier:e});if(!i._instanceStarted){const a=sw("database");a&&tI(i,...a)}return i}function tI(s,e,i,a={}){s=mt(s),s._checkNotDeleted("useEmulator");const o=`${e}:${i}`,c=s._repoInternal;if(s._instanceStarted){if(o===s._repoInternal.repoInfo_.host&&gs(a,c.repoInfo_.emulatorOptions))return;Xn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let h;if(c.repoInfo_.nodeAdmin)a.mockUserToken&&Xn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),h=new Vo(Vo.OWNER);else if(a.mockUserToken){const d=typeof a.mockUserToken=="string"?a.mockUserToken:rw(a.mockUserToken,s.app.options.projectId);h=new Vo(d)}WD(c,o,a,h)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nI(s){QN(Nr),vr(new _s("database",(e,{instanceIdentifier:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),c=e.getProvider("app-check-internal");return XD(a,o,c,i)},"PUBLIC").setMultipleInstances(!0)),ki(av,lv,s),ki(av,lv,"esm2017")}Kn.prototype.simpleListen=function(s,e){this.sendRequest("q",{p:s},e)};Kn.prototype.echo=function(s,e){this.sendRequest("echo",{d:s},e)};nI();const m0=dy({apiKey:"AIzaSyDJrIzwUd7FIeCGGDRPUup-2kFgBK3At6o",authDomain:"desktopnews-f7f75.firebaseapp.com",databaseURL:"https://desktopnews-f7f75-default-rtdb.firebaseio.com",projectId:"desktopnews-f7f75",storageBucket:"desktopnews-f7f75.firebasestorage.app",messagingSenderId:"428006552543",appId:"1:428006552543:web:58c38b20f6980e38efca6a"}),At=YN(m0),Zt=eI(m0);function ch(){const[s,e]=I.useState(null);I.useEffect(()=>{const a=At.onAuthStateChanged(o=>{i()});return()=>a()},[]);const i=async()=>{await Cr($n($t(Zt),"application-news/")).then(a=>{e(a.val())})};return s===null?w.jsx("h2",{className:Wf.titleForm,children:"Загрузка ..."}):w.jsxs("div",{className:Wf.homeNews,children:[w.jsx(O_,{isMinCardNews:!1,dataNews:s[0]}),w.jsx("div",{className:Wf.containerNews,children:s.slice(1).map((a,o)=>w.jsx(O_,{isMinCardNews:!0,dataNews:a},o))})]})}const iI="_form_1ycz8_1",sI="_label_1ycz8_15",rI="_input_1ycz8_23",aI="_changeForm_1ycz8_55",lI="_submit_1ycz8_83",oI="_titleForm_1ycz8_97",uI="_errorMessage_1ycz8_111",ke={form:iI,label:sI,input:rI,changeForm:aI,submit:lI,titleForm:oI,errorMessage:uI},cI="_h1_g2t8k_1",fI="_article_g2t8k_11",hI="_section_g2t8k_39",dI="_optionProfile_g2t8k_59",pI="_userImage_g2t8k_91",mI="_titleForm_g2t8k_105",gI="_aboutRights_g2t8k_119",_I="_underlinePopupWindow_g2t8k_131",st={h1:cI,article:fI,section:hI,optionProfile:dI,userImage:pI,titleForm:mI,aboutRights:gI,underlinePopupWindow:_I};function vI({accountData:s}){const[e,i]=I.useState(null);I.useEffect(()=>{const m=At.onAuthStateChanged(v=>{c()});return()=>{m()}},[]);const a=async()=>{await kA(At).then(()=>location.reload())},o=async()=>{await Tr($t(Zt,"users/"+At.currentUser.uid),null),await Tr($t(Zt,"news-under-consideration/"+At.currentUser.uid),null),await LA(At.currentUser)},c=async()=>{await Cr($n($t(Zt),`users/${At.currentUser.uid}`)).then(m=>{m.exists()&&i(m.val())})},h=m=>{m.target.style.display="none"},d=m=>{document.querySelector("#aboutRights").style.display="block"},p=m=>{document.querySelector("#aboutRights").style.display="none"};return e===null?w.jsx("h2",{className:st.titleForm,children:"Загрузка ..."}):w.jsxs(w.Fragment,{children:[w.jsxs("h1",{className:st.h1,children:["Добро пожаловать, ",w.jsx("strong",{children:s.displayName}),"!"]}),w.jsx("img",{className:st.userImage,src:s.userImage,alt:"imageUser",onError:h}),w.jsxs("article",{className:st.article,children:[w.jsx("h3",{children:"Данные профиля:"}),w.jsxs("section",{className:st.section,children:[w.jsxs("p",{children:["ID: ",w.jsx("strong",{children:s.localId.slice(0,6)})]}),w.jsxs("p",{children:["Псевдоним: ",w.jsx("strong",{children:s.displayName})]}),w.jsxs("p",{children:["Почта:  ",w.jsx("strong",{children:s.email})]}),w.jsxs("p",{children:["Возраст:  ",w.jsx("strong",{children:e.age})]}),w.jsxs("p",{children:["Зашифрованный пароль: ",w.jsx("strong",{children:s.passwordHash})]}),w.jsxs("p",{className:st.underlinePopupWindow,onMouseEnter:d,onMouseLeave:p,children:["Авторские права:",w.jsx("strong",{children:e.role=="author"?" Присутствуют":" Отсутствуют"})]}),w.jsxs("p",{className:st.underlinePopupWindow,onMouseEnter:d,onMouseLeave:p,children:["Права администратора:",w.jsx("strong",{children:e.role=="admin"?" Присутствуют":" Отсутствуют"})]}),w.jsx("p",{className:st.aboutRights,id:"aboutRights",children:"Чтобы получить права, свяжитесь с администратором сервиса. В сообщении укажите ваш ID и опишите мотивацию получение прав."})]})]}),w.jsxs("article",{className:st.article,children:[w.jsx("h3",{children:"Опции:"}),w.jsxs("section",{className:st.section,children:[e.role=="admin"?w.jsx(Go,{to:"../adminPanel",className:st.optionProfile,children:"Открыть админ панель"}):void 0,e.role=="author"?w.jsx(Go,{to:"../createNews",className:st.optionProfile,children:"Написать новостную статью"}):void 0,w.jsx("a",{className:st.optionProfile,href:"#/account",onClick:o,children:"Удалить аккаунт"}),w.jsx("a",{className:st.optionProfile,href:"#/account",onClick:a,children:"Выйти из профиля"})]})]}),w.jsxs("article",{className:st.article,children:[w.jsx("h3",{children:"Контакты администрации:"}),w.jsxs("section",{className:st.section,children:[w.jsxs("p",{children:["Почта:",w.jsx("a",{className:st.optionProfile,href:"mailto:denkalmy@gmail.com",target:"blank",children:"denkalmy@gmail.com"})]}),w.jsxs("p",{children:["Телеграм: ",w.jsx("a",{className:st.optionProfile,href:"https://web.telegram.org/k/#@Zlis77",target:"blank",children:"@Zlis77"})]})]})]})]})}function yI(){const[s,e]=I.useState(!0),[i,a]=I.useState(""),[o,c]=I.useState(null),[h,d]=I.useState(!0),[p,m]=I.useState({name:"",email:"",age:"",password:"",password2:"",photoURL:""});I.useEffect(()=>{const q=At.onAuthStateChanged(B=>{c(B),d(!1)});return()=>{q()}},[]);const v=()=>{a(""),e(!s)},y=q=>{const{name:B,value:de}=q.target;m({...p,[B]:de})},S=async q=>{q.preventDefault(),a(""),await OA(At,p.email,p.password).then(()=>window.location.reload()).catch(B=>a(B.message))},N=async q=>{if(q.preventDefault(),p.password!=p.password2){a("Пароли не совпадают!");return}else a("");await NA(At,p.email,p.password).then(B=>{IA(B.user,{displayName:p.name,photoURL:p.photoURL}),Tr($t(Zt,"users/"+B.user.uid),{role:"user",age:p.age})}).catch(B=>a(B.message))},R=()=>w.jsxs("form",{className:ke.form,onSubmit:S,children:[w.jsx("label",{className:ke.label,children:"Почта:"}),w.jsx("input",{className:ke.input,onChange:y,name:"email",type:"email",required:!0}),w.jsx("label",{className:ke.label,children:"Пароль:"}),w.jsx("input",{className:ke.input,onChange:y,name:"password",type:"password",minLength:8,maxLength:30,required:!0}),w.jsx("button",{className:ke.submit,type:"submit",children:"Войти"})]}),L=()=>w.jsxs("form",{className:ke.form,onSubmit:N,children:[w.jsx("label",{className:ke.label,htmlFor:"name",children:"Псевдоним:"}),w.jsx("input",{className:ke.input,onChange:y,name:"name",type:"text",minLength:8,maxLength:15,required:!0}),w.jsx("label",{className:ke.label,htmlFor:"email",children:"Почта:"}),w.jsx("input",{className:ke.input,onChange:y,name:"email",type:"email",required:!0}),w.jsx("label",{className:ke.label,htmlFor:"age",children:"Полных лет:"}),w.jsx("input",{className:ke.input,onChange:y,name:"age",type:"number",min:18,max:90,required:!0}),w.jsx("label",{className:ke.label,htmlFor:"password",children:"Пароль:"}),w.jsx("input",{className:ke.input,onChange:y,name:"password",type:"password",minLength:8,maxLength:30,required:!0}),w.jsx("label",{className:ke.label,htmlFor:"password2",children:"Повторите пароль:"}),w.jsx("input",{className:ke.input,onChange:y,name:"password2",type:"password",minLength:8,maxLength:30,required:!0}),w.jsx("label",{className:ke.label,htmlFor:"photoURL",children:"URL фото профиля:"}),w.jsx("input",{className:ke.input,onChange:y,name:"photoURL",type:"text",required:!0}),w.jsx("button",{className:ke.submit,type:"submit",children:"Зарегистрироваться"})]}),z=()=>{const q={displayName:o.displayName,userImage:o.photoURL,...o.reloadUserInfo};return w.jsx(vI,{accountData:q})},P=()=>w.jsxs(w.Fragment,{children:[w.jsx("button",{onClick:v,className:ke.changeForm,children:s?"---Регистрация---":"---Вход---"}),w.jsx("h2",{className:ke.titleForm,children:s?"Вход":"Регистрация"}),s?R():L(),i.length>0?w.jsx("p",{className:ke.errorMessage,children:i}):void 0]});return h?w.jsx("h2",{className:ke.titleForm,children:"Загрузка ..."}):w.jsx(w.Fragment,{children:o?z():P()})}const EI="_form_mroos_1",SI="_label_mroos_17",bI="_input_mroos_25",TI="_inputBig_mroos_49",CI="_submit_mroos_81",wI="_message_mroos_95",RI="_badMessage_mroos_107",AI="_titleForm_mroos_119",Rt={form:EI,label:SI,input:bI,inputBig:TI,submit:CI,message:wI,badMessage:RI,titleForm:AI};function NI(){const[s,e]=I.useState(""),[i,a]=I.useState(null);I.useEffect(()=>{const d=At.onAuthStateChanged(p=>{p?c(p.uid):e("Доступ запрещен!")});return()=>d()},[]);const o=d=>{const{name:p,value:m}=d.target;a({...i,[p]:m})},c=async d=>{await Cr($n($t(Zt),"news-under-consideration/"+d)).then(p=>{p.exists()?a(p.val()):a({title:"",urlImage:"",content:""})})},h=async d=>{d.preventDefault(),await Tr($t(Zt,"news-under-consideration/"+At.currentUser.uid),{...i,dataLastChange:new Date().toDateString(),isShow:"none"}).then(()=>e("Статья была успешно отправленна на рассмотрение администрации!")).catch(p=>e(p))};return i?w.jsxs("form",{className:Rt.form,onSubmit:h,children:[w.jsx("label",{className:Rt.label,htmlFor:"title",children:"Заголовок:"}),w.jsx("input",{className:Rt.input,onChange:o,value:i.title,name:"title",type:"text",minLength:30,maxLength:70,required:!0}),w.jsx("label",{className:Rt.label,htmlFor:"urlImage",children:"URL фото новости:"}),w.jsx("input",{className:Rt.input,onChange:o,value:i.urlImage,name:"urlImage",type:"text",required:!0}),w.jsx("label",{className:Rt.label,htmlFor:"content",children:"Содержание:"}),w.jsx("textarea",{className:`${Rt.input} ${Rt.inputBig}`,onChange:o,value:i.content,name:"content",type:"text",minLength:600,maxLength:4e3,required:!0}),w.jsx("button",{className:Rt.submit,type:"submit",children:"Отправить на рассмотрение"}),s.length>0?w.jsx("p",{className:Rt.message,children:"Ваша статья в списке на рассмотрении, ожидайте ответа..."}):i.isShow==="none"?w.jsx("p",{className:Rt.message,children:"Ваша статья в списке на рассмотрении, ожидайте ответа..."}):i.isShow==="true"?w.jsx("p",{className:Rt.message,children:"Ваша статья была опубликована, спасибо!"}):i.isShow==="false"?w.jsx("p",{className:Rt.badMessage,children:"Ваша статья была отклонена"}):void 0]}):w.jsx("h2",{className:Rt.titleForm,children:"Загрузка ..."})}const OI="_h1_1jnil_1",DI="_titleForm_1jnil_9",II="_optionProfile_1jnil_23",xI="_horizontal_1jnil_53",MI="_panelUser_1jnil_63",kI="_panelNews_1jnil_81",fs={h1:OI,titleForm:DI,optionProfile:II,horizontal:xI,panelUser:MI,panelNews:kI},LI="_h3_zhyx3_1",UI="_userImage_zhyx3_9",zI="_article_zhyx3_23",PI="_articleNews_zhyx3_41",HI="_section_zhyx3_59",jI="_p_zhyx3_67",BI="_pNews_zhyx3_75",qI="_optionProfile_zhyx3_95",Te={h3:LI,userImage:UI,article:zI,articleNews:PI,section:HI,p:jI,pNews:BI,optionProfile:qI};function Hv({newsData:s,userData:e}){const[i,a]=I.useState(null);I.useEffect(()=>{const v=At.onAuthStateChanged(y=>{o()});return()=>{v()}},[]);const o=async()=>{await Cr($n($t(Zt),`users/${e.uid}`)).then(v=>{v.exists()&&a(v.val())})},c=async(v,y,S)=>{v.target.onClick=()=>{},fetch("https://simple-api-news.vercel.app/disabelUserByID",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({apiKey:"7dbd6be92a7faeebcc1395f9f8c5d19dc77c8340",uid:y,disabled:S})}).then(()=>v.target.style.color="#69b46d").catch(()=>v.target.style.color="#b46969")},h=async(v,y,S,N)=>{v.target.onClick=()=>{},fetch("https://simple-api-news.vercel.app/updateUserByID",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({apiKey:"7dbd6be92a7faeebcc1395f9f8c5d19dc77c8340",uid:y,age:S,role:N})}).then(()=>v.target.style.color="#69b46d").catch(()=>v.target.style.color="#b46969")},d=async(v,y,S)=>{v.target.onClick=()=>{},v.target.style.color="#69b46d";const N=y[0],R=y[1];if(await Tr($t(Zt,"news-under-consideration/"+N),{content:R.content,dataLastChange:R.dataLastChange,isShow:S,title:R.title,urlImage:R.urlImage}).catch(()=>v.target.style.color="#b46969"),S==="false")return;let L=[];await fetch(`https://simple-api-news.vercel.app/getNameAndPhotoUserByID?uid=${N}&apiKey=7dbd6be92a7faeebcc1395f9f8c5d19dc77c8340`,{method:"GET"}).then(P=>P.json()).then(P=>{L=[P.userName,P.photoURL]}).catch(()=>v.target.style.color="#b46969");let z=0;await Cr($n($t(Zt),"application-news/")).then(P=>{z=Object.keys(P.val()).length}).catch(()=>v.target.style.color="#b46969"),await Tr($t(Zt,"application-news/"+z),{content:R.content,dataLastChange:R.dataLastChange,title:R.title,urlImage:R.urlImage,authorName:L[0],authorImage:L[1]}).catch(()=>v.target.style.color="#b46969")},p=()=>i===null?w.jsx("article",{className:Te.article,children:w.jsx("h3",{className:Te.h3,children:"Загрузка..."})}):w.jsxs("article",{className:Te.article,children:[w.jsx("h3",{className:Te.h3,children:e.uid}),w.jsxs("section",{className:Te.section,children:[w.jsx("img",{src:e.photoURL,className:Te.userImage}),w.jsxs("p",{className:Te.p,children:["Псевдоним - ",e.displayName]}),w.jsxs("p",{className:Te.p,children:["Почта - ",e.email]}),w.jsxs("p",{className:Te.p,children:["Заблокирован - ",e.disabled?"Да":"Нет"]}),w.jsxs("p",{className:Te.p,children:["Полных лет - ",i.age]}),w.jsxs("p",{className:Te.p,children:["Роль - ",i.role]})]}),w.jsxs("section",{className:Te.section,children:[w.jsx("h3",{className:Te.h3,children:"Опции:"}),w.jsxs("section",{children:[w.jsx("a",{className:Te.optionProfile,onClick:v=>{c(v,e.uid,!e.disabled)},children:"Заблокировать/Разблокировать"}),w.jsx("a",{className:Te.optionProfile,onClick:v=>{h(v,e.uid,i.age,"user")},children:"Выдать права пользователя"}),w.jsx("a",{className:Te.optionProfile,onClick:v=>{h(v,e.uid,i.age,"author")},children:"Выдать авторские права"}),w.jsx("a",{className:Te.optionProfile,onClick:v=>{h(v,e.uid,i.age,"admin")},children:"Выдать права администратора"})]})]})]}),m=()=>{const v=s[0],y=s[1];return w.jsxs("article",{className:Te.articleNews,children:[w.jsxs("h3",{className:Te.h3,children:["ID Автора - ",v]}),w.jsxs("section",{className:Te.section,children:[w.jsx("img",{src:y.urlImage,className:Te.userImage}),w.jsxs("p",{className:Te.p,children:["Заголовок - ",y.title]}),w.jsx("p",{className:Te.pNews,children:y.content}),w.jsxs("p",{className:Te.p,children:["Дата последнего изменения - ",y.dataLastChange]})]}),w.jsxs("section",{className:Te.section,children:[w.jsx("h3",{className:Te.h3,children:"Опции:"}),w.jsxs("section",{children:[w.jsx("a",{className:Te.optionProfile,onClick:S=>{d(S,s,"true")},children:"Опубликовать"}),w.jsx("a",{className:Te.optionProfile,onClick:S=>{d(S,s,"false")},children:"Отклонить"})]})]})]})};return w.jsx(w.Fragment,{children:s===null?p():m()})}function VI(){const[s,e]=I.useState(null),[i,a]=I.useState(null),[o,c]=I.useState(!0),[h,d]=I.useState(!0),[p,m]=I.useState(1);I.useEffect(()=>{const R=At.onAuthStateChanged(L=>{L&&L.disabled===!1?window.location.href="#/account":v(p)});return document.querySelector("#user").style.borderBottom="1px solid #9cadc2",()=>R()},[]);const v=async R=>{await fetch(`http://simple-api-news.vercel.app/listAllUsersByPageNumber?apiKey=7dbd6be92a7faeebcc1395f9f8c5d19dc77c8340&page=${R}`).then(L=>L.json()).then(L=>{e(L.listAllUsers),d(!1)})},y=async()=>{await Cr($n($t(Zt),"news-under-consideration")).then(R=>{R.exists()&&a(Object.entries(R.val()))}).then(()=>d(!1))},S=()=>((s===null&&o===!0||i===null&&o===!1)&&d(!0),o?w.jsx("div",{className:fs.panelUser,children:s.map((R,L)=>w.jsx(Hv,{newsData:null,userData:R},L))}):w.jsx("div",{className:fs.panelNews,children:i.filter(R=>R[1].isShow==="none").map((R,L)=>w.jsx(Hv,{newsData:R,userData:null},L))})),N=async R=>{R?(document.querySelector("#user").style.borderBottom="1px solid #9cadc2",document.querySelector("#news").style.border="none"):(document.querySelector("#news").style.borderBottom="1px solid #9cadc2",document.querySelector("#user").style.border="none"),d(!0),c(R),R?await v(p):await y()};return w.jsxs(w.Fragment,{children:[w.jsx("h1",{className:fs.h1,children:"Панель администратора"}),w.jsxs("div",{className:fs.horizontal,children:[w.jsx("a",{className:fs.optionProfile,id:"user",onClick:()=>N(!0),children:"Пользователи системы"}),w.jsx("a",{className:fs.optionProfile,id:"news",onClick:()=>N(!1),children:"Предложенные новости"})]}),w.jsx("div",{children:h?w.jsx("h2",{className:fs.titleForm,children:"Загрузка ..."}):S()})]})}const FI="_titleForm_u06yl_1",GI={titleForm:FI};function YI(){return w.jsx(w.Fragment,{children:w.jsx("h2",{className:GI.titleForm,children:"Страница не найдена"})})}function KI(){return w.jsx(w.Fragment,{children:w.jsxs(oC,{children:[w.jsx(DC,{}),w.jsx("main",{children:w.jsxs(PT,{children:[w.jsx(Ai,{path:"",element:w.jsx(ch,{})}),w.jsx(Ai,{path:"homeAll",element:w.jsx(ch,{})}),w.jsx(Ai,{path:"homeApp",element:w.jsx(ch,{})}),w.jsx(Ai,{path:"account",element:w.jsx(yI,{})}),w.jsx(Ai,{path:"createNews",element:w.jsx(NI,{})}),w.jsx(Ai,{path:"adminPanel",element:w.jsx(VI,{})}),w.jsx(Ai,{path:"*",element:w.jsx(YI,{})})]})})]})})}Kb.createRoot(document.getElementById("root")).render(w.jsx(I.StrictMode,{children:w.jsx(KI,{})}));
